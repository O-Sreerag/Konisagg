function addModalEvent(t){window.addEventListener("resize",(function(t){LytePopup._lyteModalRTId&&(clearTimeout(LytePopup._lyteModalRTId),LytePopup._lyteModalRTId=!1),LytePopup._lyteModalRTId=setTimeout((function(){for(var t=0;t<LytePopup.components.length;t++)if(LytePopup.components[t].$node&&"LYTE-MODAL"==LytePopup.components[t].$node.nodeName&&"visible"==LytePopup.components[t].childComp.style.visibility&&LytePopup.components[t].childComp.querySelector(".lyteModal"))if(LytePopup.components[t].$node.component.setData("resizeCalled",!0),""==LytePopup.components[t].getData("ltPropParentModalId")&&""!=LytePopup.components[t].getData("ltPropDependentModalId"))LytePopup.components[t].$node.component.updateScrollHandling();else if(""==LytePopup.components[t].getData("ltPropParentModalId")&&""==LytePopup.components[t].getData("ltPropDependentModalId")){if(t==LytePopup.components.length-1&&LytePopup.components[t].renderSidewise)continue;LytePopup.components[t].$node.component.updateScrollHandling()}LytePopup._lyteModalRTId=!1}),100)}),!0),document.addEventListener("click",(function(t){for(var e=t.target;!$L(e).hasClass("modalWrapper")&&"LYTE-MODAL-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-MODAL-FREEZE"==e.tagName){for(var a=LytePopup.components.length-1;a>=0;a--)if("LYTE-MODAL"==LytePopup.components[a].$node.tagName&&"visible"==LytePopup.components[a].childComp.style.visibility){var i=!0;if((o=LytePopup.components[a].$node).component.getData("ltPropAllowContainment")&&"HTML"===e.tagName&&(i=!1),o&&o.component.getData("ltPropOverlayClose")&&i){o.ltProp("show",!1);break}}}else if(e.classList.contains("modalWrapper")&&LytePopup.components.length>1&&"LYTE-MODAL"==LytePopup.components[LytePopup.components.length-1].$node.tagName){var o;i=!0,(o=LytePopup.components[LytePopup.components.length-1]).getData("ltPropAllowContainment")&&"HTML"===e.tagName&&(i=!1),!o.childComp.contains(e)&&"visible"==o.childComp.style.visibility&&o.getData("ltPropOverlayClose")&&i&&o.$node.ltProp("show",!1)}}),!0)}store.registerModel("organisation",{id:Lyte.attr("number",{primaryKey:!0}),alias:Lyte.attr("string",{maxLength:50}),city:Lyte.attr("string",{maxLength:50}),company_name:Lyte.attr("string",{mandatory:!0,maxLength:100}),country:Lyte.attr("string",{maxLength:50}),country_code:Lyte.attr("string"),currency_locale:Lyte.attr("string",{pattern:Lyte.patterns.usercountrylocale}),currency_symbol:Lyte.attr("string"),description:Lyte.attr("string",{maxLength:65535,default:""}),mode:Lyte.attr("number",{pattern:Lyte.patterns.editormode}),employee_count:Lyte.attr("number",{pattern:Lyte.patterns.numeric}),ezgid:Lyte.attr("string",{pattern:Lyte.patterns.numeric}),fax:Lyte.attr("string",{maxLength:200}),mobile:Lyte.attr("string",{maxLength:30,default:""}),phone:Lyte.attr("string",{maxLength:30}),primary_email:Lyte.attr("string",{mandatory:!0}),primary_zuid:Lyte.attr("number",{pattern:Lyte.patterns.numeric}),state:Lyte.attr("string",{maxLength:50}),street:Lyte.attr("string",{maxLength:200}),time_zone:Lyte.attr("string",{mandatory:!0,pattern:Lyte.patterns.usertimezone}),website:Lyte.attr("string",{pattern:Lyte.patterns.website_url,mandatory:!0,maxLength:50}),zgid:Lyte.attr("number",{pattern:Lyte.patterns.numeric}),zip:Lyte.attr("string",{maxLength:20}),filename:Lyte.attr("string",{maxLength:150}),fileid:Lyte.attr("string",{pattern:Lyte.patterns.fileid}),favicon_fileid:Lyte.attr("string",{pattern:Lyte.patterns.fileid}),portal_name:Lyte.attr("string",{validation:"checkPortalName",default:""}),brand_details:Lyte.attr("string",{maxLength:250,default:"#6875E2",pattern:Lyte.patterns.hexcolor}),type:Lyte.attr("string",{pattern:/(internal|staffing)/}),public_description:Lyte.attr("boolean")}),store.registerSerializer("organisation",{normalizeResponse:function(t,e,a){return"updateRecord"===e&&(a.organisation=a.organisation[0]),"findAll"===e&&(a.organisation=a.org[0]),a},serialize:function(t,e,a,i){var o=e.organisation;void 0!==i&&void 0!==i.vaildate&&(o.vaildate=i.vaildate);var r=[];return r.push(o),e.organisation=r,e}}),store.registerAdapter("organisation",{buildURL:function(t,e,a,i,o,r){var n="/"+this.$super.namespace+"/";return"organisation"===t?n+"org":t}}).extends("application"),store.registerModel("Assessments",{id:Lyte.attr("string",{primaryKey:!0,pattern:Lyte.patterns.numeric}),name:Lyte.attr("string",{mandatory:!0,maxLength:250}),category:Lyte.attr("string",{mandatory:!0}),type:Lyte.attr("string",{mandatory:!0}),description:Lyte.attr("string",{maxLength:6e3}),ratingtype:Lyte.attr("string",{mandatory:!0,maxLength:250}),questions:Lyte.hasMany("question",{serialize:"record"})}),store.registerSerializer("Assessments",{normalizeResponse:function(t,e,a,i){return"updateRecord"===e&&a&&a.Assessments&&a.Assessments.length>0&&(a={Assessments:a.Assessments[0]}),a}}),store.registerAdapter("Assessments",{buildURL:function(t,e,a,i,o,r,n,s){return n&&n.portal?(o=o.replace(t+"/"+s,"public/"+moduleApiMapping.Potentials+"/"+n.jobId))+"/assessment/"+s:o}}).extends("application"),store.registerModel("question",{id:Lyte.attr("string",{primaryKey:!0,pattern:Lyte.patterns.numeric}),question:Lyte.attr("string",{mandatory:!0,maxLength:6e3}),hint:Lyte.attr("string",{maxLength:2e3}),ismandatory:Lyte.attr("boolean",{default:!1}),type:Lyte.attr("number",{minimum:1,maximum:6,mandatory:!0}),sequence:Lyte.attr("number"),sectionname:Lyte.attr("string",{maxLength:250,mandatory:!0}),mintoscore:Lyte.attr("number"),options:Lyte.hasMany("option",{serialize:"record"}),assessment:Lyte.belongsTo("Assessments"),is_unassociate:Lyte.attr("boolean",{default:!1})}),store.registerModel("option",{id:Lyte.attr("string",{primaryKey:!0,pattern:Lyte.patterns.numeric}),value:Lyte.attr("string",{mandatory:!0,maxLength:250}),weight:Lyte.attr("number",{minimum:0,maximum:10}),sequence:Lyte.attr("number"),question:Lyte.belongsTo("question")}),store.registerModel("Submissions",{id:Lyte.attr("string",{primaryKey:!0,pattern:Lyte.patterns.numeric}),entity:Lyte.attr("object",{mandatory:!0}),entitytype:Lyte.attr("string",{mandatory:!0}),relatedentity:Lyte.attr("object"),relatedtype:Lyte.attr("string"),assessmententity:Lyte.attr("object"),reviewtime:Lyte.attr("string"),reviewtype:Lyte.attr("string"),reviewcomments:Lyte.attr("string"),user:Lyte.attr("object"),portaluser:Lyte.attr("string"),portalusermodule:Lyte.attr("string"),reviewername:Lyte.attr("string"),isPortalReview:Lyte.attr("boolean",{default:!1}),rating:Lyte.attr("decimal"),submissiontime:Lyte.attr("string"),portaldata:Lyte.attr("object"),"submission-answers":Lyte.hasMany("submission-answers",{serialize:"record"}),_isPortalReview:function(){this.$.set("isPortalReview",!(!this.portaluser||!this.portalusermodule||"Contacts"!=this.portalusermodule&&"Products"!=this.portalusermodule))}.observes("portaluser","portalusermodule").on("init")},{actions:{changeStatus:{}}}),store.registerAdapter("Submissions",{buildURL:function(t,e,a,i,o,r,n,s){return n&&n.portal?(delete i.entity,delete i.entitytype,(o=o.replace(t,"public/"+moduleApiMapping.Potentials+"/"+n.jobId))+"/submissions"):("changeStatus"==r&&(o=(o=(o=o.replace(t,moduleRecordMapping.Submissions.api_name+"/"+n.id)).replace(r,"status")).replace("action","actions")),o)},methodForRequest:function(t,e,a){return"action"==e?"PUT":t}}).extends("application"),store.registerSerializer("Submissions",{normalizeResponse:function(t,e,a,i){return("findRecord"===e||"createRecord"===e||"updateRecord"===e)&&a&&a.Submissions&&a.Submissions.length>0&&(a={Submissions:a.Submissions[0]}),a}}),store.registerModel("submission-answers",{id:Lyte.attr("string",{primaryKey:!0,pattern:Lyte.patterns.numeric}),questionid:Lyte.attr("string",{mandatory:!0,pattern:Lyte.patterns.numeric}),score:Lyte.attr("decimal"),answer:Lyte.attr("string",{maxLength:15e3}),"submission-options":Lyte.hasMany("submission-options",{serialize:"record"})}),store.registerModel("submission-options",{id:Lyte.attr("string",{primaryKey:!0,pattern:Lyte.patterns.numeric}),option_id:Lyte.attr("string",{pattern:Lyte.patterns.numeric}),"submission-answers":Lyte.belongsTo("submission-answers")}),store.registerModel("competency-skills",{id:Lyte.attr("string",{primaryKey:!0,pattern:Lyte.patterns.numeric}),entityId:Lyte.attr("string",{pattern:Lyte.patterns.numeric}),name:Lyte.attr("string",{maxLength:255}),description:Lyte.attr("string",{maxLength:255}),taxonomy_desc:Lyte.attr("string",{maxLength:255}),lastUsed:Lyte.attr("string",{pattern:Lyte.patterns.numericWithEmpty}),exp:Lyte.attr("string",{pattern:Lyte.patterns.numericWithEmpty}),level:Lyte.attr("string",{pattern:Lyte.patterns.numericWithEmpty}),proficiency:Lyte.attr("string",{maxLength:255}),module:Lyte.attr("string",{maxLength:255}),auth:Lyte.attr("boolean",{default:!0}),source:Lyte.attr("string",{pattern:Lyte.patterns.numeric,default:"2"}),modified_by:Lyte.attr("string"),modified_time:Lyte.attr("string")},{actions:{relatedSkills:{}}}),store.registerAdapter("competency-skills",{buildURL:function(t,e,a,i,o,r,n,s){var l;return o=o.replace("competency-skills","competency_skills"),"update"==e||"create"==e||"delete"==e?("Leads"==n.module?l="Candidates":"Potentials"==n.module&&(l="Job_Openings"),o=o.replace("competency_skills",l+"/"+n.entityId+"/competency_skills")):"relatedSkills"==r&&(o=o.replace("/action/relatedSkills","")),o},methodForRequest:function(t,e,a){return"action"==e?"GET":t}}).extends("application"),store.registerSerializer("competency-skills",{normalizeResponse:function(t,e,a,i,o,r,n,s,l){if("create"==e||"update"==e||"delete"==e){var p={"competency-skills":[]};return a["competency-skills"].forEach((function(t){var e={};e.id=t.details.id,e.modified_by=t.details.modified_by,e.modified_time=t.details.modified_time,p["competency-skills"].push(e)})),p}return a},serialize:function(t,e,a){if(("create"==t||"update"==t)&&e&&e["competency-skills"]){for(var i={"competency-skills":[]},o=0;o<e["competency-skills"].length;o++){var r=e["competency-skills"][o],n={};r.auth&&(n.auth=r.auth),r.exp&&(n.experience=r.exp),(r.lastUsed||""==r.lastUsed)&&(n.last_used=r.lastUsed),r.level&&(n.level=r.level),r.name&&(n.name=r.name),r.id&&(n.id=r.id),r.source&&(n.source=r.source),i["competency-skills"].push(n)}return i}return e}}),Lyte.Component.register("lyte-modal",{_template:'<template tag-name="lyte-modal" role="dialog" aria-label="lyte modal"> <template is="if" value="{{expHandlers(ltPropBindToBody,\'&amp;&amp;\',expHandlers(ltPropReRenderModal,\'!\'))}}"><template case="true"> <lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" lt-prop-focus-on-close="{{ltPropFocusOnClose}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" lt-prop-show="{{ltPropShowWormhole}}"> <template is="registerYield" yield-name="lyte-content"> <div class="modalWrapper {{ltPropWrapperClass}} lytePopupZI"> <div class="lyteModal"> <template is="if" value="{{ltPropShowCloseButton}}"> <template case="true"><span class="lyteModalClose" onclick="{{action(\'close\')}}" tabindex="0"></span></template> </template> <lyte-yield yield-name="modal"></lyte-yield> </div> <template is="if" value="{{ltPropFreeze}}"> <template case="true"><lyte-modal-freeze></lyte-modal-freeze></template> </template> </div> </template> </lyte-wormhole> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,3]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropTransition","ltPropOffset","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBindToBody","ltPropShowCopy","ltPropReRenderModal","ltPropOverlayClose","ltPropAria","ltPropAriaAttributes","ltPropPreventFocus","ltPropSetContentHeight","ltPropCloseDuration","ltPropOverlapModal","ltPropIgnoreInlineDirection","ltPropAllowContainment","ltPropFocusOnClose","ltPropDependentModalId","ltPropParentModalId","ltPropFocusOnClose","ltPropShowWormhole","first","resizeCalled","initializedPosition","prevHeight","returnedFalse","prevModalHeight","prevModalWidth","calculateHW","checkAria","beforeDragPosition","resetTriggered"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropTransition:Lyte.attr("object",{default:{animation:"slideFromTop",duration:"0.5"}}),ltPropOffset:Lyte.attr("object",{default:{top:"center",left:"center"}}),ltPropDimmer:Lyte.attr("object"),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),ltPropReRenderModal:Lyte.attr("boolean",{default:!1}),ltPropOverlayClose:Lyte.attr("boolean",{default:!1}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{}}),ltPropPreventFocus:Lyte.attr("boolean",{default:!1}),ltPropSetContentHeight:Lyte.attr("boolean",{default:!1}),ltPropCloseDuration:Lyte.attr("number",{default:void 0}),ltPropOverlapModal:Lyte.attr("boolean",{default:!0}),ltPropIgnoreInlineDirection:Lyte.attr("boolean",{default:!1}),ltPropAllowContainment:Lyte.attr("boolean",{default:!1}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!0}),ltPropDependentModalId:Lyte.attr("string",{default:""}),ltPropParentModalId:Lyte.attr("string",{default:""}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!1}),ltPropShowWormhole:Lyte.attr("boolean",{default:!1}),first:Lyte.attr("boolean",{default:!0}),resizeCalled:Lyte.attr("boolean",{default:!1}),initializedPosition:Lyte.attr("boolean",{default:!1}),prevHeight:Lyte.attr("number"),returnedFalse:Lyte.attr("boolean",{default:!1}),prevModalHeight:Lyte.attr("number"),prevModalWidth:Lyte.attr("number"),calculateHW:Lyte.attr("boolean",{default:!1}),checkAria:Lyte.attr("number",{default:0}),beforeDragPosition:Lyte.attr("object",{default:{xPos:0,yPos:0}}),resetTriggered:Lyte.attr("boolean",{default:!1})}},addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-modal-header");this.$node.ltProp("draggable")&&$L(t).addClass("lyteModalDragRunning"),t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("lyteModalHeaderDraggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("lyteModalHeaderDraggable"))):(console.warn("This modal is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){if(2!==t.button){var e,a=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=a,"mousedown"==t.type&&(e={x:t.clientX,y:t.clientY}),"touchstart"==t.type&&(e={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==t.currentTarget.parentEle.getData("ltPropTransition").animation?(LytePopup.xPos=e.x-this.getBoundingClientRect().left,LytePopup.yPos=e.y-this.getBoundingClientRect().top):(LytePopup.xPos=e.x,LytePopup.yPos=e.y),a.getBoundingClientRect(),a.style.transitionDuration="0s",(t.type="mousedown")&&(window.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),window.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)),(t.type="touchstart")&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))}},handleDrag:function(t){var e=LytePopup.node,a=$L(e).closest("lyte-wormhole")[0]._callee,i=e.getBoundingClientRect(),o=getComputedStyle(e);if(LytePopup.node){var r,n=0,s=0;if("mousemove"==t.type&&(r={x:t.clientX,y:t.clientY}),"touchmove"==t.type&&(r={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation)n=r.x-LytePopup.xPos,s=r.y-LytePopup.yPos,a.getData("ltPropAllowContainment")?(n+e.getBoundingClientRect().width<=window.innerWidth&&n>=0?e.style.left=n+"px":e.style.left=n<0?"0px":window.innerWidth-e.getBoundingClientRect().width+"px",s+e.getBoundingClientRect().height<=window.innerHeight&&s>=0?e.style.top=s+"px":e.style.top=s<0?"0px":window.innerHeight-e.getBoundingClientRect().height+"px"):(e.style.left=n+"px",e.style.top=s+"px");else{var l=LytePopup.node.closest("lyte-wormhole")._callee.component.transform;"zoom"!=LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation||l||((l={}).x=0,l.y=0);var p=l.x+(r.x-LytePopup.xPos),d=l.y+(r.y-LytePopup.yPos);e.style.transform="translate("+p+"px, "+d+"px)",i=e.getBoundingClientRect(),a.getData("ltPropAllowContainment")&&(i.left+i.width>window.innerWidth&&i.left>=0?p=window.innerWidth-i.width-parseFloat(o.left):i.left<0&&(p=-parseFloat(o.left)),i.top+i.height>window.innerHeight&&i.top>=0?d=window.innerHeight-i.height-parseFloat(o.top):i.top<0&&(d=-parseFloat(o.top)),e.style.transform="translate("+p+"px, "+d+"px)")}window.getSelection().removeAllRanges()}},stopDrag:function(t){var e=t.target;for($L(e).hasClass("lyteModalDragRunning")||(e=$L(".lyteModalDragRunning")[0]);e&&e!==document;){if(e.parentEle){"mouseup"==t.type&&(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)),"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}if(LytePopup.node){var a=LytePopup.node.closest("lyte-wormhole")._callee.component;if(LytePopup.node.style.transitionDuration=a.getData("ltPropTransition").duration,"fadeIn"!=a.getData("ltPropTransition").animation){var i=new WebKitCSSMatrix(window.getComputedStyle(a.actualModalDiv).transform);a.transform={x:i.m41,y:i.m42}}LytePopup.node=null}},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("reRenderModal")&&(this.$node.ltProp("show")&&(this.$node.ltProp({showCopy:!1,show:!1}),LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("reRenderModal",!1)),this.timeOutId&&(delete this.timeOutId,this.closeModal(),LytePopup.closePopup(this)),this.$node.ltProp("show")&&!this.$node.ltProp("showCopy")){if($L(this.childComp).removeClass("lyteModalHidden"),_lyteUiUtils.getRTL()&&!this.getData("ltPropIgnoreInlineDirection")){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var e=this.getData("ltPropOffset"),a={};for(key in e)"left"==key&&"center"!=e[key]?a.right=e[key]:"right"==key?a.left=e[key]:a[key]=e[key];this.setData("ltPropOffset",a)}-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1)),this.$node.ltProp("bindToBody",!0),_lyteUiUtils.dispatchEvent("lyteModalBeforeOpen",this.actualModalDiv),this.setData("ltPropShowWormhole",!0);var i=this;this.beforeShowId=setTimeout((function(){delete i.beforeShowId,i.onBeforeShowHandling()}),0)}else this.transitionEndTimeout&&(clearTimeout(this.transitionEndTimeout),delete this.transitionEndTimeout),this.clearFastdomBatch(),this.$node.ltProp("showCopy")?(i=this,this.beforeCloseId=setTimeout((function(){delete i.beforeCloseId,i.onBeforeCloseHandling(t)}),0)):-1!=LytePopup.components.indexOf(this)&&(LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1))}.observes("ltPropShow","ltPropReRenderModal").on("didConnect"),clearFastdomBatch:function(){this.fastdomfn1&&$L.fastdom.clear(this.fastdomfn1),this.fastdomfn2&&$L.fastdom.clear(this.fastdomfn2),this.fastdomfn3&&$L.fastdom.clear(this.fastdomfn3),this.fastdomfn4&&$L.fastdom.clear(this.fastdomfn4),this.fastdomfn5&&$L.fastdom.clear(this.fastdomfn5),this.fastdomfn6&&$L.fastdom.clear(this.fastdomfn6),this.fastdomfn7&&$L.fastdom.clear(this.fastdomfn7),this.fastdomfn8&&$L.fastdom.clear(this.fastdomfn8),this.beforeShowId&&clearTimeout(this.beforeShowId)},triggerDraggable:function(){this.addDragHandler()}.observes("ltPropDraggable"),changeBindToBody:function(){this.getData("ltPropBindToBody")||(this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this,!0),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.renderSidewise&&(delete this.renderSidewise,delete this.renderProps),this.actualModalDiv=null,this.childComp=null,this.getData("ltPropShow")?this.setData({ltPropShowCopy:!1,ltPropShow:!1}):this.getData("ltPropShowCopy")&&this.setData("ltPropShowCopy",!1),this.setData("first",!0),this.setData("initializedPosition",!1),this.$node.classList.remove("lyteModalOpened"),LytePopup.checkAndRemoveWrapper())}.observes("ltPropBindToBody"),addAriaValues:function(t){if(this.getData("ltPropAria")){var e=this.getData("ltPropAriaAttributes")||{};$L(this.actualModalDiv).attr("aria-modal",!0),$L(this.actualModalDiv).attr("aria-expanded",this.getData("ltPropShow")),_lyteUiUtils.setAttribute(this.actualModalDiv,e,t?t.oldValue:{});var a=this.actualModalDiv.querySelector(".lyteModalClose");a&&a.setAttribute("aria-label",e["close-label"]||"Close icon at top right position")}}.observes("ltPropAriaAttributes","ltPropAriaAttributes.{}","checkAria"),updateScrollHandling:function(){this.$node.ltProp("freeze")||this.setData("calculateHW",!0);var t,e,a,i=this.actualModalDiv,o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=i.querySelector("lyte-modal-content");i.style.maxWidth="",i.style.maxHeight="",i.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",i.style.width=this.$node.ltProp("width")?this.getData("ltPropOverlapModal")||-1==this.$node.ltProp("width").indexOf("%")?this.$node.ltProp("width"):parseFloat(this.$node.ltProp("width"))/100*o+"px":"auto",this.fastdomfn2=$L.fastdom.measure((function(){delete this.fastdomfn2;var o=i.getBoundingClientRect(),n=i.parentElement.getBoundingClientRect(),s=window.getComputedStyle(i),l=(s.borderTopWidth?parseFloat(s.borderTopWidth):0)+(s.borderBottomWidth?parseFloat(s.borderBottomWidth):0),p=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?parseInt(window.getComputedStyle(i.parentElement).top):0);this.fastdomfn3=$L.fastdom.mutate((function(){if(delete this.fastdomfn3,this.$node.ltProp("maxWidth")?(a=-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*n.width:parseFloat(this.$node.ltProp("maxWidth")),i.style.maxWidth=a+"px",i.style.overflowX="auto"):a=o.width,this.$node.ltProp("maxHeight")){this.childComp.querySelector(".modalWrapper").classList.add("scrollable"),this.setData("calculateHW",!0),t=o.height-l;var s=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*n.height:parseFloat(this.$node.ltProp("maxHeight"));i.style.maxHeight=s+"px",e=s-l}else t=i.offsetHeight-l+1,this.$node.ltProp("height")&&"auto"!=this.$node.ltProp("height")?(e=t,this.setData("calculateHW",!0)):e=t>p?p-40:t,this.$node.ltProp("scrollable")&&(this.$node.ltProp("height")&&"auto"!=this.$node.ltProp("height")||(e=p-40),this.setData("calculateHW",!0)),r&&r.offsetHeight>t-((this.actualModalDiv.querySelector("lyte-modal-header")?this.actualModalDiv.querySelector("lyte-modal-header").offsetHeight:0)+(this.actualModalDiv.querySelector("lyte-modal-footer")?this.actualModalDiv.querySelector("lyte-modal-footer").offsetHeight:0))&&this.setData("calculateHW",!0);if(this.getData("calculateHW")&&r){var d=this.actualModalDiv.querySelector("lyte-modal-header"),c=this.actualModalDiv.querySelector("lyte-modal-footer"),u=null,m=null;this.fastdomfn4=$L.fastdom.measure((function(){delete this.fastdomfn4,d&&(u=d.offsetHeight),c&&(m=c.offsetHeight);var t=i.getBoundingClientRect().height;this.setData("prevHeight",t),this.fastdomfn5=$L.fastdom.mutate((function(){delete this.fastdomfn5;var t=e-((u||0)+(m||0));r.style.maxHeight=(t>0?t:50)+0+"px",r.style.overflowY="auto","auto"!=this.$node.ltProp("height")&&this.getData("ltPropSetContentHeight")&&(r.style.height=t+"px"),i=null,r=null,d=null,c=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0))}),this)}),this)}else this.childComp.querySelector(".modalWrapper").classList.remove("scrollable"),i=null,r=null,this.getData("initializedPosition")?this.getData("resizeCalled")&&(this.computeOffsetImplOnResize(),this.setData("resizeCalled",!1)):(this.computeOffsetImpl(),this.setData("initializedPosition",!0));this.$node.ltProp("freeze")||(this.childComp.querySelector(".modalWrapper").classList.add("noFreeze"),this.renderSidewise||(this.actualModalDiv.style.position="fixed"))}),this)}),this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),callOnShow:function(){this.$node.classList.add("lyteModalOpened");var t=this;setTimeout((function(){var e=window.getComputedStyle(t.actualModalDiv),a=new WebKitCSSMatrix(e.transform);t.setData("beforeDragPosition",{xPos:a.m41,yPos:a.m42,scale:a.a}),_lyteUiUtils.dispatchEvent("lyteModalOpened",t.actualModalDiv)}),1e3*parseFloat(this.getData("ltPropTransition").duration)+10),this.transitionEndTimeout=setTimeout((function(){t.getMethods("onTransitionEnd")&&t.executeMethod("onTransitionEnd",t)}),1e3*parseFloat(this.getData("ltPropTransition").duration)+10),this.getMethods("onShow")&&this.executeMethod("onShow",this),this.addAriaValues&&this.addAriaValues()},callOnResize:function(){var t=this.getData("ltPropDependentModalId");""!=t&&$L(t)[0].component.updateScrollHandling();var e=window.getComputedStyle(this.actualModalDiv),a=new WebKitCSSMatrix(e.transform);this.setData("beforeDragPosition",{xPos:a.m41,yPos:a.m42,scale:a.a}),this.getMethods("onResize")&&this.executeMethod("onResize",this)},enableTransform:function(t,e,a){this.$node.ltProp("showCopy",!0);var i=this;setTimeout((function(){"x"==e&&(i.actualModalDiv.style.transform="translate("+t+"px,0px)",i.transform={x:t,y:0}),"y"==e&&(i.actualModalDiv.style.transform="translate(0px,"+t+"px)",i.transform={x:0,y:t})}),null!=a?a:void 0)},computeOffsetImplOnResize:function(){$L.fastdom.measure((function(){var t,e,a=this.actualModalDiv,i=a.getBoundingClientRect(),o=window.getComputedStyle(a.parentElement),r=parseInt(o.top),n=parseInt(o.left),s=a.offsetTop,l=Math.max(document.documentElement.clientWidth,window.innerWidth||0)-(this.getData("ltPropFreeze")?n:0),p=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?r:0),d=this.getData("prevWinH"),c=this.getData("prevWinW"),u=this.transform,m=null,h=null,y=this.getData("ltPropOffset"),f=this.getData("prevModalHeight")-i.height,g=this.getData("prevModalWidth")-i.width;this.calculateForSidewiseRender(),a.offsetParent&&"BODY"===a.offsetParent.tagName&&(s=0),this.renderSidewise&&(this.renderProps.windowWidth=l,l="slideFromRight"==this.getData("ltPropTransition").animation?this.renderProps.left:this.renderProps.windowWidth-this.renderProps.right,t=this.childComp.querySelector("lyte-modal-freeze"),e=this.actualModalDiv.parentElement),"fadeIn"===this.getData("ltPropTransition").animation||"zoom"===this.getData("ltPropTransition").animation?(d=i.height,c=i.width,l<c&&(y.left&&"center"==y.left||y.right&&"center"==y.right?h=(c-l)/2:y.right?h=i.left-(c-l):y.left&&(h=i.left)),l>c&&(y.left&&"center"==y.left||y.right&&"center"==y.right?h=(l-c)/2:y.right?h=i.left+(l-c):y.left&&(h=i.left)),p<d&&(y.top&&"center"==y.top||y.bottom&&"center"==y.bottom?m=(p-i.height)/2:y.bottom?m=s-(d-p):y.top&&(m=s)),p>d&&(y.top&&"center"==y.top||y.bottom&&"center"==y.bottom?m=(p-i.height)/2:y.bottom&&"center"!=y.bottom?m=s+(p-d):y.top&&"center"!=y.top&&(m=s)),$L.fastdom.mutate((function(){m&&(a.style.top=m+"px"),h&&(a.style.left=h+"px"),this.callOnResize()}),this)):(l<c&&(y.left&&"center"==y.left||y.right&&"center"==y.right?h=u.x-(c-l)/2+g/2:y.right?h=u.x-(c-l)+g:y.left&&(h=u.x),this.transform.x=h),l>c&&(y.left&&"center"==y.left||y.right&&"center"==y.right?h=u.x+(l-c)/2+g/2:y.right?h=u.x+(l-c)+g:y.left&&(h=u.x),this.transform.x=h),p<d&&(y.top&&"center"==y.top||y.bottom&&"center"==y.bottom?m=u.y-(d-p)/2+f/2:y.bottom?m=u.y-(i.bottom-p+parseInt(y.bottom)):y.top&&(m=u.y),this.transform.y=m),p>d&&(y.top&&"center"==y.top||y.bottom&&"center"==y.bottom?m=u.y+(p-d)/2+f/2:y.bottom&&"center"!=y.bottom?m=u.y+(p-i.bottom-parseInt(y.bottom)):y.top&&"center"!=y.top&&(m=u.y),this.transform.y=m),$L.fastdom.mutate((function(){if(a.style.transitionDuration="0s","slideFromTop"===this.getData("ltPropTransition").animation||"slideFromBottom"===this.getData("ltPropTransition").animation)l<c&&(y.left&&"center"==y.left||y.right&&"center"==y.right?a.style.left=i.left-(c-l)/2+g/2+"px":y.right?a.style.left=i.left-(c-l)+g+"px":y.left&&(a.style.left=i.left+"px")),l>c&&(y.left&&"center"==y.left||y.right&&"center"==y.right?a.style.left=i.left+(l-c)/2+g/2+"px":y.right?a.style.left=i.left+(l-c)+g+"px":y.left&&(a.style.left=i.left+"px")),a.style.transform="translate(0px,"+this.transform.y+"px)";else if(("slideFromLeft"===this.getData("ltPropTransition").animation||"slideFromRight"===this.getData("ltPropTransition").animation)&&(p<d&&(y.top&&"center"==y.top||y.bottom&&"center"==y.bottom?a.style.top=s-(d-p)/2+f/2+"px":y.bottom?a.style.top=s-(d-p)+"px":y.top&&(a.style.top=s+"px")),p>d&&(y.top&&"center"==y.top||y.bottom&&"center"==y.bottom?a.style.top=s+(p-d)/2+f/2+"px":y.bottom&&"center"!=y.bottom?a.style.top=s+(p-d)+"px":y.top&&"center"!=y.top&&(a.style.top=s+"px")),a.style.transform="translate("+this.transform.x+"px,0px)",this.renderSidewise)){if("slideFromRight"==this.getData("ltPropTransition").animation){var o=this.renderProps.windowWidth-this.renderProps.left;t&&(t.style.right=o+"px"),e&&(e.style.right=o-5+"px")}"slideFromLeft"==this.getData("ltPropTransition").animation&&(t&&(t.style.left=this.renderProps.right+"px"),e&&(e.style.left=this.renderProps.right+1+"px"))}this.callOnResize()}),this)),this.setData("prevModalHeight",i.height),this.setData("prevModalWidth",i.width),this.setData("prevWinH",p),this.setData("prevWinW",l)}),this)},isResponsibleForSidewiseRender:function(){var t=LytePopup.components;return!!(t.length>1&&t[t.length-2]===this&&t[t.length-1].renderSidewise)},computeOffsetImpl:function(t,e){var a=this.nodeName&&"LYTE-MODAL"===this.nodeName?this.component:this;a.fastdomfn6=$L.fastdom.measure((function(){if(delete a.fastdomfn6,a.actualModalDiv){a.calculateForSidewiseRender();var i,o,r=a.actualModalDiv,n=Lyte.deepCopyObject(a.$node.ltProp("offset")),s=r.getBoundingClientRect(),l={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:r.offsetWidth,height:r.offsetHeight},p=0,d=0;if(a.getData("ltPropFreeze")){var c=window.getComputedStyle(r.parentElement);p=parseInt(c.left),d=parseInt(c.top)}var u=Math.max(document.documentElement.clientWidth,window.innerWidth||0)-p;a.renderSidewise&&(a.renderProps.windowWidth=u,u="slideFromRight"==a.getData("ltPropTransition").animation?a.renderProps.left:a.renderProps.windowWidth-a.renderProps.right,i=a.childComp.querySelector("lyte-modal-freeze"),o=a.actualModalDiv.parentElement);var m=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-d;if(r.style.transitionDuration=(null!=t?t:a.$node.ltProp("transition").duration)+"s",a.setData("prevWinH",m),a.setData("prevWinW",u),a.setData("prevModalHeight",l.height),a.setData("prevModalWidth",l.width),n){if("center"===n.left||"center"===n.right){var h=(u-l.width)/2;h<0&&(h=20),n.left=h}if("center"===n.top||"center"===n.bottom){var y=(m-l.height)/2;y<0&&(y=20),n.top=y}if(n.right&&"center"!==n.right&&(n.right.indexOf("%")>-1?n.left=u-(l.width+u/parseFloat(n.right)):n.left=u-(l.width+parseFloat(n.right))),n.bottom&&"center"!==n.bottom&&(n.bottom.indexOf("%")>-1?n.top=m-(l.height+m/parseFloat(n.bottom)):n.top=m-(l.height+parseFloat(n.bottom))),""!==n.left&&null!=n.left||(a.data.ltPropOffset.left="center",n.left=(u-l.width)/2),""!==n.top&&null!=n.top||(a.data.ltPropOffset.top="center",n.top=(m-l.height)/2),a.getData("ltPropTransition").originElement)if(g=document.querySelector(a.getData("ltPropTransition").originElement)){var f=g.getBoundingClientRect();n.originElementPos={xDiff:f.left+f.width/2-(parseFloat(n.left)+l.width/2),yDiff:f.top+f.height/2-(parseFloat(n.top)+l.height/2)}}else console.error("The originElement provided does not exist. Kindly Check!");a.fastdomfn7=$L.fastdom.mutate((function(){if(delete a.fastdomfn7,a.getData("first")&&LytePopup.bindTransitionEnd(a.actualModalDiv),"slideFromTop"==a.getData("ltPropTransition").animation){if(r.style.left=parseFloat(n.left)+"px",r.style.top=-1*l.height+"px",e)return void(r.style.transform="translate(0px,"+(parseInt(n.top)+l.height)+"px)");a.enableTransform(parseInt(n.top)+l.height,"y",t)}else if("slideFromBottom"==a.getData("ltPropTransition").animation){if(r.style.left=parseFloat(n.left)+"px",r.style.top=m+1+"px",e)return void(r.style.transform="translate(0px,"+-1*(m-parseInt(n.top)+1)+"px)");a.enableTransform(-1*(m-parseInt(n.top)+1),"y",t)}else if("slideFromLeft"==a.getData("ltPropTransition").animation){if(a.renderSidewise&&(i&&(i.style.left=a.renderProps.right+"px"),o&&(o.style.left=a.renderProps.right+"px")),r.style.top=parseFloat(n.top)+"px",r.style.left=-1*l.width+"px",e)return void(r.style.transform="translate("+(parseInt(n.left)+l.width)+"px,0px)");a.enableTransform(parseInt(n.left)+l.width,"x",t)}else if("slideFromRight"==a.getData("ltPropTransition").animation){if(a.renderSidewise){var s=a.renderProps.windowWidth-a.renderProps.left;i&&(i.style.right=s+"px"),o&&(o.style.right=s-5+"px")}if(r.style.top=parseFloat(n.top)+"px",r.style.left=u+1+"px",e)return void(r.style.transform="translate("+-1*(u-parseInt(n.left)+1)+"px,0px)");a.enableTransform(-1*(u-parseInt(n.left)+1),"x",t)}else if("fadeIn"==a.getData("ltPropTransition").animation){if(r.style.left=parseFloat(n.left)+"px",r.style.top=parseFloat(n.top)+"px",e)return void(r.style.transform="");a.$node.ltProp("showCopy",!0),r.style.opacity=1}else if("zoom"==a.getData("ltPropTransition").animation){a.$node.ltProp("showCopy",!0);var p="scale(0)";if(n.originElementPos&&(p="translateX( "+n.originElementPos.xDiff+"px) translateY( "+n.originElementPos.yDiff+"px) scale(0)"),r.style.left=parseFloat(n.left)+"px",r.style.top=parseFloat(n.top)+"px",r.style.transition="none",e)return r.style.transform=n.originElementPos?"translateX(0) translateY(0) scale(1)":"scale(1)",void setTimeout((function(){r.style.transition=""}),16);r.style.transform=p,r.style.opacity=1,setTimeout((function(){r.style.transition="",r.style.transitionDuration=(null!=t?t:a.$node.ltProp("transition").duration)+"s",n.originElementPos?r.style.transform="translateX(0) translateY(0) scale(1)":r.style.transform="scale(1)"}),50)}a.$node.ltProp("freeze")&&document.body.classList.add("bodyWrapper"),a.getData("first")&&(a.callOnShow(),a.setData("first",!1))}),a)}else{var g;a.setData("ltPropOffset",{left:"center",top:"center"}),n.left=(u-l.width)/2,n.top=(m-l.height)/2,a.$node.ltProp("scrollable")||(n.left<0&&(n.left=20),n.top<0&&(n.top=20)),a.getData("ltPropTransition").originElement&&((g=document.querySelector(a.getData("ltPropTransition").originElement))?(f=g.getBoundingClientRect(),n.originElementPos={xDiff:f.left+f.width/2-(n.left+l.width/2),yDiff:f.top+f.height/2-(n.top+l.height/2)}):console.error("The originElement provided does not exist. Kindly Check!")),a.fastdomfn8=$L.fastdom.mutate((function(){if(delete a.fastdomfn8,a.getData("first")&&LytePopup.bindTransitionEnd(a.actualModalDiv),"slideFromTop"==a.getData("ltPropTransition").animation){if(r.style.left=parseFloat(n.left)+"px",r.style.top=-1*l.height+"px",e)return void(r.style.transform="translate(0px,"+(parseInt(n.top)+l.height)+"px)");a.enableTransform(parseInt(n.top)+l.height,"y",t)}else if("slideFromBottom"==a.getData("ltPropTransition").animation){if(r.style.left=parseFloat(n.left)+"px",r.style.top=m+1+"px",e)return void(r.style.transform="translate(0px,"+-1*(m-parseInt(n.top)+1)+"px)");a.enableTransform(-1*(m-parseInt(n.top)+1),"y",t)}else if("slideFromLeft"==a.getData("ltPropTransition").animation){if(a.renderSidewise&&(i&&(i.style.left=a.renderProps.right+"px"),o&&(o.style.left=a.renderProps.right+"px")),r.style.top=parseFloat(n.top)+"px",r.style.left=-1*l.width+"px",e)return void(r.style.transform="translate("+(parseInt(n.left)+l.width)+"px,0px)");a.enableTransform(parseInt(n.left)+l.width,"x",t)}else if("slideFromRight"==a.getData("ltPropTransition").animation){if(a.renderSidewise){var s=a.renderProps.windowWidth-a.renderProps.left;i&&(i.style.right=s+"px"),o&&(o.style.right=s-5+"px")}if(r.style.top=parseFloat(n.top)+"px",r.style.left=u+1+"px",e)return void(r.style.transform="translate("+-1*(u-parseInt(n.left)+1)+"px,0px)");a.enableTransform(-1*(u-parseInt(n.left)+1),"x",t)}else if("fadeIn"==a.getData("ltPropTransition").animation){if(r.style.left=parseFloat(n.left)+"px",r.style.top=parseFloat(n.top)+"px",e)return void(r.style.transform="");a.$node.ltProp("showCopy",!0),r.style.opacity=1}else if("zoom"==a.getData("ltPropTransition").animation){a.$node.ltProp("showCopy",!0);var p="scale(0)";if(n.originElementPos&&(p="translateX( "+n.originElementPos.xDiff+"px) translateY( "+n.originElementPos.yDiff+"px) scale(0)"),r.style.left=parseFloat(n.left)+"px",r.style.top=parseFloat(n.top)+"px",r.style.transition="none",e)return r.style.transform=n.originElementPos?"translateX(0) translateY(0) scale(1)":"scale(1)",void setTimeout((function(){r.style.transition=""}),16);r.style.transform=p,r.style.opacity=1,setTimeout((function(){r.style.transition="",r.style.transitionDuration=(null!=t?t:a.$node.ltProp("transition").duration)+"s",n.originElementPos?r.style.transform="translateX(0) translateY(0) scale(1)":r.style.transform="scale(1)"}),50)}a.$node.ltProp("freeze")&&document.body.classList.add("bodyWrapper"),a.getData("first")&&(a.callOnShow(),a.setData("first",!1))}),a)}}}),a)},calculateForSidewiseRender:function(){if(LytePopup.components.length>1){var t,e=this.getData("ltPropParentModalId");if(""!=e)t=$L(e)[0].component;else if(""==e&&""==this.getData("ltPropDependentModalId")){var a=LytePopup.components.indexOf(this);a>0&&"LYTE-MODAL"===LytePopup.components[a-1].$node.tagName&&(t=LytePopup.components[a-1])}if(!this.getData("ltPropOverlapModal")&&t&&t.getData("ltPropAllowMultiple")&&-1!=["slideFromLeft","slideFromRight"].indexOf(this.getData("ltPropTransition").animation)){this.renderSidewise=!0;var i=t.actualModalDiv.getBoundingClientRect();this.renderProps={prevModal:t,left:Math.round(i.left),right:Math.round(i.right),width:Math.round(i.width)}}}},closeModal:function(){var t=this.childComp.querySelector("lyte-modal-freeze");if(this.renderSidewise&&("slideFromRight"==this.getData("ltPropTransition").animation&&(t&&(t.style.right=""),this.actualModalDiv.parentElement.style.right=""),"slideFromLeft"==this.getData("ltPropTransition").animation&&(t&&(t.style.left=""),this.actualModalDiv.parentElement.style.left=""),delete this.renderSidewise,delete this.renderProps),_lyteUiUtils.getRTL()&&!this.getData("ltPropIgnoreInlineDirection")){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var e=this.getData("ltPropOffset"),a={};for(key in e)"left"==key&&"center"!=e[key]?a.right=e[key]:"right"==key?a.left=e[key]:a[key]=e[key];this.setData("ltPropOffset",a)}var i=this.getData("ltPropTransition").animation;this.$node.ltProp("freeze")||this.childComp.querySelector(".modalWrapper").classList.remove("noFreeze"),this.$node.ltProp("freeze")||(this.actualModalDiv.style.position=""),"zoom"!=i&&this.actualModalDiv&&(this.actualModalDiv.style.transform="");var o=this.getData("ltPropTransition").duration,r=this.getData("ltPropCloseDuration");r&&(o=r/1e3);var n=this;setTimeout((function(){var t=n.$node;t.ltProp({showCopy:!1,show:!1}),t.classList.remove("lyteModalOpened"),$L(n.childComp).addClass("lyteModalHidden"),"zoom"==i&&(n.actualModalDiv.style.opacity="0",n.actualModalDiv.style.transform="")}),1e3*o),_lyteUiUtils.dispatchEvent("lyteModalClosed",this.actualModalDiv),document.body.classList.remove("bodyWrapper"),document.body.classList.remove("lyteBodyWrapper"),this.setData("ltPropShowWormhole",!1),this.getMethods("onClose")&&this.executeMethod("onClose",this),LytePopup.checkAndRemoveWrapper()},onBeforeCloseHandling:function(t){var e=!0,a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(_lyteUiUtils.dispatchEvent("lyteModalBeforeClose",this.actualModalDiv),this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0===e||e){if(this.actualModalDiv&&this.childComp){this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails);var o=1e3*parseFloat(this.$node.ltProp("transition").duration),r=this;this.timeOutId=setTimeout((function(){delete r.timeOutId,r.closeModal()}),o);var n,s=this.actualModalDiv;this.getData("ltPropCloseDuration")?s.style.transitionDuration=this.getData("ltPropCloseDuration")/1e3+"s":s.style.transitionDuration=o/1e3+"s";var l,p="scale(0)";$L.fastdom.measure((function(){if(n=s.getBoundingClientRect(),"zoom"==this.getData("ltPropTransition").animation&&this.getData("ltPropTransition").originElement){var t=document.querySelector(this.getData("ltPropTransition").originElement);if(t){var e=t.getBoundingClientRect(),a={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:s.offsetWidth,height:s.offsetHeight},i={xDiff:e.left+e.width/2-(a.left+a.width/2),yDiff:e.top+e.height/2-(a.top+a.height/2)};p="translateX( "+i.xDiff+"px) translateY( "+i.yDiff+"px) scale(0)"}else console.error("The originElement provided does not exist. Kindly Check!")}}),this),$L.fastdom.mutate((function(){"slideFromTop"==this.getData("ltPropTransition").animation?(l=-(Math.ceil(n.height)+parseInt(s.style.top)+10)+"px",s.style.transform="translateY("+l+")"):"slideFromBottom"==this.getData("ltPropTransition").animation?(l=i-parseInt(s.style.top)+10+"px",s.style.transform="translateY("+l+")"):"slideFromLeft"==this.getData("ltPropTransition").animation?(l=-(Math.ceil(n.width)+parseInt(s.style.left)+10)+"px",s.style.transform="translateX("+l+")"):"slideFromRight"==this.getData("ltPropTransition").animation?(l=(this.renderProps&&this.renderProps.left||a)-parseInt(s.style.left)+10+"px",s.style.transform="translateX("+l+")"):"fadeIn"==this.getData("ltPropTransition").animation?s.style.opacity=0:"zoom"==this.getData("ltPropTransition").animation&&(s.style.transform=p),delete this.transform,this.$node.classList.contains("lyteModalOpened")||(s.style.transform="")}),this),$L.fastdom.mutate((function(){s=null})),s.classList.remove("lyteModalFromTop","lyteModalFromBottom","lyteModalFromLeft","lyteModalFromRight","lyteModalFadeIn","lyteZoom");var d=this.getData("ltPropTransition").duration,c=this.getData("ltPropCloseDuration");if(c&&(d=c/1e3),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-modal-freeze")){var u=this.childComp.querySelector("lyte-modal-freeze");setTimeout(function(){u.style.opacity=0,u.style.visibility=""}.bind(this),1e3*d)}LytePopup.closePopup(this),this.setData("first",!0),this.setData("initializedPosition",!1),this.setData("calculateHW",!1)}this.$node.alignModal=null,this.$node.resetPosition=null,this.$node.alignLyteModal=null,this.$node.calculateOffset=null,this.$node.reflectTransitionChange=null}else this.setData("returnedFalse",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){this.setData("checkAria",this.getData("checkAria")+1),this.addDragHandler(),this.updateScrollHandling();var e=this.actualModalDiv;e.style.transitionDuration=this.$node.ltProp("transition").duration+"s";var a="lyteModalFrom",i=(this.actualModalDiv.style,this.actualModalDiv.getBoundingClientRect(),Math.max(document.documentElement.clientWidth,window.innerWidth||0));switch(this.$node.ltProp("transition").animation){case"slideFromTop":a+="Top";break;case"slideFromBottom":a+="Bottom";break;case"slideFromLeft":a+="Left";break;case"slideFromRight":a+="Right";break;case"fadeIn":a="lyteModalFadeIn";break;case"zoom":a="lyteZoom"}if(this.fastdomfn1=$L.fastdom.mutate((function(){delete this.fastdomfn1,this.actualModalDiv.classList.add(a),this.actualModalDiv.style.opacity="",e=null}),this),LytePopup.addPopup(this),this.calculateForSidewiseRender(),this.$node.ltProp("freeze")){var o=this.childComp.querySelector("lyte-modal-freeze");this.renderSidewise&&("slideFromRight"==this.getData("ltPropTransition").animation&&(o.style.right=i-this.renderProps.left+"px"),"slideFromLeft"==this.getData("ltPropTransition").animation&&(o.style.left=this.renderProps.right+"px"));var r=o.style;this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").color&&(r.background=this.getData("ltPropDimmer").color),this.addedFreezeDetails||(r.opacity=this.getData("ltPropDimmer")&&this.getData("ltPropDimmer").opacity?this.getData("ltPropDimmer").opacity:"")}this.$node.alignModal=this.computeOffsetImpl.bind(this,0,!0),this.$node.resetPosition=function(){LytePopup.x=this.getData("beforeDragPosition").xPos,LytePopup.y=this.getData("beforeDragPosition").yPos,LytePopup.xPos=this.getData("beforeDragPosition").xPos,LytePopup.yPos=this.getData("beforeDragPosition").yPos,this.component.transform.x=this.getData("beforeDragPosition").xPos,this.component.transform.y=this.getData("beforeDragPosition").yPos,"zoom"===this.getData("ltPropTransition").animation?this.component.actualModalDiv.style.transform="translate("+this.getData("beforeDragPosition").xPos+"px ,"+this.getData("beforeDragPosition").yPos+"px) scale("+this.getData("beforeDragPosition").scale+")":this.component.actualModalDiv.style.transform="translate("+this.getData("beforeDragPosition").xPos+"px ,"+this.getData("beforeDragPosition").yPos+"px)"},this.$node.alignLyteModal=function(){this.component.updateScrollHandling(),this.component.computeOffsetImpl.bind(this.component,0,!0)},this.$node.calculateOffset=this.updateScrollHandling.bind(this),this.$node.reflectTransitionChange=this.reflectTransitionChange.bind(this)}else this.setData("returnedFalse",!0),this.$node.ltProp({showCopy:!1,show:!1})},reflectTransitionChange:function(){this.computeOffsetImpl(null,!0)},didDestroy:function(){this.$node.classList.remove("lyteModalOpened"),this.timeOutId&&(clearTimeout(this.timeOutId),delete this.timeOutId),this.beforeCloseId&&(clearTimeout(this.beforeCloseId),delete this.beforeCloseId),this.renderSidewise&&(delete this.renderSidewise,delete this.renderProps),this.childComp&&(this.clearFastdomBatch(),this.getData("ltPropFreeze")&&this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,LytePopup.checkAndRemoveWrapper())},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv,this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".lyteModal")}}}),"complete"===document.readyState||"interactive"===document.readyState?addModalEvent():document.addEventListener("DOMContentLoaded",(function(t){addModalEvent(t)})),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(a[r]=o[r])}return a},writable:!0,configurable:!0}),Lyte.Component.register("lyte-alert",{_template:'<template tag-name="lyte-alert" role="alert"> <template is="if" value="{{ltPropShowCopy}}"><template case="true"> <lyte-wormhole on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}" lt-prop-show="{{ltPropShow}}" lt-prop-focus-on-close="{{ltPropFocusOnClose}}"> <template is="registerYield" yield-name="lyte-content"> <div class="alertWrapper {{ltPropWrapperClass}} lytePopupZI"> <div class="{{lyteUiConcatAlertClass(ltPropContentAlign,\'alertPopup\')}}"> <template is="if" value="{{ltPropShowCloseButton}}"><template case="true"> <span class="lyte-svg alertClose" onclick="{{action(\'closeAlert\')}}" tabindex="0"></span> </template></template> <template is="if" value="{{ltPropYield}}"><template case="true"> <lyte-yield yield-name="alert"></lyte-yield> </template><template case="false"> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropHeading,\'\'),\'!\')}}"><template case="true"> <div class="alertHeader"> <span class="dBlock">{{ltPropHeading}}</span> </div> </template></template> <div class="alertContent"> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropType,\'\'),\'!\')}}"><template case="true"> <div class="alertContentMiddle"> <span class="{{lyteUiConcatTypeClass(ltPropType,\'AlertIcon\',\'lyteStatusIcon\')}}"></span> </div> </template></template> <div class="alertContentMiddle"> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropPrimaryMessage,\'\'),\'!\')}}"><template case="true"> <div> <span class="alertPrimaryMsg">{{ltPropPrimaryMessage}}</span> </div> </template></template> <template is="if" value="{{expHandlers(lyteUiIfEquals(ltPropSecondaryMessage,\'\'),\'!\')}}"><template case="true"> <div> <span class="alertSecondaryMsg">{{ltPropSecondaryMessage}}</span> </div> </template></template> </div> <div class="clearFloat"></div> </div> </template></template> <template is="if" value="{{nonYieldFooter}}"><template case="true"> <template is="if" value="{{expHandlers(lyteUiIsEmptyArray(ltPropButtons),\'!\')}}"><template case="true"> <div class="{{lyteUiConcat(\'alertFooter \',ltPropButtonPosition)}}"> <template is="for" items="{{ltPropButtons}}" item="item" index="index"> {{log(ltPropButtons.type)}} <template is="if" value="{{lyteUiIfEquals(item.type,\'accept\')}}"><template case="true"> <lyte-button class="lyteAlertBtn" onclick="{{action(\'accept\',item.text)}}"> <template is="registerYield" yield-name="text">{{item.text}}</template> </lyte-button> </template></template><template is="if" value="{{lyteUiIfEquals(item.type,\'reject\')}}"><template case="true"> <lyte-button class="lyteAlertBtn" onclick="{{action(\'reject\',item.text)}}"> <template is="registerYield" yield-name="text">{{item.text}}</template> </lyte-button> </template></template> </template> </div> </template></template> </template></template> </div> <div class="{{lyteUiAddShowClass(ltPropShowCopy,\'\',\'alertFreezeLayer\')}}"></div> </div> </template> </lyte-wormhole> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]}]}},default:{}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]}]}},default:{}},{type:"attr",position:[3,3,1]},{type:"if",position:[3,3,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]}]}},default:{}},{type:"attr",position:[3,3,3]},{type:"if",position:[3,3,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"text",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[4]},{type:"if",position:[4],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[0]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3]}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropType","ltPropShow","ltPropWrapperClass","ltPropAllowMultiple","ltPropHeading","ltPropPrimaryMessage","ltPropSecondaryMessage","ltPropTop","ltPropButtons","ltPropButtonPosition","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropDimmer","ltPropYield","ltPropAnimation","ltPropContentAlign","ltPropAria","ltPropAriaAttributes","ltPropPreventFocus","ltPropFocusOnClose","nonYieldFooter","triggerShow","escClicked"],data:function(){return{ltPropType:Lyte.attr("string",{default:""}),ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropHeading:Lyte.attr("string",{default:""}),ltPropPrimaryMessage:Lyte.attr("string",{default:""}),ltPropSecondaryMessage:Lyte.attr("string",{default:""}),ltPropTop:Lyte.attr("string",{default:"40px"}),ltPropButtons:Lyte.attr("array",{default:[]}),ltPropButtonPosition:Lyte.attr("string",{default:"right"}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropAnimation:Lyte.attr("string",{default:"slideDown"}),ltPropContentAlign:Lyte.attr("string",{default:"left"}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{},watch:!0}),ltPropPreventFocus:Lyte.attr("boolean",{default:!1}),ltPropFocusOnClose:Lyte.attr("boolean",{default:!0}),nonYieldFooter:Lyte.attr("boolean",{default:!0}),triggerShow:Lyte.attr("number",{default:0}),escClicked:Lyte.attr("object",{default:{}})}},didConnect:function(){this.$node.ltProp("show")&&this.setData("triggerShow",this.getData("triggerShow")+1)},addAriaValues:function(){if(this.getData("ltPropAria")){var t=this.getData("ltPropAriaAttributes")||{};if("aria-labelledby"in t){var e=this.getAlertWidget("header");e&&e.classList.add(t["aria-labelledby"])}if("aria-describedby"in t){var a=this.getAlertWidget("content");a&&a.classList.add(t["aria-describedby"])}_lyteUiUtils.setAttribute(this.getAlertWidget(),t,{});var i=this.getAlertWidget("close");i&&i.setAttribute("aria-label",t["close-label"]||"Close icon at top right position")}},getAlertWidget:function(t){return"header"===t?this.getData("ltPropYield")?this.childComp.querySelector("lyte-alert-header"):this.childComp.querySelector(".alertHeader"):"content"===t?this.getData("ltPropYield")?this.childComp.querySelector("lyte-alert-content"):this.childComp.querySelector(".alertContentMiddle"):"close"===t?this.childComp.querySelector(".alertClose"):this.childComp.querySelector(".alertPopup")},showToggled:function(){var t=!0;if(this.$node.ltProp("show")||(_lyteUiUtils.dispatchEvent("lyteAlertBeforeClose",this.actualModalDiv),this.getMethods("onBeforeClose")&&(t=this.executeMethod("onBeforeClose",this,this.getData("escClicked")))),!1!==t)if(this.$node.ltProp("show")){this.closeTId&&(clearTimeout(this.closeTId),delete this.closeTId),this.sId&&(clearTimeout(this.sId),delete this.sId,this.setData("ltPropShowCopy",!1),delete this.sId,delete this.actualModalDiv,delete this.childComp);var e=this;this.openTId=setTimeout((function(){delete e.openTId,document.body.classList.add("bodyWrapper"),e.showAlert()}),0)}else this.openTId&&(clearTimeout(this.openTId),delete this.openTId),this.showTId&&(clearTimeout(this.showTId),delete this.showTId),e=this,this.closeTId=setTimeout((function(){delete e.closeTId,e.closeAlert()}),0);else this.setData("ltPropShow",!0)}.observes("ltPropShow","triggerShow"),printId:function(){console.log("this.openTId ---\x3e "+this.openTId),console.log("this.showTId ---\x3e "+this.showTId),console.log("this.closeTId ---\x3e "+this.closeTId),console.log("this.sId ---\x3e "+this.sId)},closeAlertFn:function(){this.getMethods("onClose")&&(this.executeMethod("onClose",this,this.getData("escClicked")),this.setData("escClicked",{}))},showAlert:function(){var t=this;if(this.showTId=setTimeout((function(){if(delete t.showTId,t.actualModalDiv){if(_lyteUiUtils.dispatchEvent("lyteAlertBeforeOpened",t.actualModalDiv),LytePopup.bindTransitionEnd(t.actualModalDiv),"center"==t.getData("ltPropTop")){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.actualModalDiv.style.top=(e-t.actualModalDiv.getBoundingClientRect().height)/2+"px"}else t.actualModalDiv.style.top=t.getData("ltPropTop");"zoomIn"==t.getData("ltPropAnimation")&&t.actualModalDiv.classList.add("alertOpened"),t.$node.classList.add("lyteAlertOpened"),t.getMethods("onShow")&&t.executeMethod("onShow",t),setTimeout((function(){_lyteUiUtils.dispatchEvent("lyteAlertOpened",t.actualModalDiv)}),310)}else t.getData("ltPropShow")&&t.setData("ltPropShow",!1)}),100),this.setData("ltPropShowCopy",!0),this.addAriaValues(),"slideDown"==this.getData("ltPropAnimation")?this.actualModalDiv.classList.add("lyteAlertSlideDown"):"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.add("lyteAlertZoomIn"),this.getData("ltPropButtons")&&this.getData("nonYieldFooter")){for(var e,a=this.getData("ltPropButtons"),i=0;i<a.length;i++){e=this.actualModalDiv.querySelectorAll(".lyteAlertBtn")[i];for(var o=Object.keys(a[i]),r=0;r<o.length;r++)"text"!==o[r]&&e.ltProp(o[r],a[i][o[r]])}e=null}LytePopup.addPopup(this);var n=this.childComp.querySelector(".alertFreezeLayer").style;n.background=this.getData("ltPropDimmer").color,this.addedFreezeDetails||(n.opacity=this.getData("ltPropDimmer").opacity)},closeAlert:function(){if(this.childComp&&this.actualModalDiv){this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),"slideDown"==this.getData("ltPropAnimation")&&(this.actualModalDiv.style.top="-"+(this.actualModalDiv.getBoundingClientRect().height+this.actualModalDiv.getBoundingClientRect().top+40)+"px");var t=1e3*parseFloat(document.defaultView.getComputedStyle(this.actualModalDiv).getPropertyValue("transition-duration"));"zoomIn"==this.getData("ltPropAnimation")&&this.actualModalDiv.classList.remove("alertOpened");var e=this;this.sId=setTimeout((function(){e.setData("ltPropShowCopy",!1),delete e.sId,delete e.actualModalDiv,delete e.childComp,LytePopup.checkAndRemoveWrapper()}),t-100),this.closeAlertFn(),LytePopup.closePopup(this),this.addedFreezeDetails&&(this.childComp.querySelector(".alertFreezeLayer").style.opacity=0,this.childComp.querySelector(".alertFreezeLayer").style.visibility="")}else LytePopup.closePopup(this);this.$node.classList.remove("lyteAlertOpened")},didDestroy:function(){this.$node.classList.remove("lyteAlertOpened"),this.openTId&&(clearTimeout(this.openTId),delete this.openTId),this.showTId&&(clearTimeout(this.showTId),delete this.showTId),this.closeTId&&(clearTimeout(this.closeTId),delete this.closeTId),this.sId&&(clearTimeout(this.sId),delete this.sId),this.childComp&&(this.addedFreezeDetails&&(LytePopup.hideOrShowFreeze("close",this),delete this.addedFreezeDetails),LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,LytePopup.checkAndRemoveWrapper())},actions:{closeAlert:function(){this.$node.ltProp("show",!1)},accept:function(t){var e=!0;this.getMethods("onAccept")&&(e=null==(e=this.executeMethod("onAccept",t,this))||e),e&&this.$node.ltProp("show",!1)},reject:function(t){var e=!0;this.getMethods("onReject")&&(e=null==(e=this.executeMethod("onReject",t,this))||e),e&&this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".alertPopup"),this.getData("ltPropYield")&&t.querySelector("lyte-alert-footer")?this.setData("nonYieldFooter",!1):this.setData("nonYieldFooter",!0),this.getData("nonYieldFooter")&&0==this.getData("ltPropButtons").length&&("confirm"==this.getData("ltPropType")?this.setData("ltPropButtons",[{type:"accept",text:"Ok"},{type:"reject",text:"Cancel"}]):this.setData("ltPropButtons",[{type:"accept",text:"Ok"}]))}}}),Lyte.Component.register("lyte-calendar",{_template:'<template tag-name="lyte-calendar"> <div class="{{containerClass}}" ontouchstart="{{action(\'record\',event)}}" ontouchend="{{action(\'decide\',event)}}"> <div class="lyteCalendarView"> <div> <template is="if" value="{{navYield}}"><template case="true"> <lyte-yield yield-name="navigator"></lyte-yield> </template><template case="false"> <div class="lyteCalendarNavigator"> <span id="{{monthDropdownId}}" class="lyteVisuallyHidden">{{lyteUiI18n("lyte.calendar.choose.month")}}</span> <span id="{{yearDropdownId}}" class="lyteVisuallyHidden">{{lyteUiI18n("lyte.calendar.choose.year")}}</span> <span class="lyteVisuallyHidden" aria-live="polite" id="{{headerId}}"> <template is="if" value="{{expHandlers(viewType,\'===\',\'dateView\')}}"><template case="true"> <span>{{lyteUiGetMonthOrYear(monthHeader,"M")}}</span><span>{{lyteUiGetMonthOrYear(monthHeader,"Y")}}</span> </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'monthView\')}}"><template case="true"> <span>{{currentYear}}</span> </template><template case="false"> <span>{{decadeStart}} - {{decadeEnd}}</span> </template></template></template></template> </span> <span class="lyteCalsCalMon"> <template is="if" value="{{expHandlers(expHandlers(ltPropHeaderType,\'===\',\'dropdown\'),\'||\',expHandlers(ltPropHeaderType,\'===\',\'picklist\'))}}"><template case="true"> <lyte-dropdown lt-prop-aria-button="{{monthAriaObj}}" lt-prop-freeze="false" lt-prop="{{stringify(ltPropDropdown)}}" on-show="{{method(\'setClass\')}}" class="lyteCalMonthDD" on-option-selected="{{method(\'optionSelected\',\'M\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box> <lyte-drop-body> <template is="for" items="{{monthNames}}" item="item" index="index"> <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> <template is="if" value="{{expHandlers(ltPropHeaderType,\'===\',\'dropdown\')}}"><template case="true"> <lyte-dropdown lt-prop-aria-button="{{yearAriaObj}}" lt-prop-freeze="false" lt-prop="{{stringify(ltPropDropdown)}}" on-show="{{method(\'setClass\')}}" class="lyteCalYearDD" on-option-selected="{{method(\'optionSelected\',\'Y\')}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-box> <lyte-drop-body> <template is="for" items="{{years}}" item="item" index="index"> <lyte-drop-item data-value="{{item}}">{{item}}</lyte-drop-item> </template> </lyte-drop-body> </lyte-drop-box> </template> </lyte-dropdown> </template><template case="false"> <lyte-picklist lt-prop-options="{{years}}" lt-prop-dropdown="{&quot;freeze&quot;: false, &quot;callout&quot;: true}" class="lyteCalYearDD" on-option-select="{{method(\'optionSelected\',\'Y\')}}" on-show="{{method(\'setClass\')}}"> </lyte-picklist> </template></template> </template><template case="false"><template is="if" value="{{expHandlers(ltPropHeaderType,\'===\',\'drilldown\')}}"><template case="true"> <template is="if" value="{{expHandlers(viewType,\'===\',\'dateView\')}}"><template case="true"> <span aria-label="{{lyteUiI18n(\'lyte.calendar.monthview.drilldown.button\')}}" tabindex="0" role="button" class="lyteDrillCalHeaderButton" onclick="{{action(\'changeToMonthView\',event)}}" onkeydown="{{action(\'changeToMonthViewOnKeys\',event)}}"> <span class="lyteCalsCalMonth">{{lyteUiGetMonthOrYear(monthHeader,"M")}}</span> <span class="lyteCalsCalYear">{{lyteUiGetMonthOrYear(monthHeader,"Y")}}</span> </span> </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'monthView\')}}"><template case="true"> <span aria-label="{{lyteUiI18n(\'lyte.calendar.decadeview.drilldown.button\')}}" tabindex="0" role="button" class="lyteDrillCalHeaderButton" onclick="{{action(\'changeToDecadeView\',event)}}" onkeydown="{{action(\'changeToDecadeViewOnKeys\',event)}}"> <span class="lyteCalsCalYear">{{currentYear}}</span> </span> </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'decadeView\')}}"><template case="true"> <span class="lyteDrillCalHeaderButton lyteDrillCalYearListHeader"> {{decadeStart}} - {{decadeEnd}} </span> </template></template></template></template></template></template> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(ltPropSelectionType,\'===\',\'month\'),\'||\',expHandlers(ltPropSelectionType,\'===\',\'year\'))}}"><template case="true"> <template is="if" value="{{expHandlers(viewType,\'===\',\'monthView\')}}"><template case="true"> <span> <span class="lyteCalsCalYear">{{currentYear}}</span> </span> </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'decadeView\')}}"><template case="true"> <span class="lyteDrillCalHeaderButton lyteDrillCalYearListHeader"> {{decadeStart}} - {{decadeEnd}} </span> </template></template></template></template> </template><template case="false"> <span class="lyteCalsCalMonth">{{lyteUiGetMonthOrYear(monthHeader,"M")}}</span> <span class="lyteCalsCalYear">{{lyteUiGetMonthOrYear(monthHeader,"Y")}}</span> </template></template></template></template></template></template> </span> <template is="if" value="{{ifNotEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true"> <template is="if" value="{{ltPropYear}}"><template case="true"> <span role="button" tabindex="0" class="lyteCalNav lyteCalyearNavLft" onclick="{{action(\'previous\',\'Y\',event)}}" onkeydown="{{action(\'previousOnKeys\',\'Y\',event)}}"> <span class="lyteVisuallyHidden">{{lyteUiI18n(\'lyte.calendar.previous.year\')}}</span> </span> </template></template> </template></template> <span role="button" class="lyteCalNav lyteCaldLft {{lyteUiDisableCalendarNav(viewDate,\'previous\')}}" tabindex="0" onclick="{{action(\'previous\',\'M\',event)}}" onkeydown="{{action(\'previousOnKeys\',\'M\',event)}}"> <span class="lyteVisuallyHidden">{{lyteUiI18n(\'lyte.calendar.previous.month\')}}</span> </span> <span role="button" class="lyteCalNav lyteCaldRgt {{lyteUiDisableCalendarNav(viewDate,\'next\')}}" tabindex="0" onkeydown="{{action(\'nextOnKeys\',\'M\',event)}}" onclick="{{action(\'next\',\'M\',event)}}"> <span class="lyteVisuallyHidden">{{lyteUiI18n(\'lyte.calendar.next.month\')}}</span> </span> <template is="if" value="{{ifNotEquals(ltPropHeaderType,&quot;dropdown&quot;)}}"><template case="true"> <template is="if" value="{{ltPropYear}}"><template case="true"> <span role="button" class="lyteCalNav lyteCalyearNavRgt" tabindex="0" onkeydown="{{action(\'nextOnKeys\',\'Y\',event)}}" onclick="{{action(\'next\',\'Y\',event)}}"> <span class="lyteVisuallyHidden">{{lyteUiI18n(\'lyte.calendar.next.year\')}}</span> </span> </template></template> </template></template> </div> </template></template> </div> <div class="lyteCalTableContainer" role="grid"> <template is="if" value="{{ltPropBodyYield}}"><template case="true"> <lyte-yield yield-name="body"></lyte-yield> </template><template case="false"> <template is="if" value="{{expHandlers(viewType,\'===\',\'dateView\')}}"><template case="true"> <div role="row" class="lyteCalTableRowHeader"> <template is="for" items="{{daysOfWeek}}" item="day" index="idod"> <div role="columnheader" aria-label="{{day.title}}" class="lyteCalTableCellHeader" id="{{day.id}}">{{lyteUiI18n(day.day)}}</div> </template> </div> </template></template> <div class="lyteCalTableRowGroup"> <template is="if" value="{{expHandlers(viewType,\'===\',\'dateView\')}}"><template case="true"> <template is="for" items="{{matrix}}" item="vector" index="rowid"> <template is="if" value="{{expHandlers(lyteUiCheckEmpty(vector),\'!\')}}"><template case="true"> <div class="lyteCalTableRow" role="row"> <template is="for" items="{{vector}}" item="date" index="cellid"> <template is="if" value="{{expHandlers(lyteUiCheckInRange(ltPropMinDate,ltPropMaxDate,date.val,ltPropFormat),\'&amp;&amp;\',expHandlers(lyteUiDisabledDates(date,ltPropDisabledDates),\'!\'))}}"><template case="true"> <template is="if" value="{{date.emptyBlock}}"><template case="true"> <div role="gridcell" class="lyteCalEmpty" data-selectable="false"></div> </template><template case="false"> <div role="gridcell" tabindex="-1" id="{{date.id}}" aria-labelledby="{{concat(date.id,\' \',headerId,\' \',daysOfWeek[cellid][\'id\'])}}" onkeydown="{{action(\'performNavigation\',event)}}" onclick="{{action(\'dateSelected\',event)}}" class="{{date.clsname}}" data-date="{{date.val}}" data-selectable="true"><span class="lyteCalDateSpan">{{date.date}}</span></div> </template></template> </template><template case="false"> <template is="if" value="{{date.emptyBlock}}"><template case="true"> <div role="gridcell" class="lyteCalEmpty" data-selectable="false"></div> </template><template case="false"> <div role="gridcell" tabindex="-1" id="{{date.id}}" aria-labelledby="{{concat(date.id,\' \',headerId,\' \',daysOfWeek[cellid][\'id\'])}}" aria-disabled="true" onkeydown="{{action(\'performNavigation\',event)}}" data-date="{{date.val}}" class="{{date.clsname}}" data-selectable="false"><span class="lyteCalDateSpan">{{date.date}}</span></div> </template></template> </template></template> </template> </div> </template></template> </template> </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'monthView\')}}"><template case="true"> <template is="for" items="{{monthViewData}}" item="row" index="rowIndex"> <div class="lyteCalTableRow"> <template is="for" items="{{row}}" item="column" index="columnIndex"> <div aria-label="{{lyteUiI18n(lyteUiGetLinearIndex(ariaMonthNames,rowIndex,columnIndex))}}" role="gridcell" tabindex="-1" onkeydown="{{action(\'performNavigation\',event)}}" onclick="{{action(\'monthSelected\',event)}}" class="{{column[\'class\']}}" data-date="{{column[\'systemValue\']}}"> {{column[\'displayValue\']}} </div> </template> </div> </template> </template><template case="false"><template is="if" value="{{expHandlers(viewType,\'===\',\'decadeView\')}}"><template case="true"> <template is="for" items="{{decadeViewData}}" item="row" index="rowIndex"> <div class="lyteCalTableRow"> <template is="for" items="{{row}}" item="column" index="columnIndex"> <template is="if" value="{{expHandlers(column.emptyBlock,\'!\')}}"><template case="true"> <div role="gridcell" tabindex="-1" onkeydown="{{action(\'performNavigation\',event)}}" onclick="{{action(\'yearSelected\',event)}}" class="lyteCalTableCell {{column.class}}" data-date="{{column.year}}"> {{column.year}} </div> </template><template case="false"> <div role="gridcell" class="lyteCalEmpty"> </div> </template></template> </template> </div> </template> </template></template></template></template></template></template> </div> </template></template> </div> <div> <div class="lyteCalBtns"> <template is="if" value="{{expHandlers(showToday,\'&amp;&amp;\',ltPropShowToday)}}"><template case="true"> <p role="button" tabindex="0" onkeydown="{{action(\'todayOnKey\',event)}}" class="lyteCalCurrentDate"><a onclick="{{action(\'today\',event)}}">{{lyteUiI18n(\'today\')}}</a></p> </template></template> <template is="if" value="{{ltPropYield}}"><template case="true"> <lyte-yield yield-name="footer"></lyte-yield> </template></template> </div> </div> </div> </div> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1,1]},{type:"if",position:[1,1,1,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"text",position:[1,3,0]},{type:"attr",position:[1,5]},{type:"attr",position:[1,5,1]},{type:"if",position:[1,5,1],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[2,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[1,2]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,7,1]},{type:"if",position:[1,7,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"text",position:[1,3,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"text",position:[1,3]}]}},default:{}}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"text",position:[1,3]}]}},default:{}}]}},default:{}}]},false:{dynamicNodes:[{type:"text",position:[1,0]},{type:"text",position:[3,0]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,9]},{type:"if",position:[1,9],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,11]},{type:"text",position:[1,11,1,0]},{type:"attr",position:[1,13]},{type:"text",position:[1,13,1,0]},{type:"attr",position:[1,15]},{type:"if",position:[1,15],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,3,1]},{type:"if",position:[1,1,3,1],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}]}},default:{}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0,0]}]}},default:{}}]}},default:{}}]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]}]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"for",position:[1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"for",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1]}]},false:{dynamicNodes:[]}},default:{}}]}]}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}},{type:"attr",position:[1,1,5,1,1]},{type:"if",position:[1,1,5,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,0]},{type:"text",position:[1,0,0]}]}},default:{}},{type:"attr",position:[1,1,5,1,3]},{type:"if",position:[1,1,5,1,3],cases:{true:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}],_observedAttributes:["ltPropStartDate","ltPropEndDate","ltPropCurrentDate","ltPropFormat","ltPropYear","ltPropMonthHeaderFormat","daysOfWeek","ariaMonthNames","monthSystemValues","monthNames","shortHands","todayName","viewDate","changeData","ltPropYield","ltPropMinDate","ltPropMaxDate","ltPropStartWeekDay","navYield","selectDate","currentDatechanged","ltPropFillRows","ltPropNumberOfRows","callFrmDidcnct","monthDD","yearDD","years","ltPropHeaderType","ltPropDropdown","cords","start","prev","tt","showToday","monthViewTableArray","ltPropBodyYield","ltPropShowToday","ltPropI18n","ltPropActivateNavigation","ltPropDisableNavigation","ltPropPreventAddingRows","ltPropSelectionType","ltPropWeekends","ltPropCurrentWeek","ltPropCurrentMonth","ltPropCurrentYear","ltPropDisabledDates","ltPropCurrentDates","ltPropMultiple","headerId","monthDropdownId","yearDropdownId","ltPropIso"],data:function(){return{ltPropStartDate:Lyte.attr("string",{default:""}),ltPropEndDate:Lyte.attr("string",{default:""}),ltPropCurrentDate:Lyte.attr("string",{default:""}),ltPropFormat:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","format","MM/DD/YYYY")}),ltPropYear:Lyte.attr("boolean",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","year",!0)}),ltPropMonthHeaderFormat:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","monthHeaderFormat","MMMM YYYY")}),daysOfWeek:Lyte.attr("array",{default:[]}),ariaMonthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),monthSystemValues:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),monthNames:Lyte.attr("array",{default:["January","February","March","April","May","June","July","August","September","October","November","December"]}),shortHands:Lyte.attr("array",{default:["Jan","Feb","Mar","Apr","short.may","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),todayName:Lyte.attr("string",{default:"Today"}),viewDate:Lyte.attr("object",{default:{}}),changeData:Lyte.attr("number",{default:0}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropMinDate:Lyte.attr("string",{default:""}),ltPropMaxDate:Lyte.attr("string",{default:""}),ltPropStartWeekDay:Lyte.attr("number",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","startWeekDay",1)}),navYield:Lyte.attr("boolean",{default:!1}),selectDate:Lyte.attr("boolean",{default:!0}),currentDatechanged:Lyte.attr("number",{default:0}),ltPropFillRows:Lyte.attr("boolean",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","fillRows",!0)}),ltPropNumberOfRows:Lyte.attr("number",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","numberOfRows",6)}),callFrmDidcnct:Lyte.attr("boolean",{default:!1}),monthDD:Lyte.attr("object"),yearDD:Lyte.attr("object"),years:Lyte.attr("array",{default:[]}),ltPropHeaderType:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","headerType","default")}),ltPropDropdown:Lyte.attr("object",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","dropdown",{callout:!0})}),cords:Lyte.attr("object",{default:{}}),start:Lyte.attr("number"),prev:Lyte.attr("boolean"),tt:Lyte.attr("boolean",{default:!0}),showToday:Lyte.attr("boolean",{default:!0}),monthViewTableArray:Lyte.attr("array",{default:[]}),ltPropBodyYield:Lyte.attr("boolean",{default:!1}),ltPropShowToday:Lyte.attr("boolean",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","showToday",!0)}),ltPropI18n:Lyte.attr("boolean",{default:_lyteUiUtils.resolveDefaultValue("lyte-calendar","I18n",!1)}),ltPropActivateNavigation:Lyte.attr("boolean",{default:!1}),ltPropDisableNavigation:Lyte.attr("boolean",{default:!1}),ltPropPreventAddingRows:Lyte.attr("boolean",{default:!1}),ltPropSelectionType:Lyte.attr("string",{default:"day"}),ltPropWeekends:Lyte.attr("array",{default:[6,0]}),ltPropCurrentWeek:Lyte.attr("array",{default:[]}),ltPropCurrentMonth:Lyte.attr("string",{default:""}),ltPropCurrentYear:Lyte.attr("string",{default:""}),ltPropDisabledDates:Lyte.attr("array",{default:[]}),ltPropCurrentDates:Lyte.attr("array",{default:[]}),ltPropMultiple:Lyte.attr("boolean",{default:!1}),headerId:Lyte.attr("string"),monthDropdownId:Lyte.attr("string"),yearDropdownId:Lyte.attr("string"),ltPropIso:Lyte.attr("string")}},getCells:function(){var t=this.getTableContainer().children,e=[];return Array.from(t).forEach((function(t){e=e.concat(Array.from(t.children))})),e},getTableContainer:function(){return this.$node.querySelector(".lyteCalTableRowGroup")},moveForward:function(t,e,a){this.move(t,e,a)},moveBackward:function(t,e,a){this.move(t,e,a)},move:function(t,e,a){var i,o=this.getActiveCell(),r=this.getCells(),n=r.indexOf(o),s=n+a;o&&(i=this.shouldViewChange(r,s,a)?this.getCellFromDifferentView(e,n,a,t):this.getCellFromSameView(r,s),this.activateCell(i),this.focusActiveCell())},getCellFromSameView:function(t,e){return t[e]},focusActiveCell:function(){var t=this.getActiveCell();t&&t.focus()},shouldViewChange:function(t,e,a){var i=this.getData("viewType");return"monthView"===i||"decadeView"===i?!t[e]:!this.isSameMonth(a)},isDisabledCell:function(t){return t.classList.contains("lyteCalDisabled")},getCellFromDifferentView:function(t,e,a,i){var o,r=this.getData("viewType");return"monthView"===r||"decadeView"===r?(this.changeView(t),this.getDrillDownViewCell(t,e,a)):(o=this.getChangedDate(a),this.changeView(t),this.getCell(o))},getDrillDownViewCell:function(t,e,a){var i=this.getCells();return"previous"===t?i[i.length+(e+a)]:i[(e+a)%i.length]},changeView:function(t){"previous"===t?this.moveToPrevious("M",event):this.moveToNext("M",event)},moveToFirstCell:function(t,e){var a=this.getCellsToMove(e,"home");this.moveBackward(t,e,a)},moveToLastCell:function(t,e){var a=this.getCellsToMove(e,"end");this.moveForward(t,e,a)},getCellsToMove:function(t,e){var a=this.getActiveCell(),i=(a||{}).parentElement,o=Array.from((i||{}).children||[]),r=o.indexOf(a),n=this.getData("viewType");return a?"home"===e||"end"===e?"previous"===t?-r:o.length-1-r:"monthView"===n||"decadeView"===n?"previous"===t?-4:4:"previous"===t?-7:7:0},getCell:function(t){return this.$node.querySelector('[data-date="'+t+'"]')},isSameMonth:function(t){return this.getChangedMonth(t)===this.getData("viewDate").getMonth()},getChangedMonth:function(t){var e=this.getChangedDate(t),a=this.getData("ltPropFormat");return $L.moment(e,a).format("M")-1},getChangedDate:function(t){var e=this.getActiveCell().getAttribute("data-date"),a=this.getData("ltPropFormat");return $L.moment(e,a).add(t,"day").format(a)},previousNavigation:function(t,e){var a=e.shiftKey?"Y":"M";this.moveToPrevious(a,e),this.focusActiveCell()},nextNavigation:function(t,e){var a=e.shiftKey?"Y":"M";this.moveToNext(a,e),this.focusActiveCell()},toDate:function(){return this.isHavingTimezone?new Date($L.moment().format("MM/DD/YYYY")):new Date},moment:function(t,e,a){var i=this.isHavingTimezone;return i?(a?a.ignore_timezone=i:a={ignore_timezone:i},$L.moment(t,e,a)):e?a?$L.moment(t,e,a):$L.moment(t,e):$L.moment(t)},changeBodyContainerClass:function(){var t=this.$node.querySelector(".lyteCalTableContainer"),e=this.getData("viewType"),a=this.getData("ltPropSelectionType");this.isDrilldown()?"dateView"===e?(t.classList.remove("lyteDrillCalMonthView"),t.classList.remove("lyteDrillCalYearView")):"monthView"===e?(t.classList.add("lyteDrillCalMonthView"),t.classList.remove("lyteDrillCalYearView")):"decadeView"===e&&(t.classList.remove("lyteDrillCalMonthView"),t.classList.add("lyteDrillCalYearView")):(this.removeSelectionStyles(),"day"===a?t.classList.add("lyteCalDaySelType"):"week"===a?t.classList.add("lyteCalWeekSelType"):"month"===a?t.classList.add("lyteCalMonthSelType"):t.classList.add("lyteCalYearSelType"))}.observes("viewType").on("didConnect"),removeSelectionStyles:function(){var t=this.$node.querySelector(".lyteCalTableContainer");t.classList.remove("lyteCalDaySelType"),t.classList.remove("lyteCalWeekSelType"),t.classList.remove("lyteCalMonthSelType"),t.classList.remove("lyteCalYearSelType")},changeDaysOfWeek:function(){var t,e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=this.getData("ltPropStartWeekDay"),o=[];for(t=0;t<7;t++)o.push({day:e[(t+i)%7],id:this.generateRandomId(),title:a[(t+i)%7]});this.setData("daysOfWeek",o)},generateRandomId:function(){return"Lyte_Calendar_Day_"+_lyteUiUtils.calId++},isYYFormat:function(){var t=this.getData("ltPropFormat");return/\byy\b/gi.test(t)},outsideBoundary:function(t){var e=t.getFullYear()-this.toDate().getFullYear(),a=this.isMomentSupported?$L.moment():{uL:19,lL:80};return e>a.uL||e<-a.lL||void 0},didDestroy:function(){delete this.$node.revertToToday},activateNavigation:function(){this.getData("ltPropActivateNavigation")&&(this.activateRelevantCell(),this.setData("ltPropActivateNavigation",!1))}.observes("ltPropActivateNavigation"),activateRelevantCell:function(){var t,e=this.getData("ltPropFormat"),a=this.stringToDate(this.getData("ltPropCurrentDate"),e),i=new Date,o=this.stringToDate(this.getData("previousActiveCellDate"),e);"Invalid Date"!==o&&(t=this.findSimilarCell(o)),"Invalid Date"!==a&&(t=t||this.findSimilarCell(a)),t=t||this.findSimilarCell(i),this.activateCell(t)},findSimilarCell:function(t){var e,a,i=t.getDate(),o=this.getData("viewDate"),r=o.getMonth(),n=o.getFullYear(),s=(t.getMonth(),this.getNumber(r,n)),l=this.getData("ltPropFormat");return e=new Date(r+1+"/"+(i>s?s:i)+"/"+n),a=this.getDateFromFormat(e,l),this.getCell(a)},activateCell:function(t){if(t){var e=this.$node.querySelector(".lyteCalNavCell");e&&(e.classList.remove("lyteCalNavCell"),e.setAttribute("tabindex","-1")),t.setAttribute("tabindex","0"),t.focus(),t.classList.add("lyteCalNavCell"),this.setData("previousActiveCellDate",t.getAttribute("data-date"))}},getActiveCell:function(){return this.$node.querySelector(".lyteCalNavCell")},setMonthAndYearDropdown:function(){if(!this.getData("navYield")&&this.isDropdownHeader()&&this.getData("monthDD")&&this.getData("yearDD")){var t,e=this.getData("monthHeader").split(" "),a=this.getData("ltPropMonthHeaderFormat"),i=[];if("callFrmDidcnct"==arguments[0].item){/MMMM YYYY/gi.test(a)?t=this.getData("monthNames"):/MMM YYYY/gi.test(a)&&(t=this.getData("shortHands"));for(var o=0;o<t.length;o++)i[o]=_lyteUiUtils.i18n(t[o]);this.setData("monthNames",i)}this.getData("monthDD").component.setData("ltPropSelected",e[0]),this.getData("yearDD").component.setData("ltPropSelected",e[1])}}.observes("monthHeader","callFrmDidcnct"),startWeekDayObserver:function(){this.changeDaysOfWeek()}.observes("ltPropStartWeekDay"),monthHeaderObserver:function(){this.buildDateViewHeader()}.observes("monthNames.[]"),getMonthHeader:function(){var t,e=this.getData("ltPropMonthHeaderFormat"),a="";return/MMMM YYYY/gi.test(e)?(t=this.getData("monthNames"),a=_lyteUiUtils.i18n(t[this.getData("viewDate").getMonth()])+" "+this.getData("viewDate").getFullYear()):/MMM YYYY/gi.test(e)&&(t=this.getData("shortHands"),a=_lyteUiUtils.i18n(t[this.getData("viewDate").getMonth()])+" "+this.getData("viewDate").getFullYear()),a},revert:function(t){var e=new Date(this.getData("viewDate").getTime()),a=this.toDate();a.setDate(1);var i=new Date(a.getTime());this.setData("viewDate",a),this.setAndBuildView("dateView",t),this.setData("showToday",!1),!this.getMethods("onNavigate")||e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()||this.executeMethod("onNavigate",t,this.getDateFromFormat(e,this.getData("ltPropFormat")),this.getDateFromFormat(i,this.getData("ltPropFormat")),this)},getDateFromFormat:function(t,e){return this.isMomentSupported?this.getDateStringFromMoment(t,e):this.getDateStringManually(t,e)},getDateStringFromMoment:function(t,e){return e=this.getRelevantFormat(e),this.moment(t).format(e)},resolveConflicts:function(t){var e=/(\bd\b|\bdd\b|\bddd\b|\bdddd\b)/.exec(t),a=(e||{}).index,i=(e||[])[0].length||0;return isNaN(a)?t.toUpperCase():t.substring(0,a+i)+(t.substring(a+i)||"").toUpperCase()},isConflictingFormat:function(t){return(t.match(/(\bd\b|\bdd\b|\bddd\b|\bdddd\b)/gi)||[]).length>1},getRelevantFormat:function(t){return this.isConflictingFormat(t)?this.resolveConflicts(t):t.toUpperCase()},getDateStringManually:function(t,e){var a,i=t.getDate(),o=t.getFullYear(),r=t.getMonth()+1;return e=e.toUpperCase(),r<10&&(r="0"+r),i<10&&(i="0"+i),/(MMMM|DD|YYYY).+(MMMM|DD|YYYY).+(YYYY|MMMM|DD)/gi.test(e)?(a=["January","February","March","April","May","June","July","August","September","October","November","December"],e=(e=(e=e.replace("MMMM",a[r-1])).replace("DD",i)).replace("YYYY",o)):/(MMM|DD|YYYY).+(MMM|DD|YYYY).+(YYYY|MMM|DD)/gi.test(e)?(a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=(e=(e=e.replace("MMM",a[r-1])).replace("DD",i)).replace("YYYY",o)):(/(YYYY).+(MM).+(DD)/gi.test(e)||/(MM).+(DD).+(YYYY)/gi.test(e)||/(DD).+(MM).+(YYYY)/gi.test(e))&&(e=(e=(e=e.replace("MM",r)).replace("DD",i)).replace("YYYY",o)),e},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getNumber:function(t,e){return this.isLeapYear.call(this,e)&&1==t?29:[31,28,31,30,31,30,31,31,30,31,30,31][t]},showtoday:function(){var t=this.toDate();t.getMonth()!=this.getData("viewDate").getMonth()||t.getYear()!=this.getData("viewDate").getYear()?this.setData("showToday",!0):this.setData("showToday",!1)},reset:function(t){t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)},checkDate:function(t){var e,a,i=this.getData("ltPropMinDate")||"",o=this.getData("ltPropMaxDate")||"";if(this.reset(t),""===i&&""===o)return!0;if(""!==i&&""===o){if(e=this.stringToDate(i,this.getData("ltPropFormat")),this.reset(e),t>=e)return!0}else if(""!==i&&""!==o){if(e=this.stringToDate(i,this.getData("ltPropFormat")),this.reset(e),a=this.stringToDate(o,this.getData("ltPropFormat")),this.reset(a),t>=e&&t<=a)return!0}else if(a=this.stringToDate(o,this.getData("ltPropFormat")),this.reset(a),t<=a)return!0;return!1},numberOfRowsChange:function(){var t=this.getData("ltPropNumberOfRows");try{if(t<5)throw"Calendar failed to render. The number of rows should be greater than 4."}catch(t){return void console.error(t)}this.setDatesFunction()}.observes("ltPropNumberOfRows"),setDates:function(t){this.__ignoremin&&"ltPropMinDate"==t.item||this.setDatesFunction()}.observes("ltPropStartDate","ltPropEndDate","changeData","ltPropMinDate","ltPropMaxDate","ltPropFormat","ltPropStartWeekDay"),getNumberOfFirstRowDates:function(t){var e=this.getData("ltPropStartWeekDay");return 0==t?0===e?7:e:t<e?e-t:7-(t-e)},getNumberToSubtract:function(t){var e=this.getData("ltPropStartWeekDay");return 0==t?0==e?0:7-e:t<e?7-(e-t):t-e},getFirstDay:function(t,e){var a;return(a=e-(a=t-7*Math.floor(t/7)-1))<0&&(a=7-a),a},getRemainingDays:function(t,e){return t-e-28},inc:function(t,e){return this.getData("ltPropPreventAddingRows")?e:t>0&&6==e?7:e},setDatesFunction:function(){var t=this.getData("ltPropNumberOfRows"),e=this.getData("ltPropFillRows"),a=(this.getData("ltPropFormat"),!1),i=[],o=this.getData("viewDate"),r=o.getDay(),n=o.getDate(),s=this.getFirstDay(n,r),l=o.getMonth(),p=o.getFullYear(),d=this.getNumber(l,p),c=this.getNumberOfFirstRowDates(s),u=this.getRemainingDays(d,c),m=this.getData("ltPropSelectionType")||"day";t=this.inc(u,t);var h=new Date(l+1+"/1/"+p),y=this.getNumberToSubtract(s);h.setDate(h.getDate()-y);for(var f=this.__ignoremin?o:this.toDate(),g=this.getSelectedDateObj(),v=this.getDisabledDates(),P=0;P<t&&!a;P++){i.push([]);for(var b=0;b<7;b++)if(e||l===h.getMonth())if(e&&this.isYYFormat()&&this.outsideBoundary(h)&&!this.isIso)i[P].push({emptyBlock:!0}),h.setDate(h.getDate()+1),0!=P&&(a=!0);else{var x="lyteCalCdate",D=h.getMonth(),w=new Date(this.getData("viewDate").getTime()).getMonth(),M=h.getDate(),T=h.getYear(),L=this.checkDate(h),C=this.isDisabled(h,v),A=""!==(this.getData("ltPropMinDate")||"")||""!==(this.getData("ltPropMaxDate")||"");w!==D?(x+=" lyteCalDiffMonth",A?L||(x+=" lyteCalDisabled"):x+=" lyteCalGray"):A&&!L&&(x+=" lyteCalDisabled"),C&&(x+=" lyteCalendarDisabledDate"),"day"===m&&this.isSelectedDate(h,g)&&this.getData("selectDate")&&(x+=" lyteCalSel"),"week"===m&&(x+=" "+this.getWeekSelectedClass(h)),f.getMonth()===D&&f.getDate()===M&&f.getYear()===T&&(x+=" lyteCalToday"),this.isWeekend(h)&&(x+=" lyteCalWeekend"),x+=" lyteCalTableCell";var S={};S.date=h.getDate(),S.id=this.generateRandomId(),S.clsname=x,S.val=this.getDateFromFormat.call(this,h,this.getData("ltPropFormat")),i[P].push(S),h.setDate(h.getDate()+1)}else i[P].push({emptyBlock:!0}),h.setDate(h.getDate()+1),0!=P&&(a=!0)}this.setData("matrix",i),this.shouldActivateCell()&&this.activateRelevantCell()},isSelectedDate:function(t,e){return this.getData("ltPropMultiple")?this.isDateInArray(e,t):"nodate"!==e&&"Invalid Date"!==e&&this.isSameDate(t,e)},isDateInArray:function(t,e){t=t||[];for(var a=0;a<t.length;a++)if(this.isSameDate(e,t[a]))return!0},isSameDate:function(t,e){return t.getYear()==e.getYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},getSelectedDateObj:function(){var t=this.getData("ltPropMultiple"),e=this.getData("ltPropCurrentDates");return t?this.getDObjArrayFromStrings(e):this.isIso?this.isoToDate(this.getData("ltPropIso")):this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):"nodate"},getDObjArrayFromStrings:function(t){var e=this;return(t=t||[]).map((function(t){return e.stringToDate(t,e.getData("ltPropFormat"))}))},getDisabledDates:function(){var t=this.getData("ltPropDisabledDates");return this.getDObjArrayFromStrings(t)},isDisabled:function(t,e){return this.isDateInArray(e,t)},getWeekSelectedClass:function(t){var e=this.getData("ltPropCurrentWeek")||[],a=e[0]||"",i=e[1]||"",o=this.getData("ltPropFormat");return a=this.stringToDate(a,o),i=this.stringToDate(i,o),"Invalid Date"===a||"InvalidDate"===i||t<a||t>i?"":"lyteCalWeekSel"},isWeekend:function(t){var e=t.getDay();return!!~(this.getData("ltPropWeekends")||[]).indexOf(e)},shouldActivateCell:function(){var t=this.getData("ltPropDisableNavigation"),e=this.isFromCurrentDateObserver,a=this.navigationButtonPressed;return this.isFromCurrentDateObserver=!1,this.navigationButtonPressed=!1,!t&&!e&&!a},executeViewDateChanges:function(){this.getMethods("onViewdateChange")&&this.executeMethod("onViewdateChange",this,this.getData("viewDate"))}.observes("viewDate"),getProperMonth:function(t){var e;return(e={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[t=t.toLowerCase()]||{january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12}[t])||0===e?e-1:parseFloat(t)-1},isProperDate:function(t,e,a){return a<=this.getNumber(e,t)},getDateObjFromString:function(t,e){try{var a,i,o=t.match(/([\da-z]+)/gi),r=(e=e.toUpperCase()).match(/([a-z]+)/gi),n=this.toDate(),s=0,l=["Y","M","D"];if(n.setDate(1),3!==o.length)return"Invalid Date";for(;s<r.length;){var p=this.getOrderIndex(r,l[s]);if(0==s)n.setFullYear(a=o[p]);else if(1==s){if((i=this.getProperMonth(o[p]))<0||i>11)return"Invalid Date";n.setMonth(i)}else if(2==s){if(!this.isProperDate(a,i,o[p]))return"Invalid Date";n.setDate(o[p])}if("Invalid Date"===n.toString())return n.toString();s++}return n}catch(t){return"Invalid Date"}},getDateObjFromMoment:function(t,e){var a;if(e=this.getRelevantFormat(e),!t)return"Invalid Date";try{a=this.moment(t,e).getDObj()}catch(t){a="Invalid Date"}return"[object Date]"===Object.prototype.toString.call(a)&&isNaN(a.getTime())&&(a="Invalid Date"),a||"Invalid Date"},stringToDate:function(t,e){return t=this.convertToEnglish(t),this.isMomentSupported?this.getDateObjFromMoment(t,e):this.getDateObjFromString(t,e)},findISO:function(){this.isIso=!!this.getData("ltPropIso")},isoToDate:function(t){var e=$L.moment(t).getDObj();return this.data.ltPropCurrentDate=$L.moment(e).format(this.getData("ltPropFormat")),e},convertToEnglish:function(t){var e=this.getData("ltPropI18n"),a=this.getData("ltPropFormat");return e?this.moment(t,a,{i18n:!0}).format(a):t},getEnglishShorthand:function(t){for(var e=this.getShortHands(),a=-1,i=0,o=this.getData("shortHands"),r=0;r<e.length;r++)~t.indexOf(e[r])&&e[r].length>i&&(a=r,i=e[r].length);return-1!==a&&(t=t.replace(e[a],this.getProperShortHand(o[a]))),t},getShortHands:function(){for(var t=this.getData("shortHands"),e=[],a=0;a<t.length;a++)e.push(_lyteUiUtils.i18n(t[a]));return e},getProperShortHand:function(t){return"short.may"===t?"May":t},getEnglishStandard:function(t){for(var e=this.getStandardMonths(),a=this.getData("monthNames"),i=-1,o=0,r=0;r<e.length;r++)~t.indexOf(e[r])&&e[r].length>o&&(i=r,o=e[r].length);return-1!==i&&(t=t.replace(e[i],a[i])),t},getStandardMonths:function(){for(var t=this.getData("monthNames"),e=[],a=0;a<t.length;a++)e.push(_lyteUiUtils.i18n(t[a]));return e},getOrderIndex:function(t,e){for(var a=0;a<t.length;a++)if(t[a].charAt(0)===e)return a;return-1},buildYears:function(){var t,e=[];for(t=1900;t<=2100;t++)e.push(t.toString());this.setData("years",e)},setAndBuildView:function(t,e,a){var i=this.getData("viewType"),o=t;this.setData("viewType",t),"monthView"===t?(this.buildMonthView(),this.setData("showToday",!1)):"decadeView"===t?(this.buildDecadeView(),this.setData("showToday",!1)):"dateView"===t&&this.buildDateView(),a||i===o||this.getMethods("onViewChange")&&this.executeMethod("onViewChange",e,t,this)},buildDateView:function(){this.buildDateViewHeader(),this.buildDateViewContent(),this.showtoday()},buildDateViewHeader:function(){this.setData("monthHeader",this.getMonthHeader())},buildDateViewContent:function(){this.setDatesFunction()},buildMonthView:function(){this.buildMonthViewHeader(),this.buildMonthViewContent(),this.activateCell(this.getActiveCell())},buildMonthViewHeader:function(){var t=this.getData("viewDate").getFullYear();this.setData("currentYear",t)},buildMonthViewContent:function(){for(var t,e,a=this.getData("monthSystemValues"),i=this.getData("shortHands"),o=0,r=[];o<3;o++)for(r.push([]),t=0;t<4;t++)e=4*o+t,r[o].push({displayValue:_lyteUiUtils.i18n(i[e]),systemValue:a[e],class:this.getProperClassForMonthView(e)});this.setData("monthViewData",r)},getProperClassForMonthView:function(t){var e=this.getData("viewDate").getFullYear(),a=this.getCurrentMonth(),i=this.getCurrentYear(),o=this.getData("ltPropFormat"),r=this.stringToDate(this.getData("ltPropCurrentDate"),o),n=this.getData("previousActiveCellDate")||"",s=this.getData("monthSystemValues").indexOf(n),l="lyteCalTableCell",p=this.getData("ltPropCurrentMonth");return l+=i===e&&t===a?" lyteDrillCalCurrentMonth":"",l+=-1!==s?t===s?" lyteCalNavCell":"":"Invalid Date"!==r?t===r.getMonth()?" lyteCalNavCell":"":t===a?" lyteCalNavCell":"",p===(t+1).toString()&&(l+=" lyteCalMonthSel"),l},getCurrentYear:function(){return this.toDate().getFullYear()},getCurrentMonth:function(){return this.toDate().getMonth()},buildDecadeView:function(){this.buildDecadeViewHeader(),this.buildDecadeViewContent(),this.activateCell(this.getActiveCell())},buildDecadeViewHeader:function(){var t=this.getData("viewDate").getFullYear(),e=t-t%10,a=e+9;this.setData("decadeStart",e),this.setData("decadeEnd",a)},buildDecadeViewContent:function(){var t,e,a,i=this.getData("viewDate").getFullYear(),o=i-i%10,r=this.isYYFormat(),n=[];for(t=0;t<3;t++)for(n.push([]),e=0;e<4;e++)a=o+4*t+e-1,r?n[t].push(a>2100||a<1900?this.emptyCell():this.currentYearCell(a,o)):n[t].push(this.currentYearCell(a,o));this.setActiveDecadeCell(n),this.setData("decadeViewData",n)},emptyCell:function(){return{emptyBlock:!0}},currentYearCell:function(t,e){var a=e+9,i=[],o=this.getCurrentYear(),r=this.getData("ltPropCurrentYear");return(t<e||t>a)&&i.push("lyteCalOtherDecadeCell"),o===t&&i.push("lyteDrillCalCurrentYear"),r===t.toString()&&i.push("lyteCalYearSel"),{year:t,emptyBlock:!1,class:i.join(" ")}},setActiveDecadeCell:function(t){var e,a=this.getData("ltPropCurrentDate"),i=this.getData("ltPropFormat"),o=this.stringToDate(a,i),r=this.getData("previousActiveCellDate"),n=this.getCurrentYear(),s=isNaN(r)?"Invalid Date"!==o?o.getFullYear():n:+r,l=t[0][0].year,p=t[t.length-1][t[t.length-1].length-1].year;s>=l&&s<=p?t[Math.floor((s-l)/4)][(s-l)%4].class+=" lyteCalNavCell":(e=s%10==9?Math.abs(s-l)<Math.abs(s-p)?0:10:s%10==0?Math.abs(s-l)<Math.abs(s-p)?1:11:s%10+1,t[Math.floor(e/4)][e%4].class+=" lyteCalNavCell")},buildNavigationalUI:function(){this.getData("ltPropHeaderType"),this.isDropdownHeader()&&this.buildYears()},initFn:function(){var t=this;this.findISO(),this.addContainerClass(),this.checkForMoment(),this.buildViewDate(),this.changeDaysOfWeek(),this.initializeCalendar(),this.setCalendarIdsForAria(),this.$node.revertToToday=function(){t.revert()},this.$node.focusCalendar=function(){t.setData("ltPropActivateNavigation",!0)},this.$node.revertToSelected=function(){t.revertToSelected()},this.$node.getDateArray=function(e){return t.setData("viewDate",e),t.buildDateViewContent(),t.getData("matrix")}}.observes("currentDatechanged").on("init"),setCalendarIdsForAria:function(){this.setData("headerId",this.generateRandomId()),this.setData("monthDropdownId",this.generateRandomId()),this.setData("yearDropdownId",this.generateRandomId()),this.setData("monthAriaObj",{"aria-labelledby":this.getData("monthDropdownId")}),this.setData("yearAriaObj",{"aria-labelledby":this.getData("yearDropdownId")})},revertToSelected:function(){var t=new Date(this.getData("viewDate").getTime()),e=this.getData("ltPropCurrentDate"),a=this.getData("ltPropFormat"),i=e?this.stringToDate(e,a):this.toDate(),o=this.toDate(),r={};if("Invalid Date"!==i){i.setDate(1);var n=new Date(i.getTime());this.setData("viewDate",i),this.setAndBuildView("dateView",r),n.getMonth()===o.getMonth()&&n.getFullYear()===o.getFullYear()?this.setData("showToday",!1):this.setData("showToday",!0),!this.getMethods("onNavigate")||t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()||this.executeMethod("onNavigate",r,this.getDateFromFormat(t,this.getData("ltPropFormat")),this.getDateFromFormat(n,this.getData("ltPropFormat")),this)}},addContainerClass:function(){var t=["lyteCalendarPopup"];"drilldown"===this.getData("ltPropHeaderType")&&t.push("lyteDrillDownCalendar"),this.setData("containerClass",t.join(" "))},checkForMoment:function(){this.isMomentSupported=!(!$L||!$L.moment),this.isHavingTimezone=this.isMomentSupported&&!!$L.moment()._timezone},buildViewDate:function(){if(this.isIso)var t=this.isoToDate(this.getData("ltPropIso"));else t=this.getData("ltPropCurrentDate")?this.stringToDate(this.getData("ltPropCurrentDate"),this.getData("ltPropFormat")):this.toDate();"Invalid Date"===t&&(t=this.toDate()),t.setDate(1),this.setData("viewDate",t)},initializeCalendar:function(){this.buildNavigationalUI(),this.decideView()},decideView:function(){var t=this.getData("ltPropSelectionType")||"day";"day"===t||"week"===t?this.setAndBuildView("dateView",void 0,!0):"month"===t?this.setAndBuildView("monthView",void 0,!0):this.setAndBuildView("decadeView",void 0,!0)},selectionTypeObserver:function(){this.isDrilldown()||(this.data.ltPropCurrentDate="",this.data.ltPropCurrentWeek=[],this.data.ltPropCurrentMonth="",this.data.ltPropCurrentYear=""),this.decideView()}.observes("ltPropSelectionType"),isDrilldown:function(){return"drilldown"===this.getData("ltPropHeaderType")},didConnect:function(){!this.getData("navYield")&&this.isDropdownHeader()&&(this.setData("monthDD",this.getMonthDropdown()),this.setData("yearDD",this.getYearDropdown()),this.setData("callFrmDidcnct",!0))},isDropdownHeader:function(){var t=this.getData("ltPropHeaderType");return"picklist"===t||"dropdown"===t},getYearDropdown:function(){var t=this.getData("ltPropHeaderType"),e=this.$node.querySelector(".lyteCalYearDD");return"picklist"===t&&(e=e.querySelector("lyte-dropdown")),e},getMonthDropdown:function(){return this.$node.querySelector(".lyteCalMonthDD")},didDestroy:function(){delete this.$node.revertToToday},changeIso:function(){this.isIso=!0;var t=$L.moment(this.getData("ltPropIso")).getDObj();this.setData("viewDate",t),this.isDropdownHeader()&&this.buildYears(),this.data.ltPropCurrentDate=$L.moment(this.getData("ltPropIso")).format(this.getData("ltPropFormat"),this.isYYFormat()),this.buildDateView()}.observes("ltPropIso"),changeViewDate:function(t){this.isIso=!1;var e=this.getData("ltPropCurrentDate"),a=this.getData("ltPropHeaderType");if(!this.getData("preventObs"))if(e)if("Invalid Date"!==this.stringToDate(e,this.getData("ltPropFormat"))){t=this.getData("ltPropCurrentDate");var i=this.stringToDate(t,this.getData("ltPropFormat"));i.setDate(1),("dropdown"!==a||this.isInRange(i))&&(this.setData("viewDate",i),this.isMomentSupported&&(this.data.ltPropIso=this.moment(i).format()),this.isFromCurrentDateObserver=!0,this.buildDateView())}else this.removeSelectedCell();else this.removeSelectedCell()}.observes("ltPropCurrentDate"),selectedDatesChanged:function(){this.getData("preventObs")||(this.isFromCurrentDateObserver=!0,this.buildDateView())}.observes("ltPropCurrentDates.[]"),disabledDatesChanged:function(){this.isFromCurrentDateObserver=!0,this.buildDateView()}.observes("ltPropDisabledDates.[]"),isInRange:function(t){var e=t.getFullYear();return e>=1900&&e<=2100},monthHeaderFormatObserver:function(){this.buildDateViewHeader()}.observes("ltPropMonthHeaderFormat"),changeCurrentDate:function(t,e,a){var i,o,r,n,s,l=new Date(this.getData("viewDate").getTime()),p=this.getData("ltPropFormat"),d=this.isYYFormat();p=this.getRelevantFormat(p),"Y"===t?(i=this.getData("viewDate"),this.isIso?(s=$L.moment(this.getData("viewDate")),d=!1):s=this.moment(this.getDateFromFormat(i,p),p),this.isMomentSupported?o=this.moment(s,p).add(e,"fullYear",d).getDObj():(i.setYear(i.getFullYear()+e),o=new Date(i.getTime())),this.setData("viewDate",o),this.buildDateView()):"M"===t&&(i=this.getData("viewDate"),this.isIso?(s=$L.moment(this.getData("viewDate")),d=!1):s=this.moment(this.getDateFromFormat(i,p),p),this.isMomentSupported?o=s.add(e,"month",d).getDObj():(i.setMonth(i.getMonth()+e),o=new Date(i.getTime())),this.setData("viewDate",o),this.buildDateView()),r=this.getDateFromFormat(l,this.getData("ltPropFormat")),n=this.getDateFromFormat(o,this.getData("ltPropFormat")),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",a,r,n,this)},changeCurrentYear:function(t,e){var a,i=this.getData("viewDate"),o=this.isMomentSupported,r=i.getFullYear(),n=this.getData("ltPropFormat"),s=this.isYYFormat(),l=this.getDateFromFormat(i,n),p=l;o?(n=this.getRelevantFormat(n),this.isIso?(l=this.moment(this.getData("viewDate")),s=!1):l=this.moment(l,n),i=l.add(t,"fullYear",s).getDObj()):i.setFullYear(r+t),a=this.getDateFromFormat(i,n),this.setData("viewDate",i),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",e,p,a,this)},changeCurrentDecade:function(t,e){var a,i=this.getData("viewDate"),o=this.getData("ltPropFormat"),r=this.isMomentSupported,n=this.getDateFromFormat(i,o),s=this.isYYFormat(),l=i.getFullYear(),p=n;o=this.getRelevantFormat(o),r?(this.isIso?(n=this.moment(this.getData("viewDate")),s=!1):n=this.moment(n,o),i=n.add(10*t,"fullYear",s).getDObj()):i.setFullYear(l+10*t),a=this.getDateFromFormat(i,o),this.setData("viewDate",i),this.getMethods("onNavigate")&&this.executeMethod("onNavigate",e,p,a,this)},getProper:function(t){for(;t&&!t.classList.contains("lyteCalTableCell");)t=t.parentElement;return t},convertToLang:function(t){var e=this.getData("ltPropI18n"),a=this.getData("ltPropFormat");return e?this.moment(t,a).i18N(a):t},moveToPrevious:function(t,e){var a=this.getData("viewType");"dateView"===a?(this.navigationButtonPressed=!0,this.changeCurrentDate(t,-1,e)):"monthView"===a?(this.changeCurrentYear(-1,e),this.buildMonthView()):"decadeView"===a&&(this.changeCurrentDecade(-1,e),this.buildDecadeView())},moveToNext:function(t,e){var a=this.getData("viewType");"dateView"===a?(this.navigationButtonPressed=!0,this.changeCurrentDate(t,1,e)):"monthView"===a?(this.changeCurrentYear(1,e),this.buildMonthView()):"decadeView"===a&&(this.changeCurrentDecade(1,e),this.buildDecadeView())},changeToMonthView:function(t){this.setAndBuildView("monthView",t)},changeToDecadeView:function(t){this.setAndBuildView("decadeView",t)},selectHighlightedCell:function(t){var e=this.getData("viewType");"drilldown"!==this.getData("ltPropHeaderType")||"dateView"===e?this.makeSelection(t):"monthView"===e?this.monthSelected(t):this.yearSelected(t)},selectDate:function(t){this.getData("ltPropMultiple")?this.selectMultiple(t):this.selectSingle(t)},selectMultiple:function(t){var e=this.getProper(t.target);this.terminateSelection(this.fireBeforeCallback(t,e))||(this.alreadySelected(e)?(this.removeSelectedCell(e),this.removeSelected(e),this.getMethods("onDateRemoved")&&this.executeMethod("onDateRemoved",t,e.getAttribute("data-date"),this)):this.selectCell(t))},terminateSelection:function(t){return!1===t},fireBeforeCallback:function(t,e){return this.alreadySelected(e)?this.fireBeforeRemove(t,e):this.fireBeforeAdd(t,e)},fireBeforeRemove:function(t,e){if(this.getMethods("onBeforeRemove"))return this.executeMethod("onBeforeRemove",t,e.getAttribute("data-date"),this)},fireBeforeAdd:function(t,e){if(this.getMethods("onBeforeAdd"))return this.executeMethod("onBeforeAdd",t,e.getAttribute("data-date"),this)},alreadySelected:function(t){return t.classList.contains("lyteCalSel")},removeSelected:function(t){var e=t.getAttribute("data-date"),a=this.getData("ltPropCurrentDates")||[],i=a.indexOf(e);~i&&Lyte.arrayUtils(a,"removeAt",i)},selectSingle:function(t){this.removeDayHighlights(),this.selectCell(t)},selectCell:function(t){var e=this.getProper(t.target);this.setSelected(e),e.classList.add("lyteCalSel"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","1"),this.getMethods("onDateSelected")&&this.executeMethod("onDateSelected",t,e.getAttribute("data-date"),this)},setSelected:function(t){var e=this.getData("ltPropMultiple"),a=this.convertToLang(t.getAttribute("data-date"));this.setData("preventObs",!0),e?Lyte.arrayUtils(this.getData("ltPropCurrentDates"),"push",a):this.setData("ltPropCurrentDate",a),this.setData("preventObs",!1)},monthSelected:function(t){var e=this.getData("viewDate").getFullYear(),a=this.getProper(t.target),i=a.getAttribute("data-date"),o="drilldown"===this.getData("ltPropHeaderType");i=this.getData("monthSystemValues").indexOf(i)+1,this.setData("viewDate",new Date(i+"/1/"+e)),o&&this.setAndBuildView("dateView",t),this.removeMonthHighlight(),this.addMonthHighlight(a),this.setData("ltPropCurrentMonth",i),this.getMethods("onMonthSelected")&&this.executeMethod("onMonthSelected",t,(i||"").toString(),this),this.focusActiveCell()},removeMonthHighlight:function(){var t=this.$node.querySelector(".lyteCalMonthSel");t&&(t.classList.remove("lyteCalMonthSel"),t.removeAttribute("aria-selected"))},addMonthHighlight:function(t){t.classList.add("lyteCalMonthSel"),t.setAttribute("aria-selected","true")},yearSelected:function(t){var e=this.getData("viewDate"),a=this.getProper(t.target),i=a.getAttribute("data-date"),o="drilldown"===this.getData("ltPropHeaderType");e.setYear(i),this.setData("viewDate",e),o&&this.setAndBuildView("monthView",t),this.removeYearHighlight(),this.addYearHighlight(a),this.setData("ltPropCurrentYear",i),this.getMethods("onYearSelected")&&this.executeMethod("onYearSelected",t,i,this),this.focusActiveCell()},removeYearHighlight:function(){var t=this.$node.querySelector(".lyteCalYearSel");t&&(t.classList.remove("lyteCalYearSel"),t.removeAttribute("aria-selected"))},addYearHighlight:function(t){t.classList.add("lyteCalYearSel"),t.setAttribute("aria-selected","true")},focusDrillDownButton:function(){var t=this.$node.querySelector(".lyteDrillCalHeaderButton");t&&t.focus()},makeSelection:function(t){"day"===this.getData("ltPropSelectionType")?this.selectDate(t):this.selectWeek(t)},selectWeek:function(t){var e=this.getProper(t.target),a=this.getFirstSelectableDay(e).getAttribute("data-date"),i=this.getLastSelectableDay(e).getAttribute("data-date");this.removeDayHighlights(),this.addWeekHighlight(e),this.setData("ltPropCurrentWeek",[this.convertToLang(a),this.convertToLang(i)]),this.getMethods("onWeekSelected")&&this.executeMethod("onWeekSelected",t,a,i,this)},removeDayHighlights:function(){this.removeSelectedCell(),this.removeWeekHighlight()},removeSelectedCell:function(t){var e=t||this.getSelectedCell();e&&(e.classList.remove("lyteCalSel"),e.removeAttribute("aria-selected"),e.setAttribute("tabindex","-1"))},getSelectedCell:function(){return this.$node.querySelector(".lyteCalSel")},removeWeekHighlight:function(){for(var t=this.$node.querySelectorAll(".lyteCalWeekSel"),e=0;e<t.length;e++)t[e].classList.remove("lyteCalWeekSel"),t[e].removeAttribute("aria-selected")},addWeekHighlight:function(t){var e=this.getFirstSelectableDay(t);day=e;do{day.classList.add("lyteCalWeekSel"),day.setAttribute("aria-selected","true"),day=day.nextElementSibling}while(day&&"true"===day.getAttribute("data-selectable"))},getFirstSelectableDay:function(t){for(var e=t.parentElement.children,a=0;a<e.length;a++)if("true"===e[a].getAttribute("data-selectable"))return e[a]},getLastSelectableDay:function(t){for(var e=t.parentElement.children,a=e.length-1;a>-1;a--)if("true"===e[a].getAttribute("data-selectable"))return e[a]},actions:{changeToMonthView:function(t){this.changeToMonthView(t),this.focusDrillDownButton()},changeToMonthViewOnKeys:function(t){var e=t.keyCode;13!==e&&32!==e||(this.changeToMonthView(t),this.focusDrillDownButton())},changeToDecadeView:function(t){this.changeToDecadeView(t),this.focusActiveCell()},changeToDecadeViewOnKeys:function(t){var e=t.keyCode;13!==e&&32!==e||(this.changeToDecadeView(t),this.focusActiveCell())},record:function(t){if(this.setData("prev",!1),t.touches.length>1)this.setData("prev",!0);else{var e=t.targetTouches[0],a={x:e.clientX,y:e.clientY},i=(new Date).getTime();this.setData("cords",a),this.setData("start",i)}},decide:function(t){if(!this.getData("prev")){var e=this.getData("cords"),a=e.x,i=e.y,o=t.changedTouches[0],r=a-o.clientX,n=i-o.clientY,s=this.$node.querySelector(".lyteCalendarPopup").getBoundingClientRect(),l=.2*s.width,p=.15*s.height,d=this.getData("start"),c=(new Date).getTime()-d;p>Math.abs(n)&&l<Math.abs(r)&&c<1e3&&(r<0?this.changeCurrentDate("M",-1,t):r>0&&this.changeCurrentDate("M",1,t))}},previousOnKeys:function(t,e){e.keyCode,13!==e.keyCode&&32!==e.keyCode||this.moveToPrevious(t,e)},nextOnKeys:function(t,e){var a=e.keyCode;13!==a&&32!==a||this.moveToNext(t,e)},previous:function(t,e){this.moveToPrevious(t,e)},next:function(t,e){this.moveToNext(t,e)},yearSelected:function(t){this.yearSelected(t)},monthSelected:function(t){this.monthSelected(t)},dateSelected:function(t){0===t.button&&this.makeSelection(t)},performNavigation:function(t){var e,a,i,o=t.keyCode,r=t.target;if(!this.getData("ltPropDisableNavigation"))switch(o){case 38:e="previous",i="up",a=this.getCellsToMove(e,i),this.moveBackward(t,e,a),t.preventDefault();break;case 40:e="next",i="down",a=this.getCellsToMove(e,i),this.moveForward(t,e,a),t.preventDefault();break;case 37:e="previous",a=-1,this.moveBackward(t,e,a),t.preventDefault();break;case 39:e="next",a=1,this.moveForward(t,e,a),t.preventDefault();break;case 32:case 13:if(this.isDisabledCell(r))return;this.selectHighlightedCell(t),t.preventDefault();break;case 36:e="previous",this.moveToFirstCell(t,e),t.preventDefault();break;case 35:e="next",this.moveToLastCell(t,e),t.preventDefault();break;case 33:this.previousNavigation("M",t),t.preventDefault();break;case 34:this.nextNavigation("M",t),t.preventDefault()}},today:function(t){this.revert(t),this.focusActiveCell()},todayOnKey:function(t){var e=t.keyCode;13!==e&&32!==e||(this.revert(t),this.focusActiveCell())}},methods:{optionSelected:function(t,e,a,i){if(this.navigationButtonPressed=!0,"M"==t){var o=this.getData("monthNames").indexOf(a);this.changeCurrentDate(t,o-this.getData("viewDate").getMonth(),e)}else"Y"==t&&this.changeCurrentDate(t,parseInt(a)-this.getData("viewDate").getFullYear(),e)},setClass:function(t,e){var a=e.childComp,i=_lyteUiUtils.getRTL(),o=i?"right":"left",r=a.querySelector(".lyteArrow");a.classList.add("lyteCalendarDropdown"),r.style[o]="20%",i&&(r.style.left="auto")}}}),Lyte.Component.register("lyte-fileupload",{_template:'<template tag-name="lyte-fileupload"> <input class="fileuploadInput {{ltPropClass}}" id="{{ltPropId}}" type="file" name="{{ltPropName}}" onchange="{{action(\'change\',event,this)}}" multiple="{{ltPropMultiple}}" accept="{{ltPropAccept}}"> <div tabindex="{{ltPropTabindex}}" class="fileUploadWrapper {{fileClass}} {{if(ltPropMultiple,\'multiFileupload\',\'singleFileUpload\')}} lyteFileUpd{{ltPropAppearance}}Type {{if(ltPropDisabled,\'lyteFileUpdDisabled\')}} {{maxFileClass}}" ondragenter="{{action(\'drag\',event)}}" ondragover="{{action(\'drag\',event)}}" ondrop="{{action(\'drop\',event)}}" onclick="{{action(\'click\',event)}}" style="outline: none;position: relative;" onpaste="{{action(\'paste\',event)}}" onkeydown="{{action(\'keydown\',event)}}" aria-labelledby="{{randomAriaId}}" data-tabindex="{{ltPropDataTabindex}}"> <template is="if" value="{{ltPropYield}}"><template case="true"> <lyte-yield yield-name="file" queue-list="{{queueList}}" predefined-list="{{predefinedList}}"></lyte-yield> </template><template case="false"> <template is="if" value="{{ltPropMultiple}}"><template case="true"> <lyte-file-select-area> <lyte-file-message class="lyteFileUpdMsgWrap"> <span class="lyteFileUpdMsg">{{lyteUiI18n(ltPropMessage,"fileupload")}}</span> </lyte-file-message> </lyte-file-select-area> <div class="lyteFileUpdList"> <template is="for" items="{{predefinedList}}" item="item" index="index"> <div class="lyteFileUpdListFile"> <div class="lyteFileUpdTypePreview"> <template is="if" value="{{lyteUiImageFile(item)}}"><template case="true"> <img class="lyteFileUpdThumb" src="{{item.src}}"> </template><template case="false"> <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span> </template></template> </div> <lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text> <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size,ltPropFileUnit,ltPropDigits)}} )</span> <lyte-file-close data-value="{{item.id}}" role="button" aria-label="{{ariaCloseLabel}} selected {{item.name}} file"> </lyte-file-close> </div> </template> <template is="for" items="{{queueList}}" item="item" index="index"> <div class="lyteFileUpdListFile {{concat(\'lyteFile\',lyteUiCapitalizeName(item.status))}}"> <div class="lyteFileUpdTypePreview"> <template is="if" value="{{lyteUiImageFile(item)}}"><template case="true"> <img class="lyteFileUpdThumb" src="{{item.src}}"> </template><template case="false"> <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span> </template></template> </div> <lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text> <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size,ltPropFileUnit,ltPropDigits)}} )</span> <template is="if" value="{{expHandlers(item.percentage,\'!=\',undefined)}}"><template case="true"> <div class="lyteFileUpdFileStatus" data-completed="{{item.percentage}}"> <div class="lyteFileUpdProgressBar"> <div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div> </div> </div> </template></template><template is="if" value="{{expHandlers(item.status,\'==\',&quot;error&quot;)}}"><template case="true"> <lyte-file-retry data-value="{{item.id}}" role="button"> <span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span> <template is="if" value="{{expHandlers(ltPropUploadMultiple,\'!\')}}"><template case="true"> <span class="lyteFileUpdRetryMsg">{{lyteUiI18n(ltPropRetryText,"fileupload")}}</span> </template></template> </lyte-file-retry> </template></template> <template is="if" value="{{expHandlers(expHandlers(ltPropUploadMultiple,\'!\'),\'||\',expHandlers(expHandlers(expHandlers(item.status,\'!\'),\'||\',expHandlers(item.status,\'==\',&quot;error&quot;)),\'||\',expHandlers(item.status,\'==\',&quot;success&quot;)))}}"><template case="true"> <lyte-file-close aria-level="2" tabindex="0" aria-label="{{ariaCloseLabel}} selected {{item.name}} file" role="button" data-value="{{item.id}}"> </lyte-file-close> </template></template> </div> </template> </div> </template><template case="false"> <lyte-file-select-area> <lyte-file-message class="lyteFileUpdMsgWrap {{if(expHandlers(queueList.length,\'||\',predefinedList.length),\'lyteHide\',\'\')}}"> <span class="lyteFileUpdMsg"> {{lyteUiI18n(ltPropMessage,"fileupload")}} </span> </lyte-file-message> <div class="lyteFileUpdList" tabindex="0" aria-level="2" aria-label="SelectedFile:{{ariaSelectedFiles}}"> <template is="for" items="{{predefinedList}}" item="item" index="index"> <div class="lyteFileUpdListFile"> <div class="lyteFileUpdTypePreview"> <template is="if" value="{{lyteUiImageFile(item)}}"><template case="true"> <img class="lyteFileUpdThumb" src="{{item.src}}"> </template><template case="false"> <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span> </template></template> </div> <lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text> <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size,ltPropFileUnit,ltPropDigits)}} )</span> <lyte-file-close data-value="{{item.id}}" aria-label="{{ariaCloseLabel}} selected {{item.name}} file" role="button"> </lyte-file-close> </div> </template> <template is="for" items="{{queueList}}" item="item" index="index"> <div class="lyteFileUpdListFile {{concat(\'lyteFile\',lyteUiCapitalizeName(item.status))}}"> <div class="lyteFileUpdTypePreview"> <template is="if" value="{{lyteUiImageFile(item)}}"><template case="true"> <img class="lyteFileUpdThumb" src="{{item.src}}"> </template><template case="false"> <span class="lyteFileUpdTypeIcon {{item.fileType}}"></span> </template></template> </div> <lyte-text class="lyteFileUpdFileName" lt-prop-value="{{item.name}}"></lyte-text> <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size,ltPropFileUnit,ltPropDigits)}} )</span> <template is="if" value="{{expHandlers(item.percentage,\'!=\',undefined)}}"><template case="true"> <div class="lyteFileUpdFileStatus" data-completed="{{item.percentage}}"> <div class="lyteFileUpdProgressBar"> <div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div> </div> </div> </template></template><template is="if" value="{{expHandlers(item.status,\'==\',&quot;error&quot;)}}"><template case="true"> <lyte-file-retry data-value="{{item.id}}" role="button"> <span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span> <span class="lyteFileUpdRetryMsg"> {{lyteUiI18n(ltPropRetryText,"fileupload")}} </span> </lyte-file-retry> </template></template> <lyte-file-close data-value="{{item.id}}" tabindex="0" aria-label="{{ariaCloseLabel}} selected {{item.name}} file" role="button"> </lyte-file-close> </div> </template> </div> </lyte-file-select-area> </template></template> </template></template> <template is="if" value="{{fileClass}}"><template case="true"><div ondragleave="{{action(\'drag\',event)}}" class="lyteFileDragWrapper"> </div></template></template> </div> <template is="if" value="{{ltPropAria}}"><template case="true"><span id="{{randomAriaId}}" style="display: none;"> SelectedFiles:{{ariaSelectedFiles}} </span></template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"insertYield",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"componentDynamic",position:[1,7]}]},{type:"attr",position:[3,3]},{type:"for",position:[3,3],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","item.percentage","'%'"]}}}}]}},default:{}},{type:"attr",position:[1,8]},{type:"if",position:[1,8],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,10]},{type:"if",position:[1,10],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}}]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"attr",position:[1,3,1]},{type:"for",position:[1,3,1],dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"componentDynamic",position:[1,7]}]},{type:"attr",position:[1,3,3]},{type:"for",position:[1,3,3],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,3]},{type:"componentDynamic",position:[1,3]},{type:"text",position:[1,5,1]},{type:"attr",position:[1,7]},{type:"if",position:[1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'width: '","item.percentage","'%'"]}}}}]}},default:{}},{type:"attr",position:[1,8]},{type:"if",position:[1,8],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"text",position:[1,3,1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,10]},{type:"componentDynamic",position:[1,10]}]},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"attr",position:[0]},{type:"text",position:[0,1]}]}},default:{}}],_observedAttributes:["ltPropName","ltPropMultiple","ltPropAccept","ltPropId","ltPropClass","ltPropAppearance","ltPropDisabled","ltPropYield","ltPropFileLimit","ltPropMinimumFileSize","ltPropTotalFilesSize","ltPropParallel","ltPropAutoUpload","ltPropTriggerUpload","ltPropParamName","ltPropThumb","ltPropTabindex","ltPropRetry","ltPropFileUnit","ltPropDigits","ltPropMessage","ltPropFailureMessage","ltPropRetryText","ltPropFiles","ltPropFolder","ltPropChunk","ltPropChunkSize","ltPropParallelChunkUpload","ltPropParallelChunkCount","ltPropChunkRetry","ltPropUploadMultiple","ltPropUploadMultipleCount","ltPropAjax","ltPropAllowReplace","ltPropFilesCount","ltPropAriaAttributes","ltPropReset","ltPropPreventDuplicate","ltPropResetFileValue","ltPropAria","ltPropDataTabindex","queueList","predefinedList","currentUpload","chunkUpload","fileClass","chunkCount","abort","lxhrs","uploadedFiles","manualUpdFiles","uploadMultipleRetry","retryFiles","retry","manualUpload","totalFilesSize","curTotFilesSize","ariaCloseLabel","commonAriaLabel","ariaSelectedFiles","randomAriaId"],init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didConnect:function(){this._file=this.$node.querySelector("input.fileuploadInput"),this.$node.upload=this.processqueue.bind(this),this.$node.removeUpload=function(t){t?this.removeFrmUpload(t,"queueList"):this.removeFrmUpload(this.data.queueList,"queueList",!0),this._file.value=""}.bind(this),this.$node.predefined=function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++)Lyte.arrayUtils(this.data.predefinedList,"push",t[e])}.bind(this),this.$node.addFiles=function(t){Array.isArray(t)||(t=[t]),this.validate(t)}.bind(this),this.folderUpload(),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},didDestroy:function(){this.$node.removeUpload(),this._triggerId&&(clearTimeout(this._triggerId),delete this._triggerId),this._resetId&&(clearTimeout(this._resetId),delete this._resetId),delete this._file,delete this.$node.upload,delete this.$node.removeUpload,delete this.$node.predefined,delete this.$node.addFiles},addAriaForButton:function(t,e,a,i){t.hasOwnProperty(e)&&(i=t[e],delete t[e]),this.setData(a,i)},addAriaValues:function(t){var e=this.data.commonAriaLabel,a=this.$node.querySelector(".fileUploadWrapper");t=Object.assign({},t),this.addAriaForButton(t,"close-label","ariaCloseLabel","remove"),_lyteUiUtils.setAttribute(a,t,e),this.setData("commonAriaLabel",t)},ariaObserver:function(t){var e=this.data.ltPropAriaAttributes;this.data.ltPropAria&&(t||this.setData("randomAriaId",(new Date).getTime()+parseInt(1e11*Math.random())),this.addAriaValues(e))}.observes("ltPropAriaAttributes.*").on("didConnect"),disableDataObserver:function(){var t=this.data.ltPropDisabled,e=this.$node.querySelector(".fileUploadWrapper");t?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled")}.observes("ltPropDisabled").on("didConnect"),data:function(){return{ltPropName:Lyte.attr("string",{default:"file"}),ltPropMultiple:Lyte.attr("boolean",{default:!0}),ltPropAccept:Lyte.attr("string",{default:""}),ltPropId:Lyte.attr("string",{default:""}),ltPropClass:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-fileupload","appearance","Box")}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropFileLimit:Lyte.attr("number",{default:void 0}),ltPropMinimumFileSize:Lyte.attr("number",{default:0}),ltPropTotalFilesSize:Lyte.attr("string"),ltPropParallel:Lyte.attr("number",{default:2}),ltPropAutoUpload:Lyte.attr("boolean",{default:!0}),ltPropTriggerUpload:Lyte.attr("boolean",{default:!1}),ltPropParamName:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-fileupload","paramName","file")}),ltPropThumb:Lyte.attr("boolean",{default:!1}),ltPropTabindex:Lyte.attr("number",{default:0}),ltPropRetry:Lyte.attr("number",{default:_lyteUiUtils.resolveDefaultValue("lyte-fileupload","retry",2)}),ltPropFileUnit:Lyte.attr("string",{default:""}),ltPropDigits:Lyte.attr("number",{default:_lyteUiUtils.resolveDefaultValue("lyte-fileupload","digits",1)}),ltPropMessage:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-fileupload","message","Drag file here or browse to upload")}),ltPropFailureMessage:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-fileupload","failureMessage","Attachment failed")}),ltPropRetryText:Lyte.attr("string",{default:_lyteUiUtils.resolveDefaultValue("lyte-fileupload","retryText","Retry")}),ltPropFiles:Lyte.attr("array",{default:[]}),ltPropFolder:Lyte.attr("boolean",{default:!1}),ltPropChunk:Lyte.attr("boolean",{default:!1}),ltPropChunkSize:Lyte.attr("number",{default:2e6}),ltPropParallelChunkUpload:Lyte.attr("boolean",{default:!1}),ltPropParallelChunkCount:Lyte.attr("number",{default:1/0}),ltPropChunkRetry:Lyte.attr("number",{default:2}),ltPropUploadMultiple:Lyte.attr("boolean",{default:!1}),ltPropUploadMultipleCount:Lyte.attr("number",{default:1/0}),ltPropAjax:Lyte.attr("object",{default:{url:""}}),ltPropAllowReplace:Lyte.attr("boolean",{default:!1}),ltPropFilesCount:Lyte.attr("number",{default:1/0}),ltPropAriaAttributes:Lyte.attr("object",{default:{role:"button","aria-roledescription":"fileupload"},watch:!0}),ltPropReset:Lyte.attr("boolean",{default:!1}),ltPropPreventDuplicate:Lyte.attr("boolean",{default:!1}),ltPropResetFileValue:Lyte.attr("boolean",{default:!1}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropDataTabindex:Lyte.attr("string",{default:""}),queueList:Lyte.attr("array",{default:[]}),predefinedList:Lyte.attr("array",{default:[]}),currentUpload:Lyte.attr("array",{default:[]}),chunkUpload:Lyte.attr("array",{default:[]}),fileClass:Lyte.attr("string",{default:""}),chunkCount:Lyte.attr("number",{default:0}),abort:Lyte.attr("boolean",{default:!1}),lxhrs:Lyte.attr("array",{default:[]}),uploadedFiles:Lyte.attr("array",{default:[]}),manualUpdFiles:Lyte.attr("array",{default:[]}),uploadMultipleRetry:Lyte.attr("number",{default:0}),retryFiles:Lyte.attr("array",{default:[]}),retry:Lyte.attr("boolean",{default:!1}),manualUpload:Lyte.attr("boolean",{default:!1}),totalFilesSize:Lyte.attr("number"),curTotFilesSize:Lyte.attr("number",{default:0}),ariaCloseLabel:Lyte.attr("string"),commonAriaLabel:Lyte.attr("object",{default:{}}),ariaSelectedFiles:Lyte.attr("string",{default:"0"}),randomAriaId:Lyte.attr("string")}},getFileDataAsString:function(t){var e="",a=Lyte.Component.registeredHelpers.lyteUiFileSize,i=this.data.ltPropFileUnit,o=this.data.ltPropDigits;return t.forEach((function(t){e+="name "+t.name+" size "+a(t.size,i,o)+" "})),e},constructAriaString:function(){if(this.data.ltPropAria){var t=this.getFileDataAsString(this.data.predefinedList);(t=this.getFileDataAsString(this.data.queueList))?this.setData("ariaSelectedFiles",t):this.setData("ariaSelectedFiles","0")}},exceedTotalCount:function(){var t=this.data.ltPropFilesCount;if(t!==1/0){var e=this.data.predefinedList||[],a=this.data.queueList||[];return!(e.length+a.length<t)}return!1},folderUpload:function(){this.data.ltPropFolder?this._file.setAttribute("webkitdirectory",!0):this._file.removeAttribute("webkitdirectory")},validateAndGetType:function(t,e,a){var i,o,r=new RegExp(this.data.ltPropAccept.replace(/\s+/g,"").split(",").join("|")),n="";return t&&(o="."+(n=t.substring(t.lastIndexOf(".")+1,t.length))),r.test(e)?i=(i=e.match(/(video|image|pdf|zip)/gi))&&i[0]?i[0]:n:r.test(n)||r.test(o)?i=n:a.type="Invalid_Type",i},validateSize:function(t,e){t.size<this.data.ltPropMinimumFileSize?e.size="Lower_Size":t.size>this.data.ltPropFileLimit?e.size="Higher_Size":this.checkTotalFilessize(t.size)&&(e.totalSize="Exceeds")},checkFileName:function(t,e){return t===e.name},findDuplicateInArray:function(t,e){return this.findIndex(t,this.checkFileName.bind(this,e))>-1},validateDuplicateFile:function(t,e){if(this.data.ltPropPreventDuplicate){var a=this.data.predefinedList,i=this.data.queueList,o=t.name,r=this.findDuplicateInArray(a,o);(r=r||this.findDuplicateInArray(i,o))&&(e.duplicate=!0)}},folderUploadObserver:function(){this.folderUpload()}.observes("ltPropFolder"),trigUpl:function(t){if(t.newValue){this.processqueue();var e=this;this._triggerId=setTimeout((function(){e.setData("ltPropTriggerUpload",!1),delete e._triggerId}),0)}}.observes("ltPropTriggerUpload"),resetObserver:function(t){if(t.newValue){this.$node.removeUpload();var e=this;this._resetId=setTimeout((function(){e.setData("ltPropReset",!1),delete e._resetId}),0)}}.observes("ltPropReset"),validate:function(t){for(var e=[],a=!1,i=0;i<t.length;i++){var o={},r=this.data.ltPropChunk,n=t[i].name,s=t[i].type,l=this.validateAndGetType(n,s,o);if(this.validateSize(t[i],o),this.validateDuplicateFile(t[i],o),this.exceedTotalCount()&&(o.fileCount="Exceeds"),Object.keys(o).length>0)a=!0,this.getMethods("onReject")&&this.executeMethod("onReject",t[i],o,this.$node);else{var p;if(this.getMethods("onBeforeAdd")&&(p=this.executeMethod("onBeforeAdd",t[i],this.$node)),0==p){a=!0;continue}if(p&&p.then){e.push(p);var d=t[i];Promise.resolve(p).then(this.add.bind(this,d,r,l))}else this.add(t[i],r,l);if(!this.data.ltPropMultiple)break}}(a||this.data.ltPropResetFileValue)&&(this._file.value=""),this.data.ltPropAutoUpload&&(e.length?Lyte.resolvePromises(e).then(this.processqueue.bind(this)):this.processqueue()),this.constructAriaString()},add:function(t,e,a){var i={id:"lyte"+(new Date).getTime()+parseInt(1e11*Math.random()),file:t,size:t.size,name:t.name,isChunk:e,retry:0,fileType:a||"document"};this.data.ltPropThumb&&/image/i.test(t.type)&&Lyte.Component.set(i,"src",URL.createObjectURL(t)),this.addToTotalFilesSize(t.size),Lyte.arrayUtils(this.data.uploadedFiles,"push",i),Lyte.arrayUtils(this.data.queueList,"push",i),Lyte.arrayUtils(this.data.ltPropFiles,"push",t),this.getMethods("onAdd")&&this.executeMethod("onAdd",t,this.$node,i)},chkId:function(t,e){return e.id==t},SendingFile:function(){for(var t=this.data,e=t.manualUpdFiles,a=0;a<e.length;){var i=e[a];if(!i.status||i.isChunk&&"uploading"==i.status)if(i.isChunk){if(!i.status){this.setData("manualUpload",!0),this.uploadFile(i);break}if(i.finished+i.currentUploadingChunks<i.chunks.length){this.setData("manualUpload",!0),this.uploadFile(i);break}a++}else{if(!(t.currentUpload.length<t.ltPropParallel))break;this.setData("manualUpload",!0),Lyte.arrayUtils(t.currentUpload,"push",i),this.uploadFile(i),a++}else a++}a===e.length&&this.finishcallback(e)},processqueue:function(t,e,a){var i=this.data,o=0,r=[];if(t&&!a){t.constructor!=Array&&(t=[t]);for(var n=0;n<t.length;n++){var s=t[n].id||t[n],l=i.queueList[this.findIndex(i.queueList,this.chkId.bind(this,s))];l&&Lyte.arrayUtils(this.data.manualUpdFiles,"push",l)}if(this.data.manualUpdFiles.length)return void this.SendingFile()}if(i.manualUpload)this.SendingFile();else{for(;i.currentUpload.length<i.ltPropParallel||i.ltPropUploadMultiple&&i.currentUpload.length<i.ltPropUploadMultipleCount||a&&i.queueList.length;){var p=i.queueList[o];if(t&&(t=t.constructor==Object?t.id:t,p=i.queueList[this.findIndex(i.queueList,this.chkId.bind(this,t))],a&&p))return Lyte.arrayUtils(this.data.retryFiles,"push",p),Lyte.Component.set(p,"status","reloading"),void(i.uploadedFiles.indexOf(p)<0&&(Lyte.arrayUtils(this.data.uploadedFiles,"push",p),this.retrySendingFile()));if(!p){this.data.retryFiles.length&&this.retrySendingFile(),e&&this.finishcallback();break}if(/uploading|success/.test(p.status)){if(t)break;if(/uploading/.test(p.status)&&p.isChunk&&p.finished+p.currentUploadingChunks<p.chunks.length){this.processChunkQueue(p.chunks);break}o++}else if("error"!=p.status||!(this.data.ltPropUploadMultiple||p.retry>=i.ltPropRetry-1||p.isChunk)||t)if("reloading"!=p.status){if(p.isChunk||Lyte.arrayUtils(i.currentUpload,"push",p),this.data.ltPropUploadMultiple)r.push(p);else if(this.uploadFile(p),t||p.isChunk)break;o++}else o++;else o++}this.data.ltPropUploadMultiple&&r.length&&this.uploadFile(r)}},retrySendingFile:function(){for(var t=this.data,e=t.retryFiles,a=0;a<e.length;){var i=e[a];if("reloading"==i.status||"uploading"==i.status)if(i.isChunk){if(i.finished+i.currentUploadingChunks<i.chunks.length){this.setData("retry",!0),this.processChunkQueue(i.chunks);break}a++}else{if(!(t.currentUpload.length<t.ltPropParallel))break;this.setData("retry",!0),Lyte.arrayUtils(e,"removeAt",a),Lyte.arrayUtils(t.currentUpload,"push",i),this.getMethods("onRetry")&&this.executeMethod("onRetry",{},i,this.$node),this.uploadFile(i)}else Lyte.arrayUtils(e,"removeAt",a)}e.length||(this.setData("retry",!1),this.processqueue(void 0,!0))},findIndex:function(t,e){if(e.constructor!=Function)return t.indexOf(e);for(var a=0;a<t.length;a++)if(e.call(t[a],t[a]))return a},abortChunksFrmUpload:function(t){for(var e=this.data.chunkUpload,a=0;a<e.length;){var i=e[a];i.chunkProp.origin.id===t&&i.xhr?(this.setData("abort",!0),i.xhr.ret.abort()):a++}},removeFrmUpload:function(t,e,a,i){t.constructor!=Array&&(t=[t]);for(var o=0;o<t.length;o++){var r,n,s=t[o].id||t[o],l=this.data[e],p=this.findIndex(l,this.chkId.bind(this,s));if((void 0===p||p<0)&&(l=this.data.predefinedList,(p=this.findIndex(l,this.chkId.bind(this,s)))>-1&&(e="predefinedList")),p>=0){if(!a&&this.getMethods("onBeforeRemove")&&0==this.executeMethod("onBeforeRemove",e,l[p],this.$node))continue;if(n=l[p],"queueList"===e&&this.removeFromTotalFileSize(n.size),"uploading"==n.status&&(r=!0,n.xhr&&(this.setData("abort",!0),n.xhr.ret.abort()),n.isChunk&&this.abortChunksFrmUpload(n.id)),Lyte.arrayUtils(l,"removeAt",p),"queueList"===e){var d,c=this.getData("lxhrs"),u=$L.search(c,"fileId",n.id)[0];n.isChunk&&r&&this.getMethods("onFileFailure")&&this.executeMethod("onFileFailure",u,n,this.$node,!0),Lyte.arrayUtils(this.data.ltPropFiles,"removeAt",p);var m,h=this.data.uploadedFiles;(m=this.findIndex(h,this.chkId.bind(this,s)))>=0&&Lyte.arrayUtils(h,"removeAt",m),h=this.data.retryFiles,(m=this.findIndex(h,this.chkId.bind(this,s)))>=0&&Lyte.arrayUtils(h,"removeAt",m),(d=c.indexOf(u))>-1&&Lyte.arrayUtils(c,"removeAt",d),p<=o&&o--}!a&&this.getMethods("onRemove")&&this.executeMethod("onRemove",e,n,this.$node)}}!this.data.ltPropUploadMultiple&&("queueList"==e&&r||i)&&(this.data.retry?this.retrySendingFile():this.processqueue(void 0,!0)),"queueList"!==e&&"predefinedList"!==e||this.constructAriaString()},uploadFile:function(t){var e=Lyte.deepCopyObject(this.data.ltPropAjax);t.isChunk?this.proceedChunk(t,e):this.proceedUpload(t,e,!1)},succFunc:function(t){if(this.$node){var e,a=arguments[2].xhr.file,i=arguments[2].xhr.ret,o=[];a.xhr&&delete a.xhr,this.getMethods("onRequestSuccess")&&this.executeMethod("onRequestSuccess",i,a,this.$node),a.constructor!=Array&&(a=[a]);for(var r=0;r<a.length;r++)if(Lyte.Component.set(a[r],"status","success"),Lyte.objectUtils(a[r],"delete","xhr"),this.data.ltPropUploadMultiple)o.push(a[r].id),this.removeFrmUpload(a[r].id,"currentUpload",!0);else{var n=this.getData("lxhrs");(e=$L.search(n,"fileId",a[r].id)).length&&Lyte.arrayUtils(n,"removeAt",n.indexOf(e[0])),i.fileId=a[r].id,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.getMethods("onFileSuccess")&&this.executeMethod("onFileSuccess",i,a[r],this.$node),this.removeFrmUpload(a[r].id,"currentUpload",!0,!0)}this.data.ltPropUploadMultiple&&(i.fileId=o,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.setData("uploadMultipleRetry",0),this.processqueue(void 0,!0)),delete arguments[2].xhr.file}},reject:function(t){if(this.$node){var e,a=t.xhr.file,i=t.xhr.ret,o=a.retry,r=[];if(this.data.abort||o>=this.data.ltPropRetry||this.data.ltPropUploadMultiple&&this.data.uploadMultipleRetry>=this.data.ltPropRetry){a.xhr&&delete a.xhr,this.getMethods("onRequestFailure")&&this.executeMethod("onRequestFailure",i,a,this.$node,this.data.abort),a.constructor!=Array&&(a=[a]);for(var n=0;n<a.length;n++){if(Lyte.Component.set(a[n],"status","error"),Lyte.objectUtils(a[n],"delete","xhr"),this.data.ltPropUploadMultiple)r.push(a[n].id);else{var s=this.getData("lxhrs");(e=$L.search(s,"fileId",a[n].id)).length&&Lyte.arrayUtils(s,"removeAt",s.indexOf(e[0])),i.fileId=a[n].id,this.getMethods("onFileFailure")&&this.executeMethod("onFileFailure",i,a[n],this.$node,this.data.abort),!this.data.abort&&Lyte.arrayUtils(this.getData("lxhrs"),"push",i)}this.removeFrmUpload(a[n].id,"currentUpload",!0,!this.data.abort)}this.data.ltPropUploadMultiple&&(i.fileId=r,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.setData("uploadMultipleRetry",0),this.processqueue(void 0,!0)),this.data.abort&&(Lyte.objectUtils(t.xhr.file,"add","retry",this.data.ltPropRetry),this.setData("abort",!1)),delete t.xhr.file}else if(this.data.ltPropUploadMultiple){for(delete a.xhr,n=0;n<a.length;n++)Lyte.Component.set(t.xhr.file[n],"status","retrying"),Lyte.Component.set(t.xhr.file[n],"retry",t.xhr.file[n].retry+1);this.setData("uploadMultipleRetry",this.data.uploadMultipleRetry+1),this.getMethods("onRetry")&&this.executeMethod("onRetry",i,a,this.$node),this.uploadFile(a)}else Lyte.Component.set(t.xhr.file,"status","retrying"),Lyte.objectUtils(t.xhr.file,"add","retry",o+1),this.getMethods("onRetry")&&this.executeMethod("onRetry",i,a,this.$node),this.uploadFile(a)}},progress:function(t){if(t.lengthComputable){var e=t.total,a=t.loaded,i=t.target.xhr,o=i.file;o.constructor!=Array&&(o=[o]);for(var r=0;r<o.length;r++)this.data.ltPropUploadMultiple?Lyte.Component.set(o[r],{loaded:o[r].size,percentage:100}):Lyte.Component.set(o[r],{loaded:a,percentage:Math.round(100*a/e)}),this.getMethods("onProgress")&&this.executeMethod("onProgress",t,i,o[r],this.$node)}},removeChunk:function(t,e,a){var i=this.data.chunkUpload,o=this.findIndex(i,(function(e){return e.chunkProp.chunkId==t}));o>-1&&(Lyte.arrayUtils(i,"removeAt",o),!a&&this.processChunkQueue(e.chunks))},chunkReject:function(t){if(this.$node){var e=t.xhr.file,a=e.chunkProp.origin,i=arguments[0].xhr.ret;if(!this.data.abort&&e.retry<this.data.ltPropChunkRetry)Lyte.Component.set(e,"status","retrying"),Lyte.objectUtils(e,"add","retry",e.retry+1),this.removeChunk(e.chunkProp.chunkId,a,!0),this.getMethods("onRetry")&&this.executeMethod("onRetry",i,e,this.$node),Lyte.Component.set(a,"currentUploadingChunks",a.currentUploadingChunks-1),this.processChunkQueue(e,!0);else{if(this.getMethods("onRequestFailure")&&this.executeMethod("onRequestFailure",i,e,this.$node,this.data.abort),Lyte.Component.set(e,"status","error"),this.removeChunk(e.chunkProp.chunkId,a,!0),this.getMethods("onChunkError")&&this.executeMethod("onChunkError",i,e,a,this.$node,this.data.abort),Lyte.objectUtils(e,"delete","xhr"),delete t.xhr.file,Lyte.Component.set(a,"currentUploadingChunks",a.currentUploadingChunks-1),Lyte.Component.set(a,"error",a.error+1),"error"!=a.status){var o,r=this.getData("lxhrs");Lyte.Component.set(a,"status","error"),(o=$L.search(r,"fileId",a.id)).length&&Lyte.arrayUtils(r,"removeAt",r.indexOf(o[0])),i.fileId=a.id,Lyte.arrayUtils(this.getData("lxhrs"),"push",i)}this.data.abort?this.setData("abort",!1):(this.abortChunksFrmUpload(a.id),this.getMethods("onFileFailure")&&this.executeMethod("onFileFailure",i,a,this.$node,this.data.abort),this.data.retry?this.retrySendingFile():this.processqueue(void 0,!0))}}},chunkSuccess:function(t){if(this.$node){var e=arguments[2].xhr.file,a=e.chunkProp.origin,i=arguments[2].xhr.ret;if(this.getMethods("onRequestSuccess")&&this.executeMethod("onRequestSuccess",i,e,this.$node),Lyte.Component.set(e,"status","success"),this.removeChunk(e.chunkProp.chunkId,a,!0),this.getMethods("onChunkSuccess")&&this.executeMethod("onChunkSuccess",i,e,a,this.$node),Lyte.objectUtils(e,"delete","xhr"),delete arguments[2].xhr.file,Lyte.Component.set(a,"finished",a.finished+1),Lyte.Component.set(a,"currentUploadingChunks",a.currentUploadingChunks-1),a.finished==a.total){var o,r=this.getData("lxhrs");Lyte.Component.set(a,"status","success"),(o=$L.search(r,"fileId",a.id)).length&&Lyte.arrayUtils(r,"removeAt",r.indexOf(o[0])),i.fileId=a.id,Lyte.arrayUtils(this.getData("lxhrs"),"push",i),this.getMethods("onFileSuccess")&&this.executeMethod("onFileSuccess",i,a,this.$node),this.data.retry?this.retrySendingFile():this.processqueue(void 0,!0)}else this.processChunkQueue(a.chunks,!0)}},chunkProgress:function(t){if(t.lengthComputable){t.total;var e=t.loaded,a=t.target.xhr.file,i=a.chunkProp.origin,o=e-a.loaded;Lyte.Component.set(a,"loaded",e),Lyte.Component.set(i,{loaded:Math.min(i.loaded+o,i.size),percentage:Math.min(Math.round(100*(i.loaded+o)/i.size),100)}),this.getMethods("onProgress")&&this.executeMethod("onProgress",t,t.target.xhr,i,this.$node)}},proceedChunk:function(t,e){for(var a=this.data,i=a.ltPropChunkSize,o=t.size,r=0,n=[];r<=o;){var s=r,l=Math.min(o,r+=i),p=l-s;n.push({file:t.file.slice(s,l),chunkProp:{chunkOffset:s,chunkEnd:l,chunkSize:p,chunkId:"lyteChunk"+(new Date).getTime()+parseInt(1e11*Math.random()),chunkIndex:n.length,origin:t,chunkCount:Math.ceil(t.size/i),totalSize:t.size},name:t.file.name,loaded:0,retry:0})}Lyte.Component.set(t,{chunks:n,error:0,finished:0,total:n.length}),a.ltPropParallelChunkCount===1/0&&this.setData("chunkCount",n.length),this.processChunkQueue(n)},processChunkQueue:function(t,e){var a=this.data,i=0;for(t.constructor!=Array&&(t=[t]);!a.ltPropParallelChunkUpload&&a.chunkUpload.length<1||a.ltPropParallelChunkUpload&&a.ltPropParallelChunkCount===1/0||a.ltPropParallelChunkCount!=1/0&&a.chunkUpload.length<a.ltPropParallelChunkCount;){var o=t[i];if(!o){a.retry?this.retrySendingFile():a.ltPropParallelChunkUpload&&(a.ltPropParallelChunkCount!=1/0&&a.chunkUpload.length<a.ltPropParallelChunkCount&&this.processqueue(),a.ltPropParallelChunkCount==1/0&&this.processqueue());break}if(/success|uploading/.test(o.status)||e&&(!e||/error/.test(o.status)))i++;else{var r=o.chunkProp.origin;Lyte.Component.set(r,{status:"uploading",percentage:r.percentage||0,loaded:r.loaded||0,size:r.size,currentUploadingChunks:r.currentUploadingChunks+1||1}),this.proceedUpload(o,Lyte.deepCopyObject(a.ltPropAjax),!0),Lyte.arrayUtils(a.chunkUpload,"push",o),i++}}},getRelativePath:function(t){var e=t.file;return e.webkitRelativePath||e.relativePath},proceedUpload:function(t,e,a){if(!/success|uploading/.test(t[0]&&t[0].status||t.status)){var i,o,r=new FormData,n=["chunkOffset","chunkSize","chunkIndex","chunkCount","totalSize"];if(t.constructor==Array)for(var s=0;s<t.length;s++)o=this.data.ltPropFolder?this.getRelativePath(t[s]):t[s].name,r.append(this.data.ltPropParamName+"["+s+"]",t[s].file,o);else o=this.data.ltPropFolder&&!a?this.getRelativePath(t):t.name,r.append(this.data.ltPropParamName,t.file,o);if(a){for(var l=0;l<n.length;l++)r.append(n[l],t.chunkProp[n[l]]);var p=t.chunkProp.origin;r.append("fileId",p.id),o=this.data.ltPropFolder?this.getRelativePath(p):p.name,r.append("fileName",o)}e.success=a?this.chunkSuccess.bind(this):this.succFunc.bind(this),e.error=a?this.chunkReject.bind(this):this.reject.bind(this);var d=new XMLHttpRequest;if(e.type="POST",t.xhr=d,d.file=t,d.upload.xhr=d,d.upload.addEventListener("progress",a?this.chunkProgress.bind(this):this.progress.bind(this),!1),e.xhr=d,e.data=r,e.processData=!1,e.contentType=!1,this.getMethods("onBeforeSend")&&(i=this.executeMethod("onBeforeSend",d,t,a,this.$node,r,e)),i&&i.then)Promise.resolve(i).then(function(){this.finishSend(e,d,t)}.bind(this));else{if(0==i){t.constructor!=Array&&(t=[t]);for(var c=0;c<t.length;c++)this.removeFrmUpload(t[c].id,"currentUpload",!0);return}i&&i.constructor==FormData&&(e.data=i),this.finishSend(e,d,t,a)}}},finishSend:function(t,e,a,i){if(a.constructor==Array)for(var o=0;o<a.length;o++)Lyte.Component.set(a[o],"status","uploading");else Lyte.Component.set(a,"status","uploading");var r=$L.ajax(t);r.xhr=e,e.ret=r,this.getMethods("onSend")&&this.executeMethod("onSend",e,r,a,!!i,this.$node,t)},finishcallback:function(t){var e,a=t||this.data.uploadedFiles,i=this.data.chunkUpload,o=this.data.lxhrs;if(a.length){for(var r=0;r<a.length;r++){if(!a[r].status||"uploading"==a[r].status)return;"error"==a[r].status&&(e=!0)}for(r=0;r<i.length;r++){if("uploading"==i[r].status)return;"error"==i[r].status&&(e=!0)}this.data.ltPropMultiple||(a=a[0],o=o[0]),e?(this.getMethods("onFailure")&&this.executeMethod("onFailure",a,this.$node,o),this.setData("uploadedFiles",[]),this.setData("lxhrs",[])):(this.getMethods("onSuccess")&&this.executeMethod("onSuccess",a,this.$node,o),this.setData("uploadedFiles",[]),this.setData("lxhrs",[])),1==this.data.manualUpload&&(this.setData("manualUpdFiles",[]),this.setData("manualUpload",!1))}},convertToBytes:function(){var t=this.getData("ltPropTotalFilesSize");if(t){var e=t.substring(t.length-2),a=parseInt(t.substring(0,t.length-2)),i=["KB","MB","GB"].indexOf(e),o=this.data.predefinedList;i>-1&&this.setData("totalFilesSize",a*Math.pow(1e3,i+1)),Array.isArray(o)&&this.addPredefinedListSize(o)}}.observes("ltPropTotalFilesSize").on("init"),getTotalFileSize:function(t){var e=0;return t.forEach((function(t){var a=t.size;"number"==typeof a&&(e+=a)})),e},addPredefinedListSize:function(t){var e=this.getTotalFileSize(t);this.addToTotalFilesSize(e)},removePredefindListSize:function(t){var e=this.getTotalFileSize(t);this.removeFromTotalFileSize(e)},predefinedListObserver:function(t){if(this.getData("totalFilesSize")){var e=t.oldValue,a=t.newValue;Array.isArray(e)&&this.removePredefindListSize(e),Array.isArray(a)&&this.addPredefinedListSize(a)}}.observes("predefinedList"),predefinedArrayListObserver:function(t){if(this.getData("totalFilesSize")){var e=t.removedItems,a=t.insertedItems;Array.isArray(e)&&this.removePredefindListSize(e),Array.isArray(a)&&this.addPredefinedListSize(a)}}.observes("predefinedList.[]"),checkTotalFilessize:function(t){var e=this.getData("totalFilesSize"),a=this.getData("curTotFilesSize");return!!(e&&a+t>e)},addToTotalFilesSize:function(t){if(this.getData("totalFilesSize")){var e=this.getData("curTotFilesSize");this.setData("curTotFilesSize",e+t)}},removeFromTotalFileSize:function(t){if(this.getData("totalFilesSize")){var e=this.getData("curTotFilesSize");this.setData("curTotFilesSize",e-t)}},openFileWindow:function(t,e){if(!this.data.ltPropYield&&this.data.ltPropMultiple&&(t.shiftKey?t.preventDefault():$L("#lyteFileUpdSelectedFile.lyteFileUpdListFile").removeAttr("id"),"lyteFileUpdRetryMsg"!=t.target.className&&$L(t.target).closest(".lyteFileUpdListFile").attr("id","lyteFileUpdSelectedFile")),!(t.ctrlKey||t.shiftKey||t.metaKey)){var a=$L(t.target).closest("lyte-file-close");if(a.length)this.$node.removeUpload(a.eq(0).attr("data-value"));else{var i=$L(t.target).closest("lyte-file-retry");if(i.length)this.$node.upload(i.eq(0).attr("data-value"),void 0,!0);else if(($L(t.target).closest("lyte-file-select-area").length||e)&&this.data.ltPropMultiple||0==this.data.queueList.length&&0==this.data.predefinedList.length||this.data.ltPropAllowReplace){if(this.getMethods("onBeforeOpen")&&0==this.executeMethod("onBeforeOpen",t,this.$node))return;this._file.click()}}}},getFilesFromEntry:function(t,e){return new Promise((function(a){t.file((function(t){"."!==t.name.substring(0,1)&&(t.relativePath=path+"/"+t.name,e.push(t)),a()}),(function(t){console.warn(t),a()}))}))},getFilesFromDirectory:function(t,e,a){var i=this,o=t.createReader(),r=[];return new Promise((function(t){o.readEntries((function(o){var n=o.length;if(n>0){for(var s,l=0;l<n;l++)(s=o[l]).isFile?r.push(i.getFilesFromEntry(s,a)):s.isDirectory&&r.push(i.getFilesFromDirectory(s,e+"/"+s.name,a));r.length?Promise.all(r).then((function(){t()})):t()}}),(function(e){console.warn(e),t()}))}))},filterDropItems:function(t){var e=this,a=[],i=[];return new Promise((function(o){for(var r=0;r<t.length;r++){var n;if(null!=(n=t[r]).webkitGetAsEntry){var s=n.webkitGetAsEntry();s.isFile?a.push(n.getAsFile()):s.isDirectory&&e.data.ltPropFolder&&i.push(e.getFilesFromDirectory(s,s.name,a))}else null==n.getAsFile||null!=n.kind&&"file"!==n.kind||a.push(n.getAsFile())}i.length?Promise.all(i).then((function(){o(a)})):o(a)}))},getValidDroppedItems:function(t,e){var a=this,i=t.files;return new Promise((function(e){var o=t.items;o&&o.length&&null!==o[0].webkitGetAsEntry?a.filterDropItems(o).then((function(t){e(t)})):e(i)}))},actions:{change:function(t,e){if(e.files.length){!this.data.ltPropMultiple&&this.data.ltPropAllowReplace&&(this.removeFrmUpload(this.data.queueList,"queueList",!0),this.data.predefinedList.length&&this.removeFrmUpload(this.data.predefinedList,"predefinedList",!0));var a=Array.from(e.files);if(this.getMethods("onSelect")&&!1===this.executeMethod("onSelect",a,t))return void(this._file.value="");this.validate(a)}},drag:function(t){var e=t.type,a="onDrag",i=e.match(/drag(.+)/);if(i&&i[1]&&(a+=i[1].slice(0,1).toUpperCase()+i[1].slice(1),/enter|over/.test(t.type))){if("dragover"==t.type){var o=t.dataTransfer;if(o){var r=o.effectAllowed;o.dropEffect="move"===r||"linkMove"===r?"move":"copy"}}t.preventDefault()}"dragenter"==e?this.setData("fileClass","fileDragEnter"):"dragleave"==e&&this.setData("fileClass",""),this.getMethods(a)&&this.executeMethod(a,t,this.$node)},drop:function(t){this.setData("fileClass","");var e=t.dataTransfer;if(e.files.length){var a=this;t.preventDefault(),this.getValidDroppedItems(e).then((function(e){if(e.length){if(a.getMethods("onBeforeDrop")&&0==a.executeMethod("onBeforeDrop",t,a.$node,e))return;t.preventDefault(),a.data.ltPropMultiple||a.$node.removeUpload(),a.validate(e),a.getMethods("onDrop")&&a.executeMethod("onDrop",t,a.$node,e)}}))}},click:function(t){this.openFileWindow(t)},paste:function(t){for(var e=(t.clipboardData||window.clipboardData).items,a=[],i=0;i<e.length;i++){var o=e[i].getAsFile();o&&a.push(o)}if(a.length){if(this.getMethods("onBeforePaste")&&0==this.executeMethod("onBeforePaste",t,a,this.$node))return;this.data.ltPropMultiple||this.$node.removeUpload(),this.validate(a),this.getMethods("onPaste")&&this.executeMethod("onPaste",t,a,this.$node)}},keydown:function(t){if(8==t.which){for(var e=$L("#lyteFileUpdSelectedFile lyte-file-close",this.$node),a=0;a<e.length;a++)this.$node.removeUpload(e.eq(a).attr("data-value"));e.length&&t.preventDefault()}else 13===t.which&&(this.openFileWindow(t,!0),t.preventDefault())}}}),Lyte.Component.register("lyte-number",{_template:'<template tag-name="lyte-number"> <template is="if" value="{{ltPropLabel}}"><template case="true"> <label for="{{ltPropId}}" class="lyteLabel">{{ltPropLabel}}</label> </template></template> <div class="lyteField"> <input type="text" name="{{ltPropName}}" class="{{ltPropClass}}" id="{{ltPropId}}" placeholder="{{ltPropPlaceholder}}" value="{{lbind(ltPropValue)}}" onkeydown="{{action(\'keydown\',event,this)}}" onpaste="{{action(\'paste\',event,this)}}" oninput="{{action(\'input\',event,this)}}" onfocus="{{action(\'focus\',event,this)}}" onblur="{{action(\'blur\',event,this)}}" onwheel="{{action(\'wheel\',event,this)}}" disabled="{{ltPropDisabled}}" readonly="{{ltPropReadonly}}" style="{{ltPropStyle}}" title="{{ltPropInputTitle}}" pattern="{{ltPropPattern}}" autocomplete="{{ltPropAutocomplete}}" tabindex="{{ltPropTabIndex}}" data-tabindex="{{ltPropDataTabindex}}"> <template is="if" value="{{ltPropControls}}"><template case="true"> <div class="lyteNumberArrowContainer" onclick="{{action(\'change_value\',event,this)}}"> <div class="lyteNumberUpArrow"></div> <div class="lyteNumberDownArrow"></div> </div> </template></template> </div> <template is="if" value="{{expHandlers(ltPropError,\'&amp;&amp;\',errorMessage)}}"><template case="true"> <span class="lyteNumberErrorMessage">{{errorMessage}}</span> </template></template> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[3,1],attr:{style:{name:"style",dynamicValue:"ltPropStyle"}}},{type:"attr",position:[3,3]},{type:"if",position:[3,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[5]},{type:"if",position:[5],cases:{true:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}],_observedAttributes:["ltPropValue","ltPropMaxlength","ltPropName","ltPropClass","ltPropId","ltPropPlaceholder","ltPropIgnoreSymbols","ltPropStep","ltPropInverse","ltPropWheel","ltPropMax","ltPropMin","ltPropAutofocus","ltPropDisabled","ltPropReadonly","ltPropStyle","ltPropInputTitle","ltPropPattern","ltPropUpdateDelay","ltPropLabel","ltPropAutocomplete","ltPropAppearance","ltPropDirection","ltPropValidateOnInput","ltPropAutoUpdate","ltPropDecimal","ltPropIncrement","ltPropAria","ltPropAriaAttributes","ltPropRemoveAtCursor","ltPropFireOnInit","ltPropValidateOnEmpty","ltPropRestrict","ltPropInputWrapperClass","ltPropTabIndex","ltPropValidation","ltPropMandatory","ltPropTriggerValidation","ltPropErrorMessage","ltPropDefaultErrorMessage","ltPropError","ltPropClearValidation","ltPropDataTabindex","ltPropControls","errorMessage"],didConnect:function(){["focus","blur","click","select"].forEach(function(t){this.$node[t]=function(e){this.$node.querySelector("input")[t](e)}.bind(this)}.bind(this)),this.data.ltPropAutofocus&&this.$node.focus(),this.getMethods("afterRender")&&this.executeMethod("afterRender",this.$node)},init:function(){this.getMethods("beforeRender")&&this.executeMethod("beforeRender",this.$node)},didDestroy:function(){clearTimeout(this._time)},data:function(){return{ltPropValue:Lyte.attr("string",{default:""}),ltPropMaxlength:Lyte.attr("number",{default:void 0}),ltPropName:Lyte.attr("string",{default:void 0}),ltPropClass:Lyte.attr("string",{default:void 0}),ltPropId:Lyte.attr("string",{default:void 0}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropIgnoreSymbols:Lyte.attr("boolean",{default:!1}),ltPropStep:Lyte.attr("number",{default:1}),ltPropInverse:Lyte.attr("boolean",{default:!1}),ltPropWheel:Lyte.attr("boolean",{default:!0}),ltPropMax:Lyte.attr("number",{default:void 0}),ltPropMin:Lyte.attr("number",{default:void 0}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropInputTitle:Lyte.attr("string",{default:void 0}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropAppearance:Lyte.attr("string",{default:"box"}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropValidateOnInput:Lyte.attr("boolean",{default:!1}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropDecimal:Lyte.attr("string",{default:"."}),ltPropIncrement:Lyte.attr("boolean",{default:!0}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{},watch:!0}),ltPropRemoveAtCursor:Lyte.attr("boolean",{default:!1}),ltPropFireOnInit:Lyte.attr("boolean",{default:!1}),ltPropValidateOnEmpty:Lyte.attr("boolean",{default:!0}),ltPropRestrict:Lyte.attr("string"),ltPropInputWrapperClass:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropValidation:Lyte.attr("string",{default:""}),ltPropMandatory:Lyte.attr("boolean",{default:!1}),ltPropTriggerValidation:Lyte.attr("boolean",{default:!1}),ltPropErrorMessage:Lyte.attr("object",{default:{}}),ltPropDefaultErrorMessage:Lyte.attr("string",{default:"Invalid input"}),ltPropError:Lyte.attr("boolean",{default:!1}),ltPropClearValidation:Lyte.attr("boolean",{default:!1}),ltPropDataTabindex:Lyte.attr("string",{default:"0"}),ltPropControls:Lyte.attr("boolean",{default:!1}),errorMessage:Lyte.attr("string",{default:""})}},valueObs:function(t){if(!this._init){var e=!t;if(t?t.newValue=t.newValue||"":t={newValue:this.data.ltPropValue||""},this._allowCallback)return delete this._allowCallback,void(this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node));var a=t.newValue;if(e&&!this.data.ltPropFireOnInit&&(this._init=!0),this.validate(a))return this._valueUpdate(""),void delete this._init;if(a=this.maxLenValidation(a),(this.data.ltPropValidateOnEmpty&&!t.newValue||t.newValue)&&(a=this.maxMinCheck(a,!0)),t.newValue!=a)this._valueUpdate(a);else if(!this._init){if(e&&t.newValue==a)return;this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)}delete this._init}}.observes("ltPropValue").on("didConnect"),maxMinOns:function(){this._valueUpdate(this.maxMinCheck(this.data.ltPropValue||"",!0))}.observes("ltPropMax","ltPropMin"),wrp_class_obs:function(t){var e=this.data;t=t||{newValue:e.ltPropInputWrapperClass},$L(this.$node).addClass(t.newValue).removeClass(t.oldValue||"")}.observes("ltPropInputWrapperClass").on("didConnect"),appearanceObs:function(){var t="remove",e="add",a=this.$node.classList;/box/i.test(this.data.ltPropAppearance)&&(t="add",e="remove"),a[e]("lyteInput"),a[t]("lyteInputBox")}.observes("ltPropAppearance").on("didConnect"),control_obs:function(t){t=t||{newValue:this.data.ltPropControls},this.$node.classList[t.newValue?"add":"remove"]("lyteNumberWithArrowKeys")}.observes("ltPropControls").on("didConnect"),directionObs:function(){var t="remove",e="add",a=this.$node.classList;/vertical/i.test(this.data.ltPropDirection)&&(e="remove",t="add"),a[e]("horizontal"),a[t]("vertical")}.observes("ltPropDirection").on("didConnect"),disAbs:function(){this.$node.classList[this.data.ltPropDisabled?"add":"remove"]("lyteNumberDisabled")}.observes("ltPropDisabled").on("didConnect"),readAbs:function(){this.$node.classList[this.data.ltPropReadonly?"add":"remove"]("lyteNumberReadonly")}.observes("ltPropReadonly").on("didConnect"),increment:function(t,e){var a=t.value||"0",i=(Number(a)+this.data.ltPropStep*(e?1:-1)).toString();if(i!=1/0&&i!=-1/0){var o=this.data.ltPropValidation;o||(i=this.maxLenValidation(i),i=this.maxMinCheck(i,!0)),t.value=i,t.selectionEnd=i.length,t.selectionStart=i.length,this.data.ltPropAutoUpdate&&this.valueUpdate(t,"input"==o)}},check_restrict:function(t,e){var a=this.data.ltPropRestrict;if(a){var i=new RegExp(a,"g");if(!e)return t.replace(i,"");var o=i.exec(t);if(o)return t.slice(0,o.index)}return t},actions:{change_value:function(t,e){var a=$L(t.target).hasClass("lyteNumberUpArrow"),i=this.data,o=i.ltPropReadonly;i.ltPropDisabled||(o||this.increment(e.previousElementSibling,a),this.setData("ltPropAutofocus",!0))},keydown:function(t,e){var a,i=t.which||t.keyCode,o=e.selectionStart,r=e.selectionEnd,n=this.data.ltPropIncrement;if(8==i){if(o==r&&0==r)return;this._prevent=!0}else n&&38==i?(this.increment(e,!this.data.ltPropInverse),a=!0):n&&40==i&&(this.increment(e,this.data.ltPropInverse),a=!0);a&&t.preventDefault()},wheel:function(t,e){var a=this.data;if(a.ltPropWheel&&this._focused&&!a.ltPropDisabled&&!a.ltPropReadonly){var i=a.ltPropInverse;t.deltaY>10?this.increment(e,!i):t.deltaY<-10&&this.increment(e,i),t.preventDefault()}},paste:function(t,e){t.preventDefault();var a=t.clipboardData||window.clipboardData,i=e.value,o=e.selectionStart,r=e.selectionEnd,n=this.data,s=n.ltPropDecimal,l=this.check_restrict(a.getData("text").trim().replace(/^(\'|\")|(\'|\")$/,"").replace(new RegExp("[^0-9e\\+\\-\\"+s+"]","g"),""),!0),p=i.slice(0,o)+l+i.slice(r),d=this.validate(p),c=Number(i),u=l.length,m=1/0,h=n.ltPropValidation;if(d&&(p=this.convertToNo(p)),c!=m&&c!=-1/0){if(this.getMethods("onBeforePaste")){var y=this.executeMethod("onBeforePaste",e.value,a.getData("text"),p);if(null!=y&&(p=y,0==y))return}c!=m&&c!=-1/0&&(h||((p=this.maxLenValidation(p))||!p&&n.ltPropValidateOnEmpty)&&(p=this.maxMinCheck(p,!0)),e.value=p,e.selectionStart=r+u,e.selectionEnd=r+u,n.ltPropAutoUpdate&&this._valueUpdate(e.value,"input"==h),$L.fastdom.measure(this.scroll_to_view.bind(this,e)))}},input:function(t,e){var a;this._prevent&&(delete this._prevent,this.data.ltPropAutoUpdate&&this.valueUpdate(e),a=!0);var i,o=e.value,r=o,n=e.selectionStart,s=e.selectionEnd,l=!a&&this.validate(o),p=this.data.ltPropValidation;if(l){if(__allow=!0,/insertText/i.test(t.inputType)){var d=t.data,c=parseFloat(d),u=d.length;isNaN(c)?(o=o.slice(0,s-u)+o.slice(s),s=s-u+1):(c=c.toString(),o=o.slice(0,s-u)+c+o.slice(s),s=s-u+1+c.length),(__allow=this.validate(o))&&s--}__allow&&(o=o.slice(0,n-u)+o.slice(s))}else if(o=this.check_restrict(o),!p){var m=this.maxLenValidation(o,n,s);m!=o&&(this.data.ltPropRemoveAtCursor&&(i=!0),o=m),(m=this.maxMinCheck(o,this.data.ltPropValidateOnInput))!=o&&(o=m,i=!1)}e.value=o,l?(e.selectionStart=Math.min(s-1,o.length),e.selectionEnd=Math.min(s-1,o.length)):r!=o?e.selectionStart=e.selectionEnd=i?n-1:o.length:(e.selectionStart=Math.min(n,o.length),e.selectionEnd=Math.min(s,o.length)),this.data.ltPropAutoUpdate&&this.valueUpdate(e,"input"==p)},focus:function(t,e){this.__ignore_focus||(this._focused=!0,this.$node.classList.add("lyteInputFocus"),this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node))},blur:function(t,e){if(!this.__ignore_focus){delete this._focused,this.$node.classList.remove("lyteInputFocus");var a=this.data.ltPropValidation;!a&&(e.value||!e.value&&this.data.ltPropValidateOnEmpty)&&(e.value=this.maxMinCheck(e.value,!0)),this._valueUpdate(e.value,!0),"blur"==a&&this.do_validation(),this.getMethods("onBlur")&&this.executeMethod("onBlur",t,this.$node)}}},valueUpdate:function(t,e){t=t||this.$node.getElementsByTagName("input")[0];var a=function(){this._valueUpdate(t.value),e&&this.do_validation()}.bind(this),i=this.data.ltPropUpdateDelay;null==i?a():(clearTimeout(this._time),this._time=setTimeout(a,i))},_valueUpdate:function(t,e){var a,i=t,o="onBeforeValueUpdate";if(e){var r=new RegExp("\\"+this.data.ltPropDecimal+"$");/e$/i.test(t)&&(t=t.replace(/e$/,"")),r.test(t)&&(t=t.replace(r,""))}this.getMethods(o)&&0==(a=this.executeMethod(o,i,t,this.$node))||("string"==typeof a&&(t=a),t!=this.data.ltPropValue&&(this._allowCallback=!0,this.$node.ltProp("value",t)))},validate:function(t){var e,a,i=/e/gi,o=/(\+|\-)/g,r=this.data.ltPropDecimal,n=new RegExp("\\"+r,"g");return i.test(t)&&(t.match(i).length>1&&(a=!0),/^e/i.test(t)?a=!0:(e=/e/gi.exec(t).index,t=t.replace(i,""))),o.test(t)&&(t.match(o).length>1?a=!0:/^(\+|\-)/g.test(t)?t=t.replace(o,""):a=!0),n.test(t)&&(t.match(n).length>1||null!=e&&e<t.indexOf(r)||/^(\+|\-)/g.test(t)&&1==t.indexOf(r)&&2==e||!/^(\+|\-)/g.test(t)&&0==t.indexOf(r)&&1==e?a=!0:t=t.replace(n,"")),!a&&t.length&&(a=!/^\d+$/.test(t)),a},maxLenValidation:function(t,e,a){var i,o=this.data.ltPropMaxlength,r=t.length,n=this.data.ltPropDecimal,s=this.data.ltPropRemoveAtCursor;if(null==o)return t;if(!this.data.ltPropIgnoreSymbols&&(o+=/^(\+|\-)/.test(t)?1:0,new RegExp("\\"+n).test(t)&&(i=new RegExp("\\"+n,"g").exec(t).index,o++),/e/i.test(t))){var l=/e/i.exec(t).index,p=t.slice(l+1),d=parseInt(p);if(p.length){r--;var c=null!=i?t.slice(i+1,l).length:0;if(c<=d&&(null!=i&&(r--,o--),r-=c),r-=p.length,(r+=d)>o){if(d>r-o)return t.slice(0,l)+"e"+(d-(r-o));t=s&&null!=e&&t.length>o?(t=t.split(/e/i)[0]).slice(0,e-1)+t.slice(a):t.split(/e/i)[0].match(new RegExp(".{0,"+o+"}"))[0]}return t}o++}return s&&null!=e&&t.length>o?t.slice(0,e-1)+t.slice(a):t.match(new RegExp(".{0,"+o+"}"))[0]},maxMinCheck:function(t,e){var a=t,i=this.data.ltPropMax,o=this.data.ltPropMin,r=Number(t.replace(new RegExp("\\"+this.data.ltPropDecimal),".")),n=this.getMethods("onBeforeMaxMinValidation");if(null==i&&null==o)return t;if(null!=i&&i<r&&(t=i,t=null==(s=n?this.executeMethod("onBeforeMaxMinValidation","max",a,t,this.$node):t)?t:s),e&&null!=o)if(o>r)t=o,t=o,t=null==(s=n?this.executeMethod("onBeforeMaxMinValidation","min",a,t,this.$node):t)?t:s;else if(0==r&&""==t){var s;t=Math.max(r,o),t=null==(s=n?this.executeMethod("onBeforeMaxMinValidation","min",a,t,this.$node):t)?t:s}return t.toString().replace(/\./,this.data.ltPropDecimal)},removeTwice:function(t,e){var a=t.split(e);return a.length>1&&(t=a.shift()+e.exec(t)[0]+a.join("")),t},convertToNo:function(t){var e,a,i=this.data.ltPropDecimal,o=new RegExp("\\"+i),r=/e/i;return t=this.removeTwice(t,o),t=this.removeTwice(t,r),t=this.removeTwice(t,/\+|\-/i),o.test(t)&&r.test(t)&&((e=o.exec(t).index)>(a=r.exec(t).index)||1==Math.abs(e-a))&&(t=t.replace(e>a?r:o,"")),/^e/i.test(t)&&(t=t.replace(/e/i,"")),/\+|\-/.test(t)&&!/^(\+|\-)/.test(t)&&(null!=a&&/\+|\-/.exec(t).index!=a+1||null==a)&&(t=t.replace(/\+|\-/g,"")),t},focus_obs:function(t){if(t.newValue){this.$node.focus(),this.setData(t.item,!1);var e=this.$node.getElementsByTagName("input")[0];e.selectionStart=e.selectionEnd=e.value.length}}.observes("ltPropAutofocus"),attrObs:function(t){this.data.ltPropAria&&_lyteUiUtils.setAttribute(this.$node.querySelector("input"),this.data.ltPropAriaAttributes||{},t?t.oldValue:{})}.observes("ltPropAriaAttributes","ltPropAriaAttributes.{}","ltPropType").on("didConnect"),single_obs:function(t){if(t.path){var e=t.path.replace(/^\./,""),a=t.newValue;if(this.data.ltPropAria){var i={};i[e]=a,_lyteUiUtils.setAttribute($L("input",this.$node).get(0),i,{})}}}.observes("ltPropAriaAttributes.*"),trigger_obs:function(t){if(t.newValue){var e=t.item;/clear/i.test(e)?this.error_decision():this.do_validation(),this.setData(e,!1)}}.observes("ltPropTriggerValidation","ltPropClearValidation"),error_decision:function(t,e,a){if(this.setData({errorMessage:e,ltPropError:!!e}),$L(this.$node)[(e?"add":"remove")+"Class"]("lyteErrorInput"),e){var i="onError";this.getMethods(i)&&this.executeMethod(i,a,t,this.$node)}else""==e&&(i="onValidInput",this.getMethods(i)&&this.executeMethod(i,t,this.$node))},do_validation:function(){var t=this.data,e=t.ltPropErrorMessage||{},a=t.ltPropDefaultErrorMessage,i=t.ltPropValue||"",o=t.ltPropValidateOnEmpty,r=i||o,n=r?this.maxMinCheck(i,!0):i,s=t.ltPropPattern,l=this.error_decision.bind(this,i);return i!=n?l(e.minmax||a,"maxmin"):this.maxLenValidation(i)!=i?l(e.maxlength||a,"maxlength"):s&&r&&!new RegExp(s,"g").test(i)?l(e.pattern||a,"pattern"):t.ltPropMandatory&&!i?l(e.mandatory||a,"mandatory"):l("")},scroll_to_view:function(t){this.__ignore_focus=!0,t.blur(),t.focus(),delete this.__ignore_focus}}),function(t){if(lyteDomObj){var e,a,i,o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["Su","Mo","Tu","We","Th","Fr","Sa"],p=[31,28,31,30,31,30,31,31,30,31,30,31],d=1,c="lyteMoment",u=19,m=80,h={"Etc/GMT+12":-720,"Etc/GMT+11":-660,"Pacific/Midway":-660,"Pacific/Niue":-660,"Pacific/Pago_Pago":-660,"Pacific/Samoa":-660,"US/Samoa":-660,"America/Adak":-540,"America/Atka":-540,"Etc/GMT+10":-600,HST:-600,"Pacific/Honolulu":-600,"Pacific/Johnston":-600,"Pacific/Rarotonga":-600,"Pacific/Tahiti":-600,"SystemV/HST10":-600,"US/Aleutian":-540,"US/Hawaii":-600,"Pacific/Marquesas":-510,AST:-480,"America/Anchorage":-480,"America/Juneau":-480,"America/Metlakatla":-480,"America/Nome":-480,"America/Sitka":-480,"America/Yakutat":-480,"Etc/GMT+9":-540,"Pacific/Gambier":-540,"SystemV/YST9":-540,"SystemV/YST9YDT":-480,"US/Alaska":-480,"America/Ensenada":-420,"America/Los_Angeles":-420,"America/Santa_Isabel":-420,"America/Tijuana":-420,"America/Vancouver":-420,"Canada/Pacific":-420,"Etc/GMT+8":-480,"Mexico/BajaNorte":-420,PST:-480,PST8PDT:-420,"Pacific/Pitcairn":-480,"SystemV/PST8":-480,"SystemV/PST8PDT":-420,"US/Pacific":-420,"America/Boise":-360,"America/Cambridge_Bay":-360,"America/Chihuahua":-360,"America/Creston":-420,"America/Dawson":-420,"America/Dawson_Creek":-420,"America/Denver":-360,"America/Edmonton":-360,"America/Fort_Nelson":-420,"America/Hermosillo":-420,"America/Inuvik":-360,"America/Mazatlan":-360,"America/Ojinaga":-360,"America/Phoenix":-420,"America/Shiprock":-360,"America/Whitehorse":-420,"America/Yellowknife":-360,"Canada/Mountain":-360,"Canada/Yukon":-420,"Etc/GMT+7":-420,MST:-420,MST7MDT:-360,"Mexico/BajaSur":-360,Navajo:-360,PNT:-420,"SystemV/MST7":-420,"SystemV/MST7MDT":-360,"US/Arizona":-420,"US/Mountain":-360,"America/Bahia_Banderas":-300,"America/Belize":-360,"America/Chicago":-300,"America/Costa_Rica":-360,"America/El_Salvador":-360,"America/Guatemala":-360,"America/Indiana/Knox":-300,"America/Indiana/Tell_City":-300,"America/Knox_IN":-300,"America/Managua":-360,"America/Matamoros":-300,"America/Menominee":-300,"America/Merida":-300,"America/Mexico_City":-300,"America/Monterrey":-300,"America/North_Dakota/Beulah":-300,"America/North_Dakota/Center":-300,"America/North_Dakota/New_Salem":-300,"America/Rainy_River":-300,"America/Rankin_Inlet":-300,"America/Regina":-360,"America/Resolute":-300,"America/Swift_Current":-360,"America/Tegucigalpa":-360,"America/Winnipeg":-300,CST:-360,CST6CDT:-300,"Canada/Central":-300,"Canada/Saskatchewan":-360,"Chile/EasterIsland":-360,"Etc/GMT+6":-360,"Mexico/General":-300,"Pacific/Easter":-360,"Pacific/Galapagos":-360,"SystemV/CST6":-360,"SystemV/CST6CDT":-300,"US/Central":-300,"US/Indiana-Starke":-300,"America/Atikokan":-300,"America/Bogota":-300,"America/Cancun":-300,"America/Cayman":-300,"America/Coral_Harbour":-300,"America/Detroit":-240,"America/Eirunepe":-300,"America/Fort_Wayne":-240,"America/Grand_Turk":-240,"America/Guayaquil":-300,"America/Havana":-240,"America/Indiana/Indianapolis":-240,"America/Indiana/Marengo":-240,"America/Indiana/Petersburg":-240,"America/Indiana/Vevay":-240,"America/Indiana/Vincennes":-240,"America/Indiana/Winamac":-240,"America/Indianapolis":-240,"America/Iqaluit":-240,"America/Jamaica":-300,"America/Kentucky/Louisville":-240,"America/Kentucky/Monticello":-240,"America/Lima":-300,"America/Louisville":-240,"America/Montreal":-240,"America/Nassau":-240,"America/New_York":-240,"America/Nipigon":-240,"America/Panama":-300,"America/Pangnirtung":-240,"America/Port-au-Prince":-240,"America/Porto_Acre":-300,"America/Rio_Branco":-300,"America/Thunder_Bay":-240,"America/Toronto":-240,"Brazil/Acre":-300,"Canada/Eastern":-240,Cuba:-240,EST:-300,EST5EDT:-240,"Etc/GMT+5":-300,IET:-240,Jamaica:-300,"SystemV/EST5":-300,"SystemV/EST5EDT":-240,"US/East-Indiana":-240,"US/Eastern":-240,"US/Michigan":-240,"America/Anguilla":-240,"America/Antigua":-240,"America/Aruba":-240,"America/Asuncion":-240,"America/Barbados":-240,"America/Blanc-Sablon":-240,"America/Boa_Vista":-240,"America/Campo_Grande":-240,"America/Caracas":-240,"America/Cuiaba":-240,"America/Curacao":-240,"America/Dominica":-240,"America/Glace_Bay":-180,"America/Goose_Bay":-180,"America/Grenada":-240,"America/Guadeloupe":-240,"America/Guyana":-240,"America/Halifax":-180,"America/Kralendijk":-240,"America/La_Paz":-240,"America/Lower_Princes":-240,"America/Manaus":-240,"America/Marigot":-240,"America/Martinique":-240,"America/Moncton":-180,"America/Montserrat":-240,"America/Port_of_Spain":-240,"America/Porto_Velho":-240,"America/Puerto_Rico":-240,"America/Santiago":-240,"America/Santo_Domingo":-240,"America/St_Barthelemy":-240,"America/St_Kitts":-240,"America/St_Lucia":-240,"America/St_Thomas":-240,"America/St_Vincent":-240,"America/Thule":-180,"America/Tortola":-240,"America/Virgin":-240,"Atlantic/Bermuda":-180,"Brazil/West":-240,"Canada/Atlantic":-180,"Chile/Continental":-240,"Etc/GMT+4":-240,PRT:-240,"SystemV/AST4":-240,"SystemV/AST4ADT":-180,"America/St_Johns":-90,CNT:-90,"Canada/Newfoundland":-90,AGT:-180,"America/Araguaina":-180,"America/Argentina/Buenos_Aires":-180,"America/Argentina/Catamarca":-180,"America/Argentina/ComodRivadavia":-180,"America/Argentina/Cordoba":-180,"America/Argentina/Jujuy":-180,"America/Argentina/La_Rioja":-180,"America/Argentina/Mendoza":-180,"America/Argentina/Rio_Gallegos":-180,"America/Argentina/Salta":-180,"America/Argentina/San_Juan":-180,"America/Argentina/San_Luis":-180,"America/Argentina/Tucuman":-180,"America/Argentina/Ushuaia":-180,"America/Bahia":-180,"America/Belem":-180,"America/Buenos_Aires":-180,"America/Catamarca":-180,"America/Cayenne":-180,"America/Cordoba":-180,"America/Fortaleza":-180,"America/Godthab":-120,"America/Jujuy":-180,"America/Maceio":-180,"America/Mendoza":-180,"America/Miquelon":-120,"America/Montevideo":-180,"America/Nuuk":-120,"America/Paramaribo":-180,"America/Punta_Arenas":-180,"America/Recife":-180,"America/Rosario":-180,"America/Santarem":-180,"America/Sao_Paulo":-180,"Antarctica/Palmer":-180,"Antarctica/Rothera":-180,"Atlantic/Stanley":-180,BET:-180,"Brazil/East":-180,"Etc/GMT+3":-180,"America/Noronha":-120,"Atlantic/South_Georgia":-120,"Brazil/DeNoronha":-120,"Etc/GMT+2":-120,"America/Scoresbysund":0,"Atlantic/Azores":0,"Atlantic/Cape_Verde":-60,"Etc/GMT+1":-60,"Africa/Abidjan":0,"Africa/Accra":0,"Africa/Bamako":0,"Africa/Banjul":0,"Africa/Bissau":0,"Africa/Casablanca":0,"Africa/Conakry":0,"Africa/Dakar":0,"Africa/El_Aaiun":0,"Africa/Freetown":0,"Africa/Lome":0,"Africa/Monrovia":0,"Africa/Nouakchott":0,"Africa/Ouagadougou":0,"Africa/Sao_Tome":0,"Africa/Timbuktu":0,"America/Danmarkshavn":0,"Antarctica/Troll":120,"Atlantic/Canary":60,"Atlantic/Faeroe":60,"Atlantic/Faroe":60,"Atlantic/Madeira":60,"Atlantic/Reykjavik":0,"Atlantic/St_Helena":0,Eire:60,"Etc/GMT":-0,"Etc/GMT+0":-0,"Etc/GMT-0":-0,"Etc/GMT0":-0,"Etc/Greenwich":-0,"Etc/UCT":-0,"Etc/UTC":-0,"Etc/Universal":-0,"Etc/Zulu":-0,"Europe/Belfast":60,"Europe/Dublin":60,"Europe/Guernsey":60,"Europe/Isle_of_Man":60,"Europe/Jersey":60,"Europe/Lisbon":60,"Europe/London":60,GB:60,"GB-Eire":60,GMT:0,GMT0:0,Greenwich:0,Iceland:0,Portugal:60,UCT:0,UTC:0,Universal:0,WET:60,Zulu:0,"Africa/Algiers":60,"Africa/Bangui":60,"Africa/Brazzaville":60,"Africa/Ceuta":120,"Africa/Douala":60,"Africa/Kinshasa":60,"Africa/Lagos":60,"Africa/Libreville":60,"Africa/Luanda":60,"Africa/Malabo":60,"Africa/Ndjamena":60,"Africa/Niamey":60,"Africa/Porto-Novo":60,"Africa/Tunis":60,"Arctic/Longyearbyen":120,"Atlantic/Jan_Mayen":120,CET:120,ECT:120,"Etc/GMT-1":60,"Europe/Amsterdam":120,"Europe/Andorra":120,"Europe/Belgrade":120,"Europe/Berlin":120,"Europe/Bratislava":120,"Europe/Brussels":120,"Europe/Budapest":120,"Europe/Busingen":120,"Europe/Copenhagen":120,"Europe/Gibraltar":120,"Europe/Ljubljana":120,"Europe/Luxembourg":120,"Europe/Madrid":120,"Europe/Malta":120,"Europe/Monaco":120,"Europe/Oslo":120,"Europe/Paris":120,"Europe/Podgorica":120,"Europe/Prague":120,"Europe/Rome":120,"Europe/San_Marino":120,"Europe/Sarajevo":120,"Europe/Skopje":120,"Europe/Stockholm":120,"Europe/Tirane":120,"Europe/Vaduz":120,"Europe/Vatican":120,"Europe/Vienna":120,"Europe/Warsaw":120,"Europe/Zagreb":120,"Europe/Zurich":120,MET:120,Poland:120,ART:120,"Africa/Blantyre":120,"Africa/Bujumbura":120,"Africa/Cairo":120,"Africa/Gaborone":120,"Africa/Harare":120,"Africa/Johannesburg":120,"Africa/Khartoum":120,"Africa/Kigali":120,"Africa/Lubumbashi":120,"Africa/Lusaka":120,"Africa/Maputo":120,"Africa/Maseru":120,"Africa/Mbabane":120,"Africa/Tripoli":120,"Africa/Windhoek":120,"Asia/Amman":180,"Asia/Beirut":180,"Asia/Damascus":180,"Asia/Famagusta":180,"Asia/Gaza":180,"Asia/Hebron":180,"Asia/Jerusalem":180,"Asia/Nicosia":180,"Asia/Tel_Aviv":180,CAT:120,EET:180,Egypt:120,"Etc/GMT-2":120,"Europe/Athens":180,"Europe/Bucharest":180,"Europe/Chisinau":180,"Europe/Helsinki":180,"Europe/Kaliningrad":120,"Europe/Kiev":180,"Europe/Mariehamn":180,"Europe/Nicosia":180,"Europe/Riga":180,"Europe/Sofia":180,"Europe/Tallinn":180,"Europe/Tiraspol":180,"Europe/Uzhgorod":180,"Europe/Vilnius":180,"Europe/Zaporozhye":180,Israel:180,Libya:120,"Africa/Addis_Ababa":180,"Africa/Asmara":180,"Africa/Asmera":180,"Africa/Dar_es_Salaam":180,"Africa/Djibouti":180,"Africa/Juba":180,"Africa/Kampala":180,"Africa/Mogadishu":180,"Africa/Nairobi":180,"Antarctica/Syowa":180,"Asia/Aden":180,"Asia/Baghdad":180,"Asia/Bahrain":180,"Asia/Istanbul":180,"Asia/Kuwait":180,"Asia/Qatar":180,"Asia/Riyadh":180,EAT:180,"Etc/GMT-3":180,"Europe/Istanbul":180,"Europe/Kirov":180,"Europe/Minsk":180,"Europe/Moscow":180,"Europe/Simferopol":180,"Indian/Antananarivo":180,"Indian/Comoro":180,"Indian/Mayotte":180,Turkey:180,"W-SU":180,"Asia/Tehran":270,Iran:270,"Asia/Baku":240,"Asia/Dubai":240,"Asia/Muscat":240,"Asia/Tbilisi":240,"Asia/Yerevan":240,"Etc/GMT-4":240,"Europe/Astrakhan":240,"Europe/Samara":240,"Europe/Saratov":240,"Europe/Ulyanovsk":240,"Europe/Volgograd":240,"Indian/Mahe":240,"Indian/Mauritius":240,"Indian/Reunion":240,NET:240,"Asia/Kabul":270,"Antarctica/Mawson":300,"Asia/Aqtau":300,"Asia/Aqtobe":300,"Asia/Ashgabat":300,"Asia/Ashkhabad":300,"Asia/Atyrau":300,"Asia/Dushanbe":300,"Asia/Karachi":300,"Asia/Oral":300,"Asia/Qyzylorda":300,"Asia/Samarkand":300,"Asia/Tashkent":300,"Asia/Yekaterinburg":300,"Etc/GMT-5":300,"Indian/Kerguelen":300,"Indian/Maldives":300,PLT:300,"Asia/Calcutta":330,"Asia/Colombo":330,"Asia/Kolkata":330,IST:330,"Asia/Kathmandu":345,"Asia/Katmandu":345,"Antarctica/Vostok":360,"Asia/Almaty":360,"Asia/Bishkek":360,"Asia/Dacca":360,"Asia/Dhaka":360,"Asia/Kashgar":360,"Asia/Omsk":360,"Asia/Qostanay":360,"Asia/Thimbu":360,"Asia/Thimphu":360,"Asia/Urumqi":360,BST:360,"Etc/GMT-6":360,"Indian/Chagos":360,"Asia/Rangoon":390,"Asia/Yangon":390,"Indian/Cocos":390,"Antarctica/Davis":420,"Asia/Bangkok":420,"Asia/Barnaul":420,"Asia/Ho_Chi_Minh":420,"Asia/Hovd":420,"Asia/Jakarta":420,"Asia/Krasnoyarsk":420,"Asia/Novokuznetsk":420,"Asia/Novosibirsk":420,"Asia/Phnom_Penh":420,"Asia/Pontianak":420,"Asia/Saigon":420,"Asia/Tomsk":420,"Asia/Vientiane":420,"Etc/GMT-7":420,"Indian/Christmas":420,VST:420,"Asia/Brunei":480,"Asia/Choibalsan":480,"Asia/Chongqing":480,"Asia/Chungking":480,"Asia/Harbin":480,"Asia/Hong_Kong":480,"Asia/Irkutsk":480,"Asia/Kuala_Lumpur":480,"Asia/Kuching":480,"Asia/Macao":480,"Asia/Macau":480,"Asia/Makassar":480,"Asia/Manila":480,"Asia/Shanghai":480,"Asia/Singapore":480,"Asia/Taipei":480,"Asia/Ujung_Pandang":480,"Asia/Ulaanbaatar":480,"Asia/Ulan_Bator":480,"Australia/Perth":480,"Australia/West":480,CTT:480,"Etc/GMT-8":480,Hongkong:480,PRC:480,Singapore:480,"Australia/Eucla":525,"Asia/Chita":540,"Asia/Dili":540,"Asia/Jayapura":540,"Asia/Khandyga":540,"Asia/Pyongyang":540,"Asia/Seoul":540,"Asia/Tokyo":540,"Asia/Yakutsk":540,"Etc/GMT-9":540,JST:540,Japan:540,"Pacific/Palau":540,ROK:540,ACT:570,"Australia/Adelaide":570,"Australia/Broken_Hill":570,"Australia/Darwin":570,"Australia/North":570,"Australia/South":570,"Australia/Yancowinna":570,AET:600,"Antarctica/DumontDUrville":600,"Antarctica/Macquarie":600,"Asia/Ust-Nera":600,"Asia/Vladivostok":600,"Australia/ACT":600,"Australia/Brisbane":600,"Australia/Canberra":600,"Australia/Currie":600,"Australia/Hobart":600,"Australia/Lindeman":600,"Australia/Melbourne":600,"Australia/NSW":600,"Australia/Queensland":600,"Australia/Sydney":600,"Australia/Tasmania":600,"Australia/Victoria":600,"Etc/GMT-10":600,"Pacific/Chuuk":600,"Pacific/Guam":600,"Pacific/Port_Moresby":600,"Pacific/Saipan":600,"Pacific/Truk":600,"Pacific/Yap":600,"Australia/LHI":630,"Australia/Lord_Howe":630,"Antarctica/Casey":660,"Asia/Magadan":660,"Asia/Sakhalin":660,"Asia/Srednekolymsk":660,"Etc/GMT-11":660,"Pacific/Bougainville":660,"Pacific/Efate":660,"Pacific/Guadalcanal":660,"Pacific/Kosrae":660,"Pacific/Norfolk":660,"Pacific/Noumea":660,"Pacific/Pohnpei":660,"Pacific/Ponape":660,SST:660,"Antarctica/McMurdo":720,"Antarctica/South_Pole":720,"Asia/Anadyr":720,"Asia/Kamchatka":720,"Etc/GMT-12":720,Kwajalein:720,NST:720,NZ:720,"Pacific/Auckland":720,"Pacific/Fiji":720,"Pacific/Funafuti":720,"Pacific/Kwajalein":720,"Pacific/Majuro":720,"Pacific/Nauru":720,"Pacific/Tarawa":720,"Pacific/Wake":720,"Pacific/Wallis":720,"NZ-CHAT":765,"Pacific/Chatham":765,"Etc/GMT-13":780,MIT:780,"Pacific/Apia":780,"Pacific/Enderbury":780,"Pacific/Fakaofo":780,"Pacific/Tongatapu":780,"Etc/GMT-14":840,"Pacific/Kiritimati":840,UT:0,EDT:-240,CDT:-300,MDT:-360,PDT:-420},y=new RegExp("("+Object.keys(h).join("|")+")"),f=[{val:"YYYY",type:"year",regex:/\d{4}/,len:4},{val:"GGGG",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"gggg",type:"year",regex:/\d{4}/,len:4,isWEG:!0},{val:"YY",type:"year",regex:/\d{2}/,len:2},{val:"GG",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"gg",type:"year",regex:/\d{2}/,len:2,isWEG:!0},{val:"MMMM",type:"month",regex:/[A-z]{3,}/,long:!0,str:!0,array:r},{val:"MMM",str:!0,type:"month",regex:/[A-z]{3,}/,array:o},{val:"Mo",suff:!0,type:"month",regex:/\d{1,2}(?=st|nd|rd|th)/,max:12},{val:"MM",type:"month",regex:/\d{2}/,len:2,max:12,alt:!0},{val:"M",type:"month",regex:/\d{1,2}/,max:12},{val:"DDDD",type:"date",regex:/\d{3}/,len:3,year:!0},{val:"DDDo",type:"date",suff:!0,regex:/\d{1,3}(?=st|nd|rd|th)/,len:3,year:!0,ignore:/\d{3}(?=st|nd|rd|th)/},{val:"DDD",type:"date",regex:/\d{1,3}/,year:!0,ignore:/\d{3}/},{val:"Do",type:"date",suff:!0,regex:/\d{1,2}(?=st|nd|rd|th)/},{val:"DD",type:"date",regex:/\d{2}/,len:2,alt:!0},{val:"D",type:"date",regex:/\d{1,2}/},{val:"[W]Wo",type:"week",suff:!0,regex:new RegExp("[W]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"[W]wo",ignore:1,type:"week",suff:!0,regex:new RegExp("[W]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"[W]WW",type:"week",regex:new RegExp("W(\\d{2})"),len:2,isWEG:!0,match:1},{val:"[W]ww",ignore:1,type:"week",regex:new RegExp("W(\\d{2})"),len:2,isWEG:!0,match:1},{val:"[W]W",type:"week",regex:new RegExp("W(\\d{1,2})"),isWEG:!0,match:1},{val:"[W]w",ignore:1,type:"week",regex:new RegExp("W(\\d{1,2})"),isWEG:!0,match:1},{val:"Wo",type:"week",pref:0,suff:!0,regex:new RegExp("[W]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"wo",type:"week",pref:0,ignore:1,suff:!0,regex:new RegExp("[W]d{1,2}(?=st|nd|th|rd)"),isWEG:!0},{val:"WW",type:"week",pref:0,regex:new RegExp("(\\d{2})"),len:2,isWEG:!0,match:1},{val:"ww",type:"week",pref:0,ignore:1,regex:new RegExp("(\\d{2})"),len:2,isWEG:!0,match:1},{val:"W",type:"week",pref:0,regex:new RegExp("(\\d{1,2})"),isWEG:!0,match:1},{val:"w",type:"week",pref:0,ignore:1,regex:new RegExp("(\\d{1,2})"),isWEG:!0,match:1},{val:"E",type:"day",regex:/\d{1}/,isWEG:!0},{val:"e",type:"day",regex:/\d{1}/,isWEG:!0,local:!0},{val:"A",type:"meridian",regex:/AM|PM/,str:!0,time:!0},{val:"a",type:"meridian",regex:/am|pm/,str:!0,time:!0,lower:!0},{val:"ZZ",type:"timezone",regex:/(\+|\-)(\d{2})(\d{2})$/,time:!0,len:2},{val:"Z",type:"timezone",regex:/(\+|\-)(\d{2}):(\d{2})$/,time:!0,len:2},{val:"HH",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:23},{val:"H",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:23},{val:"hh",type:"hour",regex:/\d{2}/,time:!0,len:2,max:12,min:1},{val:"h",type:"hour",regex:/\d{1,2}/,time:!0,max:12,min:1},{val:"kk",type:"hour",regex:/\d{2}/,railway:!0,time:!0,len:2,max:24,deduct:-1},{val:"k",type:"hour",regex:/\d{1,2}/,railway:!0,time:!0,max:24,deduct:-1},{val:"mm",type:"minute",regex:/\d{2}/,time:!0,len:2,max:59},{val:"m",type:"minute",regex:/\d{1,2}/,time:!0,max:59},{val:"ss",type:"second",regex:/\d{2}/,time:!0,len:2,max:59},{val:"s",type:"second",regex:/\d{1,2}/,time:!0,max:59},{val:"S",type:"millisecond",regex:/[0-9]{1,}/,time:!0,valForm:/[S]+/},{val:"zz",type:"timezone",regex:y,str:!0,time:!0},{val:"z",type:"timezone",regex:y,str:!0,time:!0},{val:"X",type:"timestamp",regex:/\d{10}/,time:!0},{val:"x",type:"timestamp",regex:/\d{13,}/,time:!0,milli:!0},{val:"dddd",type:"longdate",regex:/[A-z]{3,}/,long:!0,str:!0,array:n},{val:"ddd",type:"longdate",regex:/[A-z]{3}/,str:!0,array:s},{val:"dd",type:"longdate",regex:/[A-z]{2}/,str:!0,array:l},{val:"do",type:"longdate",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"d",type:"longdate",regex:/\d{1}/},{val:"Qo",type:"quarter",regex:/\d{1}(?=st|nd|rd|th)/,suff:!0},{val:"Q",type:"quarter",regex:/\d{1}/}];function g(e,a,i,o){var r=this.parseFormat(this.replaceTxt(e)).reverse();return e=e.replace(/{{|}}/g,""),r.forEach((function(e){var r=e.format.array||[],n=t._lyteUiUtils;"meridian"==e.format.type&&(r=e.format.lower?["am","pm"]:["AM","PM"]),i&&!e.format.str&&n&&"1"!=n.i18n("1")&&(r=["0","1","2","3","4","5","6","7","8","9"]),Array.from(r).reverse().forEach((function(t){var i=n?n.i18n(t):t;o&&(i=o(a,t,i,e.format.val)||i),t!=i&&(a=v(a,t,i))}))})),a}function v(t,e,a){return-1!=t.indexOf(a)?v(t.replace(a,e),e,a):t}function P(t,i,o,r){var n,s,l,p,c,h,y;t&&(this._arg=t),this._format=i,function(t){if(!t)return!0;var e=t.constructor;return e==Array&&!e.length||e==Object&&!Object.keys(t).length}(t)&&(t=new Date),o&&o.constructor==Object&&(r=o.lL,n=o.i18n,s=o.i18n_callback,l=o.ignore_timezone,p=o.timezone,c=o.timezoneOffset,y=o.wod,h=o.number_conversion,o=o.uL),l||this.timezone(p||e,null==c?a:c),n&&i&&t&&t.constructor==String&&(t=g.call(this,i,t,h,s)),this.uL=null==o?u:o,this.lL=null==r?m:r,this.wod=null==y?d:y,b(o)&&b(r)||(this.alt=!!o),this._isValid=z.call(this,t,i)}function b(t){return null!=t}function x(t,e,a){for(var i=0,o=0;o<t;o++)i+=p[o],e&&1==o&&(i+=1);return i+(a||0)}function D(t){return 2==(t+="").length&&(t=I(parseInt(t))),(t=parseInt(t))%4==0&&t%100!=0||t%400==0}function w(t){var e=t.match(/{{/),a=t.match(/}}/);return e&&a?w(t=t.replace(t.slice(e.index,a.index+2),(function(t){for(var e="",a=0;a<t.length-4;a++)e+="*";return e}))):t}function M(t,e){for(var a,i=f,o=[],r=0;r<i.length;r++){var n=i[r];if(!t.length)break;if(t.indexOf(n.val)>-1){if(e&&n.alt){a=!0;continue}n=$L.extend(!0,{},n),a&&(n.val=i[r-1].val),a=!1,o.push({format:n,index:t.indexOf(n.val)}),t=t.replace(n.val,Math.pow(10,n.val.length-1)),r--}}return o.sort((function(t,e){return t.index-e.index}))}function T(t,e,a,i){return t=t.replace(e,i||""),a&&(t=t.replace(/st|nd|rd|th/,"")),t}function L(t,e){var a,i,o=(t=t||[]).length;for(i=0;i<o;i++){var r=t[i];if(new RegExp(r).test(e)){a=r;break}}return{mon:a,index:i}}function C(t,e,a,i){var n;if(a){var s=L(i?r:o,t);n=s.mon,t=s.index,(!n||t>11)&&(t="Invalid")}else(t=parseInt(t)-1)>11&&(t="Invalid");return{val:t,mon:n}}function A(t){var e,a=parseInt(t[2]);return minute=parseInt(t[3]),e=60*a+minute,"+"==t[1]?-1*e:e}function S(t,e){if(t=parseInt(t),ini=0,ind=0,inc=p[0],t>365+(e?1:0))return{};for(;ini+inc<t;)ini+=inc,ind++,inc=p[ind],e&&1==ind&&(inc+=1);return{day:t-ini,mon:ind}}function k(t){if(null!=t.day||t.week){var e=new Date(t.year,0,1);e.setDate(d+7*((t.week||1)-1)+(t.day||0)),t.year==e.getFullYear()?(t.month=e.getMonth(),t.date=e.getDate()):t.month=t.date="Invalid"}if(t.year){var a=parseInt(t.year);a<100&&(t.year=I(a))}t.month<0&&(t.month="Invalid"),t.date<1&&(t.date="Invalid")}function F(t,e){var a=d,i=this._timezone;return i&&(t=new Date($L.moment(t).timezone(i).format("YYYY-MM-DD"))),a&&(t=new Date(t)).setDate(t.getDate()-a),function(t,e){var a=t.getFullYear(),i=D(a),o=t.getMonth(),r=t.getDate(),n=new Date(a,0,1),s=n.getDay(),l=(n.getDate(),t.getDay()),p=(x(o,i)+r-(7-s+0)-(l+1))/7+1;if(11==o){var d=new Date(a,11,31),c=d.getDay();if(d.getDate(),r+(6-c+7)%7>31)return{week:1,day:l}}return{week:++p,day:l}}(t)}function I(t){var e=t+"";if(t=parseInt(t),2==e.length){var a=Number($L.moment().format("YYYY")),i=parseInt(a/100),o=a%100,r=(this.uL,(o-(this.lL||m)+100)%100);t=o>r?t<r?i+1+""+E(t,2):i+""+E(t,2):t<r?i+""+E(t,2):i-1+""+E(t,2)}return t}function _(t,e){for(var a,i,o,r={},n=new Date,s=M(w(e),!0),l=t,c=e=e.replace(/{{|}}/g,""),u=0;u<s.length;u++){var m,y=s[u].format;switch(y.type){case"date":case"year":case"week":case"day":y.regex.test(t)?(m="year"==y.type?t.match(y.regex)[y.match||0]:parseInt(t.match(y.regex)[y.match||0]),r[y.type]=m,t=T(t,y.regex,y.suff),l=T(l,y.regex,y.suff,y.val),"week"==y.type&&(t=T(t,"W")),"day"==y.type&&y.local&&r.day++,y.year&&(r.date=S(r.date).day)):r.year&&r.week?(r[y.type]=d,e=e.replace(y.val,""),c=c.replace(y.val,"")):r[y.type]="Invalid",/date/i.test(y.type)&&0==r[y.type]&&(r[y.type]="Invalid");break;case"month":y.regex.test(t)?(m=C(t.match(y.regex)[0],y.suff,y.str,y.long),r.month=m.val,t=T(t,m.mon||y.regex,y.suff),l=T(l,m.mon||y.regex,y.suff,y.val)):r.month="Invalid",r.month<0&&(r.month="Invalid");break;case"quarter":y.regex.test(t)&&(m=t.match(y.regex)[0],r.quarter=m,t=T(t,m,y.suff),l=T(l,m,y.suff,y.val));break;case"longdate":y.regex.test(t)&&(m=y.str?L(y.array,t.match(y.regex)[0]):parseInt(t.match(y.regex)[0]),r.longdate=b(m.index)?m.index:m,t=T(t,m.mon||m,y.suff),l=T(l,m.mon||m,y.suff,y.val));break;case"hour":case"minute":case"second":case"meridian":if(y.regex.test(t)){y.str?m=t.match(y.regex)[0]:(m=parseInt(t.match(y.regex)[0]),y.railway&&(r.railway=!0)),y.deduct&&m--;var f=y.min;(y.max&&m>y.max||null!=f&&m<f)&&(m="Invalid"),r[y.type]=m,t=T(t,y.regex),l=T(l,y.regex,y.suff,y.val)}break;case"millisecond":y.regex.test(t)&&(m=t.match(y.regex)[0],r.millisecond=parseFloat(m),t=T(t,m).replace(/[S]+/,""),l=T(l,y.regex,y.suff,y.val),c=c.replace(/[S]+/,"S"));break;case"timestamp":y.regex.test(t)&&(m=parseInt(t.match(y.regex)[0]),r.timestamp=m*(y.milli?1:1e3),t=T(t,m),l=T(l,m,y.suff,y.val));break;case"timezone":y.regex.test(t)&&(y.str?(m=t.match(y.regex)[0],m=-h[m]):m=A(t.match(y.regex)),r.timezone=m,t=T(t,y.regex),l=T(l,y.regex,y.suff,y.val))}e=e.replace(y.valForm||y.val,"")}if(a=new Date(n.getFullYear(),b(r.month)?r.month:n.getMonth(),r.date||1,r.hour||("PM"==r.meridian?12:0),r.minute||0,r.second||0),b(r.day)||b(r.week)){var g=r.date;b(r.year)||(r.year=a.getFullYear()),b(r.day)||(r.day=d),k.call(this,r),b(g)&&(r.date>g&&r.month++,r.date=g)}if(b(r.longdate)&&r.day&&r.day!=r.longdate?a.setFullYear("Invalid"):b(r.year)&&a.setFullYear(I(r.year)),b(r.month)&&a.setMonth(r.month),b(r.date)&&a.setDate(r.date<=p[a.getMonth()]+(1==a.getMonth()&&D(a.getFullYear())?1:0)?r.date:"Invalid"),b(r.hour)){var v=r.meridian;a.setHours(r.railway?(i=r.hour,(o=v?/pm/i.test(v):r.hour>11)&&i<12?i+=12:12!=i||o||(i=0),i):/pm/i.test(v)?r.hour<12?r.hour+12:r.hour:r.hour%12)}if(b(r.minute)&&a.setMinutes(r.minute),b(r.second)&&a.setSeconds(r.second),b(r.millisecond)&&a.setMilliseconds(r.millisecond),b(r.timestamp)&&(a=new Date(r.timestamp)),z.call(this,a))if(b(r.timezone)){var P=a.getTimezoneOffset();if(r.timezone-=P,a.setMinutes(a.getMinutes()+r.timezone),P!=a.getTimezoneOffset()){var x=new Date(this._arg);"Invalid Date"==x.toString()?a.setMinutes(a.getMinutes()-r.timezone):a=x}}else if(b(this._timezone)){var F=this.timezoneOffset(a);r.timezone=F-a.getTimezoneOffset(),a.setMinutes(a.getMinutes()+r.timezone);var _=F-this.timezoneOffset(a);_&&a.setMinutes(a.getMinutes()-_);var E=r.hour;b(E)&&E!=parseInt($L.moment(a).format("h"))&&a.setMinutes(a.getMinutes()+_)}var N="YYYY-MM-DDTHH:mm:ssZ";return c!=N&&t.length==e.length&&c==l&&z.call(this,a)?this._isCorrectFormat=!0:this._format&&c!=N?void 0:z.call(this,new Date(this._arg))}function E(t,e,a,i){var o="";if(i&&t++,a&&(o=function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(t)),e){t=t.toString();for(var r=1;r<e;r++)t.length<=r&&(t="0"+t)}return t+o}function N(t,e){var a;try{a=t.toLocaleString("en-US",{timeZone:e._timezone,timeZoneName:"long"}).split(/AM|PM/)[1]}catch(t){a=(new Date).toTimeString().match(/\(([^)]+)\)/)[1]}return a.trim().match(/\b\w/g).join("")}function U(t){var e,a=M(w(t)),i={},o=this.toDate(),r=this.split_date(o),n=function(){return new Date(o.getTime()+1e3*(o.getTimezoneOffset()-r.timezone)*60)}.bind(this);t=function(t,e){for(var a=0,i=0;i<e.length;i++)t=t.slice(0,e[i].index+a)+e[i].format.val+c+t.slice(e[i].index+a+e[i].format.val.length),a+=10;return t}(t.replace(/{{|}}/g,""),a);for(var s=0;s<a.length;s++){var l=a[s].format;switch(l.type){case"date":t=t.replace(l.val+c,E(l.year?x(r.month-1,D(r.year),r.date):r.date,l.len,l.suff));break;case"month":t=l.str?t.replace(l.val+c,l.array[r.month-1]):t.replace(l.val+c,E(r.month,l.len,l.suff));break;case"year":t=t.replace(l.val+c,2==l.len?E(r.year%100,2):4==(r.year+"").length?r.year:E(r.year,4)),i.year=i.year||[],i.year.push(l);break;case"day":case"week":i.flag=!0,i[l.type]=i[l.type]||[],i[l.type].push(l);break;case"quarter":t=t.replace(l.val+c,E(Math.ceil(r.month/3),null,l.suff));break;case"longdate":var p=(e=e||n()).getDay();t=l.str?t.replace(l.val+c,l.array[p]):t.replace(l.val+c,E(p,null,l.suff));break;case"hour":var d=r.hour;t=t.replace(l.val+c,E(l.railway?d:d>12?d%12:d||12,l.len,null,l.deduct));break;case"minute":t=t.replace(l.val+c,E(r.minute,l.len));break;case"second":t=t.replace(l.val+c,E(r.second,l.len));break;case"millisecond":t=t.replace(l.val+c,E(o.getMilliseconds(),3)).replace(/\\S+/,"");break;case"timezone":var u="";if(l.str)"z"==l.val&&(u=r.timezoneName||N(o,this)||"");else{var m=r.timezone,h=(d=E(Math.abs(parseInt(m/60)),2),E(Math.abs(m%60),2)),y=m<=0?"+":"-";u="ZZ"==l.val?y+d+h:y+d+":"+h}t=t.replace(l.val+c,u);break;case"timestamp":u="","X"==l.val?u+=parseInt(o.getTime()/1e3):u+=o.getTime(),t=t.replace(l.val+c,u);break;case"meridian":var f=r.meridian;l.lower&&(f=f.toLowerCase()),t=t.replace(l.val+c,f)}}if(i.flag){var g=F(e=e||n());if(i.week)for(var v=0;v<i.week.length;v++){var P=i.week[v],b=F(e,P.ignore);t=t.replace(P.val+c,(0==P.pref?"":"W")+E(b.week,P.len,P.suff))}if(i.day)for(v=0;v<i.day.length;v++)t=t.replace(i.day[v].val+c,g.day-(i.day[v].local?1:0));if(g.repYear&&i.year)for(v=0;v<i.year.length;v++)t=t.replace(2==i.year[v].len?r.year%100:r.year,(2==i.year[v].len?r.year%100:r.year)-1)}return t.replace(/{{|}}/g,"")}function z(t,e){var a=t.constructor;if(a==Date||a==(new Date).constructor)return this._dateObj=t,this._isMoment=!0,"Invalid Date"!=t.toString();if("string"==typeof t){if(e){var i=_.call(this,t,e);return i&&this._isCorrectFormat&&(this._format=e),i}if(this.constructFormat)return z.call(this,t,this.constructFormat.call(this,t));console.warn("Its not supported in lyte-moment-basic.js. Add lyte-moment-additional.js for format construction")}else{if(Array.isArray(t))return z.call(this,new Date(Date.parse(Date.apply(Date,a))).getTime());if("number"==typeof t)return t*=/^\d{10}$/.test(t)?1e3:1,z.call(this,new Date(t));if(t._isMoment)return this.name_space=t.name_space,this.dls_check_map=t.dls_check_map,z.call(this,t._dateObj.getTime())}}function $(t,e,a){a=a||"short";var i=t.getTime()+"_"+e+"_"+a;return i==this.name_space?this.dls_check_map:(this.name_space=i,this.dls_check_map=t.toLocaleString("en-US",{timeZone:e,timeZoneName:a}))}!function(){try{(new Date).toLocaleString("en-US",{timeZone:"Europe/London"})}catch(t){i=!0}}(),P.prototype={isDef:b,find:L,totdate:x,isLeap:D,dayArr:p,getDObj:function(){var t=this._dateObj,e=this._timezone;if(e){if(!this.is_IE)return new Date($.call(this,t,e));t.setMinutes(t.getMinutes()+t.getTimezoneOffset()-this.timezoneOffset(t))}return t},getWeekReverse:F,weekShort:l,weekMid:s,weekLong:n,longMon:r,shortMon:o,week:"W",crctLength:E,formats:f,replace:T,inbuiltFormats:{},getCorrectYear:I,parseFormat:M,replaceTxt:w,is_IE:i,convertTimeZone:A,validate:function(){return!!this._isValid},toDate:function(){return this._dateObj},isSame:function(t){return!!(this.validate()&&t&&t._isMoment&&t._isValid)&&this._dateObj.getTime()==t._dateObj.getTime()},format:function(t){if(this.validate())return t=this.inbuiltFormats[t]||t||"YYYY-MM-DDTHH:mm:ssZ",U.call(this,t)},utc:function(t){return this.timezone("UTC")},local:function(t){return this.timezone(void 0)},timezone:function(t,e){return this._timezone=t,b(e)&&(h[t]="string"==typeof e?-A(e.match(/(\+|\-)(\d{2}):(\d{2})$/)):e,this.is_IE=!0),this},getCurrentTimeZone:function(){return this._timezone},parseDate:function(t,e,a){var i=t.match(/(\d+)\/(\d+)\/(\d+),\s(\d+):(\d+):(\d+)\s(AM|PM)/),o={timezoneName:""},r=/GMT(\+|-)(\d+):(\d+):(\d+)$/,n=/GMT(\+|-)(\d+):(\d+)$/,s=/GMT(\+|-)(\d+)$/,l=/\s([A-Z]+)$/;["month","date","year","hour","minute","second"].forEach((function(t,e){o[t]=parseInt(i[e+1])})),o.meridian=i[7];var p=o.hour,d={ACDT:"GMT+10:30",ACST:"GMT+9:30",ACT:"GMT-5",ACWST:"GMT+8:45",ADT:"GMT-3",AEDT:"GMT+11",AEST:"GMT+10",AFT:"GMT+4:30",AKDT:"GMT-8",AKST:"GMT-9",AMST:"GMT-3",AMT:"GMT+4",ART:"GMT-3",AST:"GMT+3",AT:"GMT-4/GMT-3",AWST:"GMT+8",AZOST:"GMT+0",AZOT:"GMT-1",AZT:"GMT+4",BDT:"GMT+8",BIT:"GMT-12",BNT:"GMT+8",BOT:"GMT-4",BRST:"GMT-2",BRT:"GMT-3",BST:"GMT+11",BTT:"GMT+6",CAT:"GMT+2",CCT:"GMT+6:30",CDT:"GMT-4",CEST:"GMT+2",CET:"GMT+1",CHADT:"GMT+13:45",CHAST:"GMT+12:45",CHOST:"GMT+9",CHOT:"GMT+8",CHST:"GMT+10",CHUT:"GMT+10",CIST:"GMT-8",CIT:"GMT+8",CKT:"GMT-10",CLST:"GMT-3",CLT:"GMT-4",COST:"GMT-4",COT:"GMT-5",CST:"GMT+8",CT:"GMT-6/GMT-5",CVT:"GMT-1",CWST:"GMT+8:45",CXT:"GMT+7",DAVT:"GMT+7",DDUT:"GMT+10",EASST:"GMT-5",EAST:"GMT-6",EAT:"GMT+3",ECT:"GMT-5",EDT:"GMT-4",EEST:"GMT+3",EET:"GMT+2",EGST:"GMT+0",EGT:"GMT-1",EIT:"GMT+9",EST:"GMT-5",ET:"GMT-5/GMT-4",FET:"GMT+3",FJT:"GMT+12",FKST:"GMT-3",FKT:"GMT-4",FNT:"GMT-2",GALT:"GMT-6",GAMT:"GMT-9",GET:"GMT+4",GFT:"GMT-3",GILT:"GMT+12",GIT:"GMT-9",GMT:"GMT+0",GST:"GMT-2",GYT:"GMT-4",HADT:"GMT-9",HAST:"GMT-10",HKT:"GMT+8",HMT:"GMT+5",HOVST:"GMT+8",HOVT:"GMT+7",ICT:"GMT+7",IDT:"GMT+3",IOT:"GMT+6",IRDT:"GMT+4:30",IRKT:"GMT+8",IRST:"GMT+3:30",IST:"GMT+2",JST:"GMT+9",KGT:"GMT+6",KOST:"GMT+11",KRAT:"GMT+7",KST:"GMT+9",LHDT:"GMT+11",LHST:"GMT+10:30",LINT:"GMT+14",MAGT:"GMT+11",MART:"GMT-9:30",MAWT:"GMT+5",MDT:"GMT-6",MHT:"GMT+12",MIST:"GMT+11",MIT:"GMT-9:30",MMT:"GMT+6:30",MSK:"GMT+3",MST:"GMT+8",MT:"GMT-7/GMT-6",MUT:"GMT+4",MVT:"GMT+5",MYT:"GMT+8",NCT:"GMT+11",NDT:"GMT-2:30",NFT:"GMT+11",NPT:"GMT+5:45",NRT:"GMT+12",NST:"GMT-3:30",NT:"GMT-3:30",NUT:"GMT-11",NZDT:"GMT+13",NZST:"GMT+12",OMST:"GMT+6",ORAT:"GMT+5",PDT:"GMT-7",PET:"GMT-5",PETT:"GMT+12",PGT:"GMT+10",PHOT:"GMT+13",PhST:"GMT+8",PHT:"GMT+8",PKT:"GMT+5",PMDT:"GMT-2",PMST:"GMT-3",PONT:"GMT+11",PST:"GMT-8",PT:"GMT-8/GMT-7",PWT:"GMT+9",PYST:"GMT-3",PYT:"GMT-4",RET:"GMT+4",ROTT:"GMT-3",SAKT:"GMT+11",SAMT:"GMT+4",SAST:"GMT+2",SBT:"GMT+11",SCT:"GMT+4",SGT:"GMT+8",SLST:"GMT+5:30",SRET:"GMT+11",SRT:"GMT-3",SST:"GMT-11",SYOT:"GMT+3",TAHT:"GMT-10",TFT:"GMT+5",THA:"GMT+7",TJT:"GMT+5",TKT:"GMT+13",TLT:"GMT+9",TMT:"GMT+5",TOT:"GMT+13",TRT:"GMT+3",TVT:"GMT+12",ULAST:"GMT+9",ULAT:"GMT+8",USZ1:"GMT+2",UTC:"GMT+0",UYST:"GMT-2",UYT:"GMT-3",UZT:"GMT+5",VET:"GMT-4",VLAT:"GMT+10",VOLT:"GMT+4",VOST:"GMT+6",VUT:"GMT+11",WAKT:"GMT+12",WAST:"GMT+2",WAT:"GMT+1",WEST:"GMT+1",WET:"GMT+0",WFT:"GMT+12",WGST:"GMT-2",WIB:"GMT+7",WIT:"GMT+9",WST:"GMT+8",YAKT:"GMT+9",YEKT:"GMT+5"},c=this;return"PM"==i[7]?12!=p&&(o.hour+=12):12==p&&(o.hour=0),function t(i,p,u){if(r.test(i)){var m=i.match(r);o.timezone=(60*parseInt(m[2])+parseInt(m[3]))*("-"==m[1]?1:-1)}else if(n.test(i))m=i.match(n),o.timezone=(60*parseInt(m[2])+parseInt(m[3]))*("-"==m[1]?1:-1);else if(s.test(i))m=i.match(s),o.timezone=60*parseInt(m[2])*("-"==m[1]?1:-1);else if(p){if(u){var y=h[u];if(y){var f="GMT";return y>0&&(f+="+"),t(f+=parseInt(y/60)+":"+Math.abs(y%60),!0)}}o.timezone=0}else if(l.test(i)){var g=i.match(l)[1],v={AMT:{"Amazon Time":"GMT-4","Armenia Time":"GMT+4"},AST:{"Atlantic Standard Time":"GMT-4","Arabia Standard Time":"GMT+3"},BST:{"British Summer Time":"GMT+1","Bangladesh Standard Time":"GMT+6","Bougainville Standard Time":"GMT+11"},CDT:{"Central Daylight Time":"GMT-5","Cuba Daylight Time":"GMT-4"},CST:{"Central Standard Time":"GMT-6","Cuba Standard Time":"GMT-5","China Standard Time":"GMT+8"},GST:{"Gulf Standard Time":"GMT+4","South Georgia Time":"GMT-2"},IST:{"Indian Standard Time":"GMT+5:30","Irish Standard Time":"GMT+1","Israel Standard Time":"GMT+2"},MST:{"Mountain Standard Time":"GMT-7","Malaysia Standard Time":"GMT+8"},WGST:{"West Greenland Time":"GMT-3","West Greenland Summer Time":"GMT-2"}}[g],P=d[g];if(o.timezoneName=g,v){var b=$.call(c,e,a,"long");for(var x in v)if(-1!=b.indexOf(x)){P=v[x];break}}else P?-1!=["AT","CT","ET","MT","PT"].indexOf(g)&&(P=P.replace(/\/(.+)/,"")):(P=$.call(c,e,a,"long"),u=g);t(P,!0,u)}}(t),o},split_date:function(t){if(this.is_IE){var e=this.getDObj(),a=e.getHours();return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),hour:a,minute:e.getMinutes(),second:e.getSeconds(),meridian:a>11?"PM":"AM",timezone:this.timezoneOffset(t)}}try{var i=$.call(this,t,this._timezone);return this.parseDate(i,t,this._timezone)}catch(e){return this.is_IE=!0,this.split_date(t)}},timezoneOffset:function(t){if(b(this._timezone)){if(this.is_IE){var e=h[this._timezone];return-(b(e)?e:this._timezone)}return this.split_date(t).timezone}return this.validate()?this.toDate().getTimezoneOffset():(new Date).getTimezoneOffset()},utcOffset:function(t){if(this._isValid)return this.timezoneOffset(this.toDate())}},$L.moment=function(t,e,a,i){return new P(t,e,a,i)},$L.moment.lyteMoment=P,$L.moment.setLimits=function(t,e){u=t,m=e},$L.moment.setTimezone=function(t,i){e=t,b(i)&&(a=i)},$L.moment.setWod=function(t){d=t}}}(window),function(t){if($L.moment){var e=$L.moment.lyteMoment.prototype,a=[{val:"YYYY-MM-DD",regex:/^(\d{4}-\d{2}-\d{2})/},{val:"GGGG-["+e.week+"]WW-E",regex:new RegExp("^(\\d{4}-"+e.week+"\\d{2}-\\d)")},{val:"GGGG-["+e.week+"]WW",regex:new RegExp("^(\\d{4}-"+e.week+"\\d{2})")},{val:"YYYY-DDD",regex:/^(\d{4}-\d{3})/},{val:"YYYY-MM",regex:/^(\d{4}-\d{2})/},{val:"YYYYMMDD",regex:/^(\d{8})/},{val:"GGGG["+e.week+"]WWE",regex:new RegExp("^(\\d{4}"+e.week+"\\d{2}\\d)")},{val:"GGGG["+e.week+"]WW",regex:new RegExp("^(\\d{4}"+e.week+"\\d{2})")},{val:"YYYYDDD",regex:/^(\d{4}\d{3})/}],i=[{val:"HH:mm:ss.SSSS",regex:/^\d{2}:\d{2}:\d{2}\.[0-9]{1,}$/},{val:"HH:mm:ss,SSSS",regex:/^\d{2}:\d{2}:\d{2},[0-9]{1,}$/},{val:"HH:mm:ss",regex:/^\d{2}:\d{2}:\d{2}$/},{val:"HH:mm",regex:/^\d{2}:\d{2}$/},{val:"HHmmss.SSSS",regex:/^\d{6}\.[0-9]{1,}$/},{val:"HHmmss,SSSS",regex:/^\d{6},[0-9]{1,}$/},{val:"HHmmss",regex:/^\d{6}$/},{val:"HHmm",regex:/^\d{4}$/},{val:"HH",regex:/^\d{2}$/}];function o(t,e){for(var a=this.formats.slice(),i={},o=t,r=new RegExp(this.week+"|G|E","i").test(t),n=0;n<a.length;n++){var s=a[n];if(e==s.time&&s.regex.test(o)&&r==!!s.isWEG&&!this.isDef(i[s.type])){if(s.ignore&&!s.ignore.test(o)){var l=this.dayArr[i.month]||30;if(parseInt(o.match(s.regex)[0])<l)continue}if(s.str)(p=this.find(s.array,o.replace(/(Y|G)+/,"")).mon)&&(t=this.replace(t,p,!1,s.val),i[s.type]=s.array?this.find(s.array,p).index:p);else{var p=o.match(s.regex)[0];t=this.replace(t,s.regex,s.suff,s.val),i[s.type]=parseInt(p),"week"==s.type&&(t=this.replace(t,new RegExp(this.week+"(?=\\["+this.week+")")))}o=o.replace(p,"")}}return t}function r(t,e){for(var a=0;a<t.length;a++)if(t[a].regex.test(e))return t[a]}function n(t){return this.toDate().setFullYear(parseInt(this.getCorrectYear(this.crctLength(Number(this.format("YYYY"))%100,2)))),this}function s(t){for(var e=parseInt(this.format("DD"));t--;){var a=$L.moment(this).endOf("month"),i=parseInt(a.format("DD")),o=parseInt(a.add(1,"milliseconds").endOf("month").format("DD")),r=Math.max(i,e)-e+Math.min(e,o);this.add(r,"day")}}function l(t){for(var e=parseInt(this.format("DD"));t--;){var a=$L.moment(this).startOf("month"),i=parseInt(this.format("DD")),o=parseInt(a.subtract(1,"milliseconds").format("DD")),r=i+Math.max(0,o-e);this.subtract(r,"day")}}e.additional=!0,$L.extend(e,{inbuiltFormats:{localDatetime:"YYYY-MM-DDTHH:mm",localSecondDatetime:"YYYY-MM-DDTHH:mm:ss",localMillisecondDatetime:"YYYY-MM-DDTHH:mm:ss.SSS",defaultDate:"YYYY-MM-DD",defaultTime:"HH:mm",defaultTimeSecond:"HH:mm:ss",defaultTimeMillisecond:"HH:mm:ss.SSS",defaultWeek:"GGGG-[W]WW",defaultMonth:"YYYY-MM"},get:function(t){if(t)return this[t]()},set:function(t,e){if(t){if(e.constructor==Object){for(var a in e)this[a](e[a]);return this}return this[t](e)}},constructFormat:function(t){var e,n=r.call(this,a,t);return n?(e=r.call(this,i,t.replace(n.regex,"")),t=e?n.val+e.val:o.call(this,t.replace(n.regex,n.val),!0)):(t=o.call(this,t),t=o.call(this,t,!0)),t},i18N:function(e,a,i){if(this.validate()){1==a?(i=a,a=void 0):1==e&&(i=e,e=void 0),e=e||"YYYY-MM-DDTHH:mm:ssZ";var o=this.parseFormat(this.replaceTxt(e)).reverse();return e=e.replace(/{{|}}/g,""),i&&(i=!!t._lyteUiUtils&&"1"!=_lyteUiUtils.i18n("1")),o.forEach(function(o){var r=o.format,n=r.val,s=this.format(n),l=t._lyteUiUtils&&!/^[0-9]$/.test(s||"")?_lyteUiUtils.i18n(s):s,p=o.index;if(i&&!r.str)for(var d=0;d<10;d++)l=l.replace(new RegExp(d,"g"),_lyteUiUtils.i18n(d.toString()));e=e.slice(0,p)+(a?a(s,l,n):l)+e.slice(p+n.length)}.bind(this)),e}}}),new Array({prop:"date",array:[e.weekLong,e.weekShort,e.weekMid]},{prop:"day",array:[e.weekLong,e.weekShort,e.weekMid]},{prop:"month",array:[e.shortMon,e.longMon]},{prop:"year"},{prop:"fullYear"},{prop:"hours"},{prop:"minutes"},{prop:"seconds"},{prop:"milliseconds"},{prop:"UTCMilliseconds"},{prop:"time"}).forEach((function(t){e[t.prop]=function(e){if(this.validate()){var a=this.toDate(),i=t.prop[0].toUpperCase()+t.prop.slice(1);if(this.isDef(e)){if(e.constructor==String)for(var o=0;o<t.array.length;o++){var r=this.find(t.array[o],e);if(r.mon){e=r.index;break}}else e.constructor==Number&&Math.floor(e)!=e&&("year"==t.prop?(t.prop="month",e=Math.round(12*e)):e=Math.round(e));return"day"==t.prop?a.setDate(a.getDate()+(e-a.getDay())):a["set"+i](e),this}return a["get"+i]()}}})),$L.extend(e,{week:function(t){if(this.validate()){var e=this.toDate();return this.isDef(t)?(e.setDate(e.getDate()+7*(t-this.week())),this):this.getWeekReverse(e,1).week}},quarter:function(t){if(this.validate()){var e=this.toDate();return this.isDef(t)?(e.getMonth(),e.setMonth(e.getMonth()+3*(t-this.quarter())),this):Math.ceil(e.getMonth()/3)}},add:function(t,e,a){if(t<0)return this.subtract(Math.abs(t),e,a);if(this.validate()){var i=this.toDate();if(this.isDef(e)){i.getTimezoneOffset();var o=this.set(e,this.get(e)+t);return a?n.call(this,o):o}}},subtract:function(t,e,a){if(t<0)return this.add(Math.abs(t),e,a);if(this.validate()&&(this.toDate(),this.isDef(e))){var i=this.set(e,this.get(e)-t);return a?n.call(this,i):i}},modify:function(t,e,a){if(this.validate())return"month"==e?t>0?s.call(this,t):l.call(this,Math.abs(t)):this.add(t,e,a),a&&n.call(this,this),this},startOf:function(t){if(this.validate()){var e,a=this.toDate(),i=this.format(),o=Number(i.slice(0,4)),r=Number(i.slice(5,7)),n=Number(i.slice(8,10)),s=Number(i.slice(11,13)),l=Number(i.slice(14,16)),p=Number(i.slice(17,19)),d=a.getMilliseconds(),c=0,u=this.timezoneOffset(a);if("week"==(t=(t||"").toLowerCase())){var m,h=this.weekLong,y=this.format("dddd"),f=this.wod;c=24*(m=(h.indexOf(y)-f+7)%7)*60*60*1e3,e=!0,t="hour"}switch(t){case"year":e=!0;case"month":e&&(c+=24*this.totdate(r-1,this.isLeap(o))*60*60*1e3),e=!0;case"date":case"day":e&&(c+=24*(n-1)*60*60*1e3),e=!0;case"hour":e&&(c+=60*s*60*1e3),e=!0;case"minute":e&&(c+=60*l*1e3),e=!0;case"second":e&&(c+=1e3*p)}return c&&(a.setTime(a.getTime()-c-d),(m=this.timezoneOffset(a)-u)&&a.setTime(a.getTime()+60*m*1e3)),this}},endOf:function(t){if(this.validate()){this.startOf(t);var e=this.toDate(),a=this.format(),i=Number(a.slice(0,4)),o=Number(a.slice(5,7)),r=(Number(a.slice(8,10)),Number(a.slice(11,13))),n=Number(a.slice(14,16)),s=Number(a.slice(17,19)),l=(e.getMilliseconds(),0),p=this.timezoneOffset(e);switch("week"==(t=(t||"").toLowerCase())&&(l+=6048e5),t){case"year":l+=24*this.totdate(12,this.isLeap(i))*60*60*1e3;break;case"month":var d=this.isLeap(i);l+=24*(this.totdate(o,d)-this.totdate(o-1,d))*60*60*1e3;break;case"date":case"day":l+=60*(24-r)*60*1e3;break;case"hour":l+=60*(60-n)*1e3;break;case"minute":l+=1e3*(60-s);break;case"second":l+=1e3}if(l){e.setTime(e.getTime()+l-1);var c=this.timezoneOffset(e)-p;c&&e.setTime(e.getTime()+60*c*1e3)}return this}},fromNow:function(t,e){if(this.validate()){var a=$L.moment(t);if(!a.validate())return;var i=this.get("time"),o=a.get("time"),r=parseInt((o-i)/1e3),n={years:{val:27648e3,conv:31536e3},months:{val:2246400,conv:2592e3},days:{val:79200,conv:86400},hours:{val:2700,conv:3600},minutes:{val:44,conv:60},seconds:{val:0,conv:1}},s=e?"conv":"val",l=e?"floor":"round",p=function(t,e){var a,i;for(a in n)if(t>=n[a][s]){val=Math[l](t/n[a].conv),i=val;var o=t-val*n[a].conv;o>0&&p(o,e);break}return e[a]={value:i},{property:a,value:i}},d={past:r<0,timestamp:o-i};return r=Math.abs(r),$L.extend(d,p(r,d))}},isDst:function(){if(this.validate()){var t=$L.moment(this).startOf("day"),e=$L.moment(this).endOf("day");return this.__start=t,this.__end=e,t.format("Z")!=e.format("Z")}return!1},dstPoint:function(t,e){if(this.validate()&&this.isDst()){var a,i,o=$L.moment(this.__start),r=o.format("Z"),n=0;for(i=1440/(e=e||30),t=t||"HH:mm:ss";n<i;){var s=o.add(e,"minutes").format("Z"),l=/(\+|\-)(\d{2}):(\d{2})$/;if(r!=s){var p=this.convertTimeZone(r.match(l))-this.convertTimeZone(s.match(l));a={moment:$L.moment(o).subtract(1,"seconds"),time:o.add(1,"day").subtract(p,"minutes").format(t),value:p,timeZoneOld:r,timeZoneNew:s};break}n++}return a}},getWeekDays:function(t,e){if(this.validate()){(e=null==e?5:e)<(t=null==t?1:t)&&(e+=7);for(var a=this.getDObj(),i=a.getTime(),o=[],r=e-t,n=a.getDay()-t,s=0;s<=r;s++)o.push($L.moment(new Date(i-864e5*(n-s))));return o}}})}}(window),Lyte.Component.register("lyte-autocomplete",{_template:'<template tag-name="lyte-autocomplete"> <lyte-dropdown lt-prop="{{stringify(ltPropDropdown)}}" lt-prop-set-pos="{{ltPropSetPos}}" lt-prop-type="{{ltPropDropType}}" lt-prop-yield="true" lt-prop-freeze="{{ltPropFreeze}}" lt-prop-callout="{{ltPropCallout}}" lt-prop-position="{{ltPropPosition}}" lt-prop-hover="{{ltPropHover}}" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-boundary="{{ltPropBoundary}}" lt-prop-tabindex="{{ltPropTabindex}}" lt-prop-animate="{{ltPropAnimate}}" lt-prop-active-element="{{ltPropActiveElement}}" on-option-selected="{{method(\'valSet\')}}" on-show="{{method(\'show\')}}" on-hide="{{method(\'hide\')}}" on-before-show="{{method(\'beforeShow\')}}" on-before-hide="{{method(\'beforeHide\')}}" on-add="{{method(\'add\')}}" on-remove="{{method(\'remove\')}}" on-position-changed="{{method(\'positionChanged\')}}" on-scroll="{{method(\'scroll\')}}" lt-prop-selected="{{lbind(ltPropSelected)}}"> <template is="registerYield" yield-name="yield"> <lyte-drop-button onkeyup="{{action(\'keyup\',event)}}"> <lyte-input lt-prop="{{stringify(ltPropInput)}}" lt-prop-maxlength="{{ltPropMaxlength}}" lt-prop-auto-update="{{ltPropAutoUpdate}}" on-value-change="{{method(\'valuechange\')}}" lt-prop-tab-index="{{ltPropTabIndex}}" lt-prop-data-tabindex="{{ltPropDataTabindex}}" lt-prop-id="{{ltPropId}}" lt-prop-wrapper-style="{{ltPropWrapperStyle}}" lt-prop-class="{{ltPropClass}}" lt-prop-autofocus="{{ltPropAutofocus}}" lt-prop-autocomplete="{{ltPropAutocomplete}}" lt-prop-type="{{ltPropType}}" lt-prop-name="{{ltPropName}}" lt-prop-placeholder="{{ltPropPlaceholder}}" lt-prop-value="{{lbind(ltPropValue)}}" lt-prop-width="100%" lt-prop-height="{{ltPropHeight}}" lt-prop-style="{{ltPropStyle}}" lt-prop-appearance="{{ltPropAppearance}}" lt-prop-direction="vertical" lt-prop-disabled="{{ltPropDisabled}}" lt-prop-readonly="{{ltPropReadonly}}" lt-prop-pattern="{{ltPropPattern}}" rows="{{ltPropRows}}" cols="{{ltPropCols}}" title="{{ltPropInputTitle}}" lt-prop-text-area-resize="{{ltPropTextAreaResize}}" lt-prop-input-title="{{ltPropInputTitle}}" on-focus="{{method(\'focus\')}}" on-blur="{{method(\'blurEvent\')}}" oninput="{{action(\'input\',event)}}" lt-prop-update-delay="{{ltPropUpdateDelay}}" lt-prop-aria="{{ltPropAria}}" lt-prop-aria-attributes="{{ltPropAriaAttributes}}" lt-prop-focus="{{ltPropFocus}}"></lyte-input> <template is="if" value="{{expHandlers(ltPropType,\'==\',\'search\')}}"><template case="true"> <div class="closeIconWrapper lyteAutoCompCloseIconWrapper" onclick="{{action(\'resetValue\',event)}}" style="{{if(ltPropValue,\'display: block;\',\'display: none;\')}}"> <span class="closeIcon lyteAutoCompCloseIcon"></span> </div> <span class="iconSeparator" style="{{if(ltPropValue,\'display: block;\',\'display: none;\')}}"></span> </template></template> </lyte-drop-button> <template is="if" value="{{expHandlers(ltPropYield,\'==\',false)}}"><template case="true"> <lyte-drop-box class="{{ltPropDropdownClass}} lyteautocompleteDropdown" id="{{ltPropDropdownId}}"> <lyte-drop-body> <template is="for" items="{{ltPropContent}}" item="list" index="indexVal"><template is="if" value="{{lyteUiOptGroupCheck(list)}}"><template case="true"> <lyte-drop-group elemorder="{{indexVal}}"> <lyte-drop-label>{{lyteUiReturnOnlyKey(list)}}</lyte-drop-label> <template is="for" items="{{lyteUiReturnOnlyValue(list)}}" item="list1" index="indexVal1"><template is="if" value="{{expHandlers(lyteUiIsObject(list1),\'==\',false)}}"><template case="true"> <lyte-drop-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{list1}}"> <lyte-autocomplete-label keywords="{{list1}}">{{list1}}</lyte-autocomplete-label> </lyte-drop-item> </template><template case="false"> <lyte-drop-item grporder="{{indexVal}}" elemorder="{{indexVal1}}" data-value="{{list1[ltPropLabel]}}" class="{{list1.class}}"> <lyte-autocomplete-label keywords="{{list1[ltPropKeyWords]}}">{{list1[ltPropLabel]}}</lyte-autocomplete-label> <template is="if" value="{{list1[ltPropDescription]}}"><template case="true"> <lyte-autocomplete-description><span class="lyteAutoSeparator">,</span> {{list1[ltPropDescription]}}</lyte-autocomplete-description> </template></template> </lyte-drop-item> </template></template></template> </lyte-drop-group> </template><template case="false"><template is="if" value="{{expHandlers(lyteUiIsObject(list),\'==\',false)}}"><template case="true"> <lyte-drop-item elemorder="{{indexVal}}" data-value="{{list}}"> <lyte-autocomplete-label keywords="{{list}}">{{list}}</lyte-autocomplete-label> </lyte-drop-item> </template><template case="false"> <lyte-drop-item elemorder="{{indexVal}}" data-value="{{list[ltPropLabel]}}" class="{{list1.class}}"> <lyte-autocomplete-label keywords="{{list[ltPropKeyWords]}}">{{list[ltPropLabel]}}</lyte-autocomplete-label> <template is="if" value="{{list[ltPropDescription]}}"><template case="true"> <lyte-autocomplete-description><span class="lyteAutoSeparator">,</span> {{list[ltPropDescription]}}</lyte-autocomplete-description> </template></template> </lyte-drop-item> </template></template></template></template></template> </lyte-drop-body> </lyte-drop-box> </template><template case="false"> <lyte-yield yield-name="yield"></lyte-yield> </template></template> </template> </lyte-dropdown> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropValue","'display: block;'","'display: none;'"]}}}}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3]},{type:"if",position:[3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"for",position:[1,1,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"for",position:[1,3],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,2]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]},{type:"componentDynamic",position:[1,1]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,2]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]}]}},default:{}}]}},default:{}}]},{type:"componentDynamic",position:[1,1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"insertYield",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["ltPropAutocomplete","ltPropPlaceholder","ltPropAutofocus","ltPropMaxlength","ltPropReadonly","ltPropId","ltPropClass","ltPropType","ltPropName","ltPropWidth","ltPropValue","ltPropContent","ltPropLabel","ltPropDescription","ltPropStyle","ltPropAppearance","ltPropDirection","ltPropExternalSearch","ltPropYield","ltPropHeight","ltPropHighlight","ltPropHighlightClass","ltPropKeyWords","ltPropMinLength","ltPropErrorClass","ltPropDropdownWidth","ltPropDropdownHeight","ltPropDropdownClass","ltPropDropdownId","ltPropMethod","ltPropWrapperStyle","ltPropTabIndex","ltPropTabindex","ltPropFreeze","ltPropCallout","ltPropDisabled","ltPropHover","ltPropBoundary","ltPropPosition","ltPropDropType","ltPropSetPos","ltPropPattern","ltPropAutoUpdate","ltPropValueSet","ltPropPreventInsideClick","ltPropExtSearchOpen","ltPropInputTitle","ltPropErrorMessage","ltPropAnimate","ltPropSelected","ltPropTrim","ltPropFocus","ltPropAria","ltPropAriaAttributes","ltPropUpdateDelay","ltPropRows","ltPropCols","ltPropTextAreaResize","ltPropDiacritic","ltPropDropdown","ltPropInput","ltPropActiveElement","ltPropDataTabindex","timeout","optGroup","autocompleteFlag"],init:function(){this.$node.toggle=function(t,e){return this.dropdown.toggle(t,e)}.bind(this);var t="beforeRender";this.getMethods(t)&&this.executeMethod(t,this.$node)},didDestroy:function(){var t=this,e=t.$node;clearTimeout(t.data.timeout),clearTimeout(t.__focus_time),["autocompleteComp","input","dropdown","dropbody"].forEach((function(e){delete t[e]})),["toggle","setValue","focus","blur","click","select"].forEach((function(t){delete e[t]}))},didConnect:function(){var t,e=this.data,a=$L(document.createElement("div")).addClass("lyteautocompleteError "+(e.ltPropErrorClass||"")).css("display","none").get(0),i="afterRender";a.textContent=e.ltPropErrorMessage||"",this.autocompleteComp=a,t=this.dropdown=$L(this.$node).children("lyte-dropdown").get(0),(this.dropbody=t.component.childComp||$L("lyte-drop-box",t).get(0)).appendChild(a),this.$node.setValue=function(t){t=t||"",$L("lyte-input",this.$node).get(0).ltProp("value",t),this.pressFunc(t,{})}.bind(this),["focus","blur","click","select"].forEach(function(t){this.$node[t]=function(e){$L("lyte-input",this).get(0)[t](e)}}.bind(this)),this.getMethods(i)&&this.executeMethod(i,this.$node)},errObs:function(t){var e=this.autocompleteComp;"ltPropErrorMessage"==t.item?e.textContent=t.newValue:$L(e).removeClass(t.oldValue).addClass(t.newValue)}.observes("ltPropErrorMessage","ltPropErrorClass"),typeObs:function(){var t=$L(this.$node)["search"==this.data.ltPropType?"addClass":"removeClass"]("searchPresent");this.input=t.find("input,textarea").get(0)}.observes("ltPropType").on("didConnect"),arrayFrom:function(t){return Array.from?Array.from(t):Array.apply(Array,t)},optGroupObs:function(){setTimeout(this.optGroup.bind(this,!0),0)}.observes("ltPropContent","ltPropContent.[]"),optGroup:function(t){var e=$L(this.dropbody),a=this.input.value,i=this.data;(!e.hasClass("lyteDropdownHidden")&&a.length||i.ltPropExternalSearch)&&(i.ltPropTrim&&(a=a.trim()),this.contentFiltering(a)),i.ltPropAnimate&&i.ltPropExternalSearch&&(e.find("lyte-drop-body").css("height",""),delete this.dropdown.component._prevent)},classObs:function(t){if(this.data.ltPropYield){var e=$L(this.dropbody);t&&e.removeClass(t.oldValue);var a=this.data.ltPropDropdownClass;a&&e.addClass(a)}}.observes("ltPropDropdownClass").on("didConnect"),heigthSetObs:function(){this.heigthSet()}.observes("ltPropDropdownHeight").on("didConnect"),heigthSet:function(){$L(this.dropbody).find("lyte-drop-body").css("maxHeight",this.data.ltPropDropdownHeight||"")},widthSetObs:function(){this.widthSet()}.observes("ltPropDropdownWidth").on("didConnect"),widthSet:function(){$L(this.dropbody).find("lyte-drop-body").css("width",this.data.ltPropDropdownWidth||"")},data:function(){return{ltPropAutocomplete:Lyte.attr("string",{default:"off"}),ltPropPlaceholder:Lyte.attr("string",{default:""}),ltPropAutofocus:Lyte.attr("boolean",{default:!1}),ltPropMaxlength:Lyte.attr("number",{default:25}),ltPropReadonly:Lyte.attr("boolean",{default:!1}),ltPropId:Lyte.attr("string",{default:"inputId"}),ltPropClass:Lyte.attr("string",{default:""}),ltPropType:Lyte.attr("string",{default:"text"}),ltPropName:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:"100%"}),ltPropValue:Lyte.attr("string",{default:""}),ltPropContent:Lyte.attr("array",{default:[]}),ltPropLabel:Lyte.attr("string",{default:""}),ltPropDescription:Lyte.attr("string",{default:""}),ltPropStyle:Lyte.attr("string",{default:""}),ltPropAppearance:Lyte.attr("string",{default:"flat"}),ltPropDirection:Lyte.attr("string",{default:"vertical"}),ltPropExternalSearch:Lyte.attr("boolean",{default:!1}),ltPropYield:Lyte.attr("boolean",{default:!1}),ltPropHeight:Lyte.attr("string",{default:""}),ltPropHighlight:Lyte.attr("boolean",{default:!1}),ltPropHighlightClass:Lyte.attr("string",{default:"lyteautocompleteHighlight"}),ltPropKeyWords:Lyte.attr("string",{default:""}),ltPropMinLength:Lyte.attr("number",{default:1}),ltPropErrorClass:Lyte.attr("string",{default:"lyteautocompleteError"}),ltPropDropdownWidth:Lyte.attr("string",{default:"auto"}),ltPropDropdownHeight:Lyte.attr("string",{default:"300px"}),ltPropDropdownClass:Lyte.attr("string",{default:""}),ltPropDropdownId:Lyte.attr("string",{default:"lyteAutocomplete"}),ltPropMethod:Lyte.attr("string",{default:"contains"}),ltPropWrapperStyle:Lyte.attr("string",{default:""}),ltPropTabIndex:Lyte.attr("string",{default:"0"}),ltPropTabindex:Lyte.attr("string",{default:"-1"}),ltPropFreeze:Lyte.attr("boolean",{default:!1}),ltPropCallout:Lyte.attr("boolean",{default:!1}),ltPropDisabled:Lyte.attr("boolean",{default:!1}),ltPropHover:Lyte.attr("boolean",{default:!1}),ltPropBoundary:Lyte.attr("object",{default:{}}),ltPropPosition:Lyte.attr("string",{default:"down"}),ltPropDropType:Lyte.attr("string",{default:"default"}),ltPropSetPos:Lyte.attr("boolean",{default:!1}),ltPropPattern:Lyte.attr("string",{default:".+"}),ltPropAutoUpdate:Lyte.attr("boolean",{default:!0}),ltPropValueSet:Lyte.attr("boolean",{default:!0}),ltPropPreventInsideClick:Lyte.attr("boolean",{default:!1}),ltPropExtSearchOpen:Lyte.attr("boolean",{default:!1}),ltPropInputTitle:Lyte.attr("string",{default:""}),ltPropErrorMessage:Lyte.attr("string",{default:""}),ltPropErrorClass:Lyte.attr("string",{default:""}),ltPropAnimate:Lyte.attr("boolean",{default:!1}),ltPropSelected:Lyte.attr("string",{default:""}),ltPropTrim:Lyte.attr("boolean",{default:!1}),ltPropFocus:Lyte.attr("boolean",{default:!1}),ltPropAria:Lyte.attr("boolean",{default:!1}),ltPropAriaAttributes:Lyte.attr("object",{default:{},watch:!0}),ltPropUpdateDelay:Lyte.attr("number",{default:250}),ltPropRows:Lyte.attr("number",{default:void 0}),ltPropCols:Lyte.attr("number",{default:void 0}),ltPropTextAreaResize:Lyte.attr("object",{default:{vertical:!0,horizontal:!0}}),ltPropDiacritic:Lyte.attr("boolean",{default:!1}),ltPropDropdown:Lyte.attr("object",{default:{}}),ltPropInput:Lyte.attr("object",{default:{}}),ltPropActiveElement:Lyte.attr("string",{default:"input,textarea"}),ltPropDataTabindex:Lyte.attr("string",{default:"0"}),timeout:Lyte.attr("number",{default:void 0}),optGroup:Lyte.attr("boolean",{default:!1}),autocompleteFlag:Lyte.attr("boolean",{default:!0})}},convertString:function(t,e){t.forEach(function(t){var a=t.tagName||"";if(/^template$/i.test(a))t.remove();else if(a)this.convertString(Array.from(t.childNodes),e);else if(e){for(var i=t.nodeValue,o=i.toLowerCase(),r=o.indexOf(e),n=t;-1!=r;){var s=i.slice(0,r),l=r+e.length,p=i.slice(r,l),d=i.slice(l),c=!0;if(s){var u=document.createTextNode(s);Lyte.Component.insertAfter(n,n=u)}(u=$L(document.createElement("span")).addClass(this.data.ltPropHighlightClass).get(0)).textContent=p,Lyte.Component.insertAfter(n,n=u),r=(o=(i=d).toLowerCase()).indexOf(e)}c&&(i&&(u=document.createTextNode(i),Lyte.Component.insertAfter(n,u)),t.remove())}}.bind(this))},highlightText:function(t,e){for(var a=t.length,i=Lyte.Component,o=0;o<a;o++){var r=t[o],n=r.getElementsByTagName("lyte-autocomplete-label")[0],s=r.getElementsByClassName("lyteAutoComplete")[0],l=n.cloneNode(!0);l.normalize(),s||(s=$L('<div class = "lyteAutoComplete"></div>').get(0),i.insertBefore(n,s)),$L(n).css("display","none"),s.style.display="",this.convertString(Array.from(l.childNodes),e);var p=Array.from(l.childNodes),d=i.appendChild.bind(i,s);s.innerHTML="",p.forEach(d)}},errorMessage:function(t){var e=this.autocompleteComp,a={display:t?"block":"none"};t&&!e.style.width&&(a.width=window.getComputedStyle(this.$node).getPropertyValue("width")),$L(e).css(a)},actions:{resetValue:function(t){this.$node.setValue(""),this.$node.focus()},keyup:function(t){var e=t.keyCode||t.which;if(-1==[37,13,38,39,40,27].indexOf(e)){var a=this.input.value;this.data.ltPropTrim&&(a=a.trim()),clearTimeout(this.data.timeout),clearTimeout(this.__focus_time),(a.length>=this.data.ltPropMinLength||-1!=[8,91,17,46].indexOf(e))&&13!=e&&(this.data.timeout=setTimeout(this.pressFunc.bind(this,a,t),100))}},input:function(t){var e=t.target.value;this.getData("ltPropTrim")&&(e=e.trim()),e.length>=this.data.ltPropMinLength&&(clearTimeout(this.data.timeout),clearTimeout(this.__focus_time),this.data.timeout=setTimeout(this.pressFunc.bind(this),250,e,t))}},methods:{valSet:function(t,e){var a=$L((t||window.event).target).closest("lyte-drop-item"),i="onSelect";if(this.__opt_select=setTimeout(function(){delete this.__opt_select}.bind(this),200),a.length&&(e=a.find("lyte-autocomplete-label").text()),e&&(this.getData("ltPropValueSet")&&this.setData("ltPropValue",e.trim()),this.getMethods(i))){var o;if(this.data.ltPropYield)o=a.attr("data-value");else{var r=this.data.ltPropContent,n=a.closest("lyte-drop-group").get(0),s=this.arrayFrom($L(this.dropbody).children("lyte-drop-body").children()),l=a.get(0);if(n){var p=r[s.indexOf(n)];o=p[Object.keys(p)[0]][this.arrayFrom(a.parent().children("lyte-drop-item")).indexOf(l)]}else o=r[s.indexOf(l)]}this.executeMethod(i,o,t,this.$node)}},show:function(){this.optGroupHide.call(this,!0),this.getMethods("onShow")&&this.executeMethod("onShow",arguments[0],arguments[1])},hide:function(){this.getMethods("onHide")&&this.executeMethod("onHide",arguments[0],arguments[1])},beforeShow:function(t,e){var a,i=this.input.value,o="onBeforeShow";return this.getData("ltPropTrim")&&(i=i.trim()),!(i.length<this.data.ltPropMinLength)&&(!this.getMethods(o)||0!=(a=this.executeMethod(o,t,e)))&&(a&&a.then?(a.then(function(){this.dropdown&&this.dropdown!=_lyteDropdown.lastDropdownWithAPromise||setTimeout(this.pressFunc.bind(this),0,i,{})}.bind(this)),a):void(this._bymanual||setTimeout(this.pressFunc.bind(this),0,i,{})))},beforeHide:function(t,e){return!(this.getData("ltPropPreventInsideClick")&&t&&"click"==t.type&&this.$node.contains(t.target))&&(this.getMethods("onBeforeHide")?this.executeMethod("onBeforeHide",t,e):void 0)},add:function(){var t=arguments,e="onAdd";this.getMethods(e)&&this.executeMethod(e,t[0],t[1],t[2],t[3])},remove:function(){var t=arguments,e="onRemove";this.getMethods(e)&&this.executeMethod(e,t[0],t[1],t[2],t[3])},positionChanged:function(t,e){var a="onPositionChanged";this.getMethods(a)&&this.executeMethod(a,t,e)},scroll:function(){this.getMethods("onScroll")&&this.executeMethod("onScroll",arguments[0],arguments[1])},valuechange:function(t){this.getMethods("onValueChange")&&this.executeMethod("onValueChange",t,this.$node)},blurEvent:function(t){clearTimeout(this.__focus_time),this.getMethods("onBlur")&&this.executeMethod("onBlur",t,this.$node)},focus:function(t,e){this.__opt_select||(this.__focus_time=setTimeout(function(){this.input.value.length<this.data.ltPropMinLength||this.dropdown.open()}.bind(this),200),this.getMethods("onFocus")&&this.executeMethod("onFocus",t,this.$node))}},filteringArray:function(t,e,a,i){var o=this.data.ltPropMethod,r=[],n=[],s="onSearch",l="lyteSearchHidden";if(a.length)for(var p=t.length,d=0;d<p;d++){var c=!1,u=t[d].trim().toLowerCase(),m=u.indexOf(a);switch(o){case"contains":c=m>=0;break;case"startsWith":c=0==m;break;case"endsWith":-1!=(m=u.lastIndexOf(a))&&(c=m+a.length==u.length)}c?r.push(e[d]):n.push(e[d])}else r=this.arrayFrom(e);this.getMethods(s)&&0==this.executeMethod(s,r,this.autocompleteComp,this.$node,a,i)||(r.forEach((function(t){t.classList.remove(l)})),n.forEach((function(t){t.classList.add(l)})),this.optGroupHide(),this.errorMessage(!r.length),r.length&&this.data.ltPropHighlight&&this.highlightText(e,a))},optGroupHide:function(t){var e="lyte-drop-item",a="lyteSearchHidden",i="lyteDropdownSelection",o=$L(this.dropbody),r=o.find(e+":not(."+a+"):not(.lyteDropdownActive)"),n=o.find(e+"."+i).get(0);if(!t)for(var s=o.find("lyte-drop-group"),l=s.length,p=0;p<l;p++){var d=s.eq(p);d.find(e+"."+a).length==d.find(e).length?d.css("display","none"):d.css("display","block")}$L.fastdom.measure(function(){for(var t,e=r.length,a=0;a<e;a++){var o=r.eq(a),s=o.get(0);if(s.offsetParent&&!o.hasClass("lyteDropdown-disabled")){t=s;break}}$L.fastdom.mutate(function(){t&&n!=t&&($L(n).removeClass(i),$L(t).addClass(i))}.bind(this))}.bind(this))},contentFiltering:function(t,e){var a=this.dropdown,i=[],o=$L(this.dropbody),r="lyteDropdownHidden",n=this.data,s=o.hasClass(r),l=t.length,p=n.ltPropMinLength;if(e=e||{},!(s&&l>=p||!s&&l<p)||(this._bymanual=!0,a.toggle(),delete this._bymanual,!o.hasClass(r))){for(var d=o.find("lyte-drop-item:not(.lyteDropdownActive)"),c=n.ltPropDiacritic,u=d.length,m=0;m<u;m++){var h=d.eq(m).find("lyte-autocomplete-label"),y=h.attr("keywords");if(y)try{y=JSON.parse(y).join(" ")}catch(t){}var f=y||h.text().trim();c&&(f=_lyteUiUtils.convert_diacritics(f)),i.push(f)}c&&(t=_lyteUiUtils.convert_diacritics(t)),this.filteringArray(i,d,t.toLowerCase(),e)}},pressFunc:function(t,e){var a=this.data;if(a.ltPropTrim&&(t=t.trim()),a.ltPropExternalSearch){var i=$L(this.dropbody),o="lyteDropdownHidden",r=this.dropdown,n="onExtSearch";if(t.length>=a.ltPropMinLength||!e.target){if(e.type&&i.hasClass(o)&&a.ltPropExtSearchOpen&&(r.toggle(),i.hasClass(o)))return;this.getMethods(n)&&this.executeMethod(n,t,this.$node,e)}else i.hasClass(o)||r.toggle()}else this.contentFiltering(t,e)}}),function(){if(window.lyteDomObj){function t(t){return t==document||t==document.documentElement||t==document.body}function e(t,e){var a=t.split(","),i="";return a.forEach((function(t){i+=(i?",":"")+t+e})),i}function a(e){return t(e)?{left:0,top:0,width:innerWidth,height:innerHeight}:e.getBoundingClientRect()}function i(a){var i=this._scrollspy.obj,o=e(i.query,":not(template)"),r=i.ignore,n=t(this);r.constructor==String&&(r=r.split(","));for(var s=0;s<r.length;s++)o+=":not("+r[s].trim()+")";return n||(o=".lyteScrollSpy "+o),(n?document.body:this.parentElement).querySelectorAll(o)}function o(t,e,a){for(var i=[],o=0;o<a.length;o++){var r=a[o];r!=t&&r!=e&&(r.off>t.off&&r.off<e.off||r.off<t.off&&r.off>e.off)&&i.push(r)}return i}function r(t,e,i){var o=a(t);return Math.round(Math.max(0,-a(this).top+e+o.top+(i?o.height:0)))}function n(t,e,a,i){for(var o,n=[],s=[],l=[],p="lyteSpyActive",d=0;d<t.length;d++){var c=t[d],u=$L(c);l.push({topp:r.call(this,c,a),hgt:c.offsetHeight});var m=u.hasClass(p),h=l[d];h.topp<=a+e&&h.topp>a||h.topp+l[d].hgt>=a&&h.topp+l[d].hgt<=a+e||h.topp<=a&&h.topp+h.hgt>=a+e?(m||(u.addClass(p),o=!0),n.push(c)):m&&(u.removeClass(p),s.push(c),o=!0)}o&&i&&i.constructor==Function&&i(n,s,this)}function s(a){var i,s=this._wheelObj,l=t(this),p=l?innerHeight:this.offsetHeight,d=this._scrollspy.obj,c=s?s.scrollTop:l?window.pageYOffset:this.scrollTop,u=(l?document.body:this.parentElement).querySelector((l?"":".lyteScrollSpy ")+e(d.query,".lyteSpyActive:not(template)")),m=d.onChange;if(a.length)if("all"==d.position)n.call(this,a,p,c,m);else{if("bottom"==d.position){for(var h=a.length-1;h>=0;h--)if((y=a[h]).off=r.call(this,y,c,!0),c+p-d.offset>y.off){if(i&&y.off<i.off)continue;i=y}}else for(h=0;h<a.length;h++){var y;if((y=a[h]).off=r.call(this,y,c)+y.offsetHeight,c+d.offset<a[h].off){if(i&&y.off>i.off)continue;i=y}}u!=i&&($L(u).removeClass("lyteSpyActive"),$L(i).addClass("lyteSpyActive"),m&&m.constructor==Function&&m(i,u,u&&i?o.call(this,u,i,a):[],this))}}function l(){s.call(this,i.call(this)),delete this._scrollspy.obj._spytime}function p(t){var e=t.target,a=e._scrollspy;a&&("visible"==a.obj.position?d.call(e):e._scrollFun?(clearTimeout(a.obj._spytime),a.obj._spytime=setTimeout(l.bind(e),0)):l.call(e))}function d(){var t=this.getBoundingClientRect(),e=[],a=[],o=this._scrollspy.obj,r=o.activeClass,n=o.onChange,s=o.offset,l="left",p="right",d="top",c="bottom",u=function(e,a,i,o){var r=e[a];return t[i]-s<=r&&r<=t[o]+s};Array.from(i.call(this)).forEach((function(t){var i=t.getBoundingClientRect(),o=$L(t).hasClass(r);!function(t){return(u(t,l,l,p)||u(t,p,l,p))&&(u(t,d,d,c)||u(t,c,d,c))}(i)?o&&a.push(t):o||e.push(t)})),e.forEach((function(t){$L(t).addClass(r)})),a.forEach((function(t){$L(t).removeClass(r)})),n&&(e.length||a.length)&&n(e,a,this)}lyteDomObj.prototype.removeScrollspy=function(){for(var t,e,a=this.length,o=0;o<a;o++){var r=this.eq(o),n=r.get(0),s=n._scrollspy;s&&(t=s.obj.activeClass,e=n,$L(i.call(e)).removeClass(t),r.removeClass("lyteScrollSpy"),clearTimeout(s.obj._spytime),delete n._scrollspy)}},lyteDomObj.prototype.scrollspy=function(t){var e=this.length;if("reset"==t){for(var a=0;a<e;a++)p({target:this[a]});return this}for((t=t||{}).activeClass=t.activeClass||"lyteSpyActive",t.offset=t.offset||0,t.ignore=t.ignore||[],t.position=t.position||"top",t.query=t.query||">*",a=0;a<e;a++){var i=this.eq(a),o=i.get(0),r=$L.extend(!0,{},t);o._scrollspy={obj:r},i.addClass("lyteScrollSpy"),setTimeout(p,20,{target:o})}return this},window.addEventListener("scroll",p,!0)}}(window),Lyte.Component.register("rec-modal",{_template:'<template tag-name="rec-modal"> <lyte-modal lt-prop-show="true" lt-prop-width="60%" lt-prop-bind-to-body="true" lt-prop-height="95%" lt-prop-wrapper-class="{{cxPropClass}}" lt-prop-transition="{&quot;animation&quot;:&quot;slideFromTop&quot;,&quot;duration&quot;:&quot;0.5s&quot;}" lt-prop-offset="{&quot;top&quot;:&quot;0px&quot;,&quot;left&quot;:&quot;center&quot;}" on-show="{{method(&quot;onModelOpen&quot;)}}"> <template is="registerYield" yield-name="modal"> <lyte-modal-header> <template is="if" value="{{cxPropHTMLHeader}}"><template case="true"> {{unescape(sanitizeHTML(cxPropHTMLHeader))}} </template><template case="false"> {{cxPropHeader}} </template></template> </lyte-modal-header> <lyte-modal-content> <template is="if" value="{{cxPropHTMLContent}}"><template case="true"> {{unescape(sanitizeHTML(cxPropHTMLContent))}} </template><template case="false"> {{cxPropContent}} </template></template> </lyte-modal-content> </template> </lyte-modal> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["cxPropHeader","cxPropHTMLHeader","cxPropContent","cxPropHTMLContent","cxPropClass","cxPropButtons","cxPropButtonPosition"],data:function(){return{cxPropHeader:Lyte.attr("string"),cxPropHTMLHeader:Lyte.attr("string"),cxPropContent:Lyte.attr("string"),cxPropHTMLContent:Lyte.attr("string"),cxPropClass:Lyte.attr("string"),cxPropButtons:Lyte.attr("array"),cxPropButtonPosition:Lyte.attr("string",{default:"right"})}},methods:{onModelOpen:function(){this.getMethods("onShow")&&this.executeMethod("onShow")}}}),Lyte.Component.register("share-job",{_template:'<template tag-name="share-job"> <div class="cw-list-share-circles {{cxPropClass}}"> <div class="sj-share-icon"> <span class="fa fa-share-alt" style="color:{{cxPropColor}}"></span> </div> <ul class="social-list social-active"> <li> <a onclick="{{action(\'openurl\',event)}}" style="border: 1px solid {{cxPropColor}};" href="https://www.facebook.com/sharer/sharer.php?u={{encodeURIComponent(cxPropShortenUrl)}}" rel="noopener noreferrer"> <span class="fa fa-facebook" style="color:{{cxPropColor}}"></span> </a> </li> <li> <a onclick="{{action(\'openurl\',event)}}" style="border: 1px solid {{cxPropColor}};" href="https://twitter.com/intent/tweet?url={{encodeURIComponent(cxPropShortenUrl)}}&amp;text={{encodeURIComponent(cxPropTwitterText)}}&amp;via={{encodeURIComponent(cxPropCompanyName)}}&amp;hashtags={{encodeURIComponent(replaceSpace(cxPropCompanyName))}}" target="_blank" rel="noopener noreferrer"> <span class="fa fa-twitter" style="color:{{cxPropColor}}"></span> </a> </li> <li> <a onclick="{{action(\'openurl\',event)}}" style="border: 1px solid {{cxPropColor}};" href="https://www.linkedin.com/sharing/share-offsite/?url={{encodeURIComponent(cxPropPageUrl)}}{{encodeURIComponent(\'&amp;t=\')}}{{randomNumber}}" target="_blank" rel="noopener noreferrer"> <span class="fa fa-linkedin" style="color:{{cxPropColor}}"></span> </a> </li> <li> <a onclick="{{action(\'openurl\',event)}}" style="border: 1px solid {{cxPropColor}};" href="https://wa.me/?text={{encodeURIComponent(cxPropTwitterText)}} {{encodeURIComponent(cxPropShortenUrl)}}" target="_blank" rel="noopener noreferrer"> <span class="fa fa-whatsapp" style="color:{{cxPropColor}}"></span> </a> </li> <li> <a onclick="{{action(\'openurl\',event)}}" style="border: 1px solid {{cxPropColor}};" href="https://telegram.me/share/url?url={{encodeURIComponent(cxPropShortenUrl)}}&amp;text={{encodeURIComponent(cxPropTwitterText)}}" target="_blank" rel="noopener noreferrer"> <span class="fa fa-telegram" style="color:{{cxPropColor}}"></span> </a> </li> <li> <a onclick="{{action(\'copyLink\',event)}}" style="border: 1px solid {{cxPropColor}};" id="share-cp-link" href="{{cxPropShortenUrl}}" rel="noopener noreferrer"> <span class="fa fa-link" style="color:{{cxPropColor}}"></span> </a> </li> </ul> </div> </template>\n<style>/*$Id$*/\n/* social animation */\n.cw-list-share-circles {\n    overflow: hidden;\n    z-index: 2;\n    text-align: center;\n    margin: 16px auto 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.cw-bt-circle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 34px;\n    height: 34px;\n    text-align: center;\n    border: 1px solid var(--white-color);\n    border-radius: 50%;\n    overflow: hidden;\n    cursor: pointer;\n    transition: all 0.1s ease-in-out;\n    float:left;\n    margin-left: 16px;\n    \n}\n.cw-ico-svg {\n    position: relative;\n    display: inline-block;\n    width: auto;\n    height: 14px;\n    fill: var(--white-color);\n    -webkit-transform: translate(0, 0);\n    transform: translate(0, 0);\n    transition: all 0.1s ease-in-out;\n}\n\n.cw-bt-circle .cw-ico-svg {\n    transition: all 0.1s ease-in-out;\n}\n.cw-bt-circle.cw-bt-share .cw-ico-svg {\n    height: 13px;\n    top: -1px;\n    left: -1px;\n}\n.cw-list-share-circles.light .cw-bt-circle .cw-ico-svg {\n    fill: #fcfcfc;\n}\n.cw-list-share-circles ul {\n    float: left;\n    width: inherit;\n    max-width: 1px;\n    min-width: 1px;\n    height: 34px;\n    overflow: hidden;\n    transition: all .3s ease-in-out;\n   \n}\n.cw-list-share-circles ul.social-active {\n    visibility: visible;\n    opacity: 1;\n    max-width: 300px;\n    transition: all 0.2s ease-in-out;\n     /* margin:0 0 0 16px */\n}\n.cw-list-share-circles li {\n    margin-right: 6px;\n    opacity: 0;\n    -webkit-transform: scale(0.5) rotate(-45deg);\n    transform: scale(0.5) rotate(-45deg);\n}\n.cw-list-share-circles .social-list li a{sj-share-icon\n    background:none;\n     border: 1px solid var(--white-color);\n      border-radius: 50%;;\n}\n.cw-list-share-circles ul.social-active li {\n    opacity: 1;\n    -webkit-transform: scale(1) rotate(0deg);\n    transform: scale(1) rotate(0deg);\n}\n.sj-share-icon{\n\tcursor: auto;\n}\n.url-block .ss-share-job .sj-share-icon,\n.new-careear-box .ss-share-job .sj-share-icon,\n.sj-icon-section .ss-share-job .sj-share-icon{\n\tdisplay: none;\n}\n.url-block .cw-list-share-circles li,\n.share-job-pop .cw-list-share-circles li{\n\tpadding:0\n}\n.url-block .cw-list-share-circles{\n\tjustify-content: flex-start;\n}\n.url-block .cw-list-share-circles ul.social-active{\n\tmargin: 0;\n}\n/* white icon */\n.social-list li{\n  display:table;\n    float: left;\n    width: 34px;\n    height: 34px;\n    margin-left:8px;\n}\n.social-list li:first-child{\n  margin-left:0px\n}\n .social-list li a {\n    cursor: pointer;\n    display: table-cell;\n    vertical-align: middle;\n    text-align: center;\n    border-radius: 50%;\n    color: var(--white-color);\n}\n.cw-list-share-circles.detail-share-job{\n    position: absolute;\n    top: 23px;\n    left: 160px;\n}\n.cw-list-share-circles.detail-share-job .social-list li{\n\tpadding:0px;\n}\n.cw-list-share-circles.detail-share-job .sj-share-icon{\n\tdisplay:none;\n}\n.ss-share-job .fa-twitter:before{\n\tdisplay:none;\n}\n.ss-share-job .fa-twitter{\n\twidth: 14px;\n\theight: 14px;\n\tmargin-right: 1px;\n\tbackground-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path fill="%23000"  d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>\');\n}\n.jbp-right-block .ss-share-job .fa-twitter {\n    scale: 0.9;\n}\n.jbp-right-block .ss-share-job .fa{\n\tfont: normal normal normal 15px/1 FontAwesome;\n}\n.share-job-pop .cw-list-share-circles {\n    margin: 4px 0 0 0;\n    justify-content: start;\n}</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","cxPropColor"]}}}},{type:"attr",position:[1,3,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border: 1px solid '","cxPropColor","';'"]}}}},{type:"attr",position:[1,3,1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","cxPropColor"]}}}},{type:"attr",position:[1,3,3,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border: 1px solid '","cxPropColor","';'"]}}}},{type:"attr",position:[1,3,3,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","cxPropColor"]}}}},{type:"attr",position:[1,3,5,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border: 1px solid '","cxPropColor","';'"]}}}},{type:"attr",position:[1,3,5,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","cxPropColor"]}}}},{type:"attr",position:[1,3,7,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border: 1px solid '","cxPropColor","';'"]}}}},{type:"attr",position:[1,3,7,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","cxPropColor"]}}}},{type:"attr",position:[1,3,9,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border: 1px solid '","cxPropColor","';'"]}}}},{type:"attr",position:[1,3,9,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","cxPropColor"]}}}},{type:"attr",position:[1,3,11,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'border: 1px solid '","cxPropColor","';'"]}}}},{type:"attr",position:[1,3,11,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","cxPropColor"]}}}}],_observedAttributes:["cxPropTwitterText","cxPropPageUrl","cxPropColor","cxPropCompanyName","cxPropClass","cxPropShortenUrl","randomNumber"],data:function(){return{cxPropTwitterText:Lyte.attr("string"),cxPropPageUrl:Lyte.attr("string"),cxPropColor:Lyte.attr("string",{default:"#000"}),cxPropCompanyName:Lyte.attr("string"),cxPropClass:Lyte.attr("string",{default:""}),cxPropShortenUrl:Lyte.attr("string"),randomNumber:Lyte.attr("number")}},init:function(){this.setData("randomNumber",Math.ceil(1e3*Math.random())),null!=this.getData("cxPropShortenUrl")&&""!==this.getData("cxPropShortenUrl")||this.setData("cxPropShortenUrl",this.getData("cxPropPageUrl"))},actions:{openurl:function(t){t.preventDefault();var e=screen.width/2-290,a=screen.height/2-234.5-200,i=$L(t.target).is("span")?$L(t.target).parent():$L(t.target);return window.open(i.attr("href"),"recruit_share","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=580, height=469, top="+a+", left="+e)},copyLink:function(t){t.preventDefault();var e=$L(".hidden-ta-copy"),a=this.getData("cxPropShortenUrl");e.length?e.text(a):((e=$L("<textarea>")).css({position:"absolute",left:"-1000px",top:"-1000px"}).text(a),e.attr("class","hidden-ta-copy"),$L("body")[0].appendChild(e[0])),e.select(),document.execCommand("copy"),lyteUtilMixin.showMessage("success",I18n.getMsg("crm.label.consent.link.copied"))}}}),Lyte.Component.register("career-website-detail-template-2",{_template:'<template tag-name="career-website-detail-template-2"> <div class="jd-template-two clearfix"> <div class="cw-easyapply-loading disN"> <div style="background-color:{{font.color.brand}}"></div> <div style="background-color:{{font.color.brand}}"></div> <div style="background-color:{{font.color.brand}}"></div> </div> <div class="cw-easyapply-loading-overlay disN"></div> <div class="clearfix"> <ul class="cw-breadcrumb"> <li> <a href="{{expHandlers(isNotEmpty(meta.listpage_callback_url),\'?:\',meta.listpage_callback_url,meta.list_url)}}" rel="noopener noreferrer" onclick="{{action(&quot;load_list_page&quot;,event)}}" style="color:{{font.color.brand}}"> {{getI18n("zr.careers.publicpage.meta.joblisting")}}</a> </li> <template is="if" value="{{expHandlers(type,\'==\',&quot;detail&quot;)}}"><template case="true"> <li> <span style="color:{{font.color.subheading}}">{{getI18n("zr.careers.publicpage.meta.jobdetails")}}</span> </li> </template><template case="false"> <li> <template is="if" value="{{isEmpty(meta.callback_url)}}"><template case="true"> <a href="{{meta.detail_url}}" rel="noopener noreferrer" style="color:{{font.color.brand}}" onclick="{{action(&quot;cancel&quot;,event)}}">{{getI18n("zr.careers.publicpage.meta.jobdetails")}}</a> </template><template case="false"> <a href="{{meta.callback_url}}" rel="noopener noreferrer" style="color:{{font.color.brand}}">{{getI18n("zr.careers.publicpage.meta.jobdetails")}}</a> </template></template> </li> </template></template><template is="if" value="{{expHandlers(type,\'==\',&quot;apply&quot;)}}"><template case="true"> <li> <span style="color:{{font.color.subheading}}">{{getI18n("zr.careers.publicpage.meta.jobapply")}}</span> </li> </template></template> </ul> <template is="if" value="{{expHandlers(type,\'===\',&quot;apply&quot;)}}"><template case="true"> <div class="jd-timeline cw-top-border" style="margin-top: 30px;"> <career-website-loading></career-website-loading> </div> </template><template case="false"><template is="if" value="{{expHandlers(type,\'===\',&quot;detail&quot;)}}"><template case="true"> <div class="cw-top-border clearfix"> <div class="cw-summary"> <h3 style="color:{{font.color.heading}}">{{getI18n("Job Information")}}</h3> <ul class="cw-summary-list clearfix"> <template is="for" items="{{fields}}" item="each_field" index="f_index"><template is="if" value="{{expHandlers(expHandlers(expHandlers(isLargeField(each_field.data_type,each_field.ui_type),\'!\'),\'&amp;&amp;\',isAllowedInfoField(each_field.api_name)),\'&amp;&amp;\',isNotEmpty(record[each_field.api_name]))}}"><template case="true"> <li> <template is="if" value="{{expHandlers(each_field.api_name,\'==\',&quot;Remote_Job&quot;)}}"><template case="true"> <span style="color:{{font.color.subheading}}" class="cw-fa-globe-icon">{{each_field.field_label}}</span> </template><template case="false"><template is="if" value="{{expHandlers(each_field.ui_type,\'==\',&quot;600&quot;)}}"><template case="true"> <span style="color:{{font.color.subheading}}">{{each_field.field_label}}</span> <skills-tag id="careersite-publish-skills" data-entityid="{{record[\'id\']}}" data-module="Leads" skills="{{getSkillsDataFromStore(record[each_field.api_name],record)}}" cx-prop-type="only-tags" cx-prop-from="view" cx-prop-expand-type="show-all-tags" data-zcqa="career-temp2-skills"></skills-tag> </template><template case="false"><template is="if" value="{{expHandlers(expHandlers(record.Remote_Job,\'&amp;&amp;\',expHandlers(expHandlers(expHandlers(expHandlers(expHandlers(each_field.api_name,\'==\',&quot;City&quot;),\'||\',expHandlers(each_field.api_name,\'==\',&quot;State&quot;)),\'||\',expHandlers(each_field.api_name,\'==\',&quot;Country&quot;)),\'||\',expHandlers(each_field.api_name,\'==\',&quot;Zip_Code&quot;)),\'!\')),\'||\',expHandlers(record.Remote_Job,\'!\'))}}"><template case="true"> <span style="color:{{font.color.subheading}}">{{each_field.field_label}}</span> <span style="color:{{font.color.text}}"> <template is="switch" value="{{each_field.data_type}}"><template case="website"> <a style="word-break: break-word;text-decoration: underline;" href="{{getValidUrl(record[each_field.api_name])}}" target="_blank" rel="noopener noreferrer">{{record[each_field.api_name]}}</a> </template><template case="email"> <a href="mailto:{{record[each_field.api_name]}}" target="_blank" rel="noopener noreferrer">{{record[each_field.api_name]}}</a> </template><template case="boolean"> {{getI18n(record[each_field.api_name])}} </template><template default=""> {{getValue(record[each_field.api_name],each_field.data_type)}} </template></template> </span> </template></template></template></template></template></template> </li> </template></template></template> </ul> </div> <div class="cw-jobdescription clearfix"> <template is="if" value="{{expHandlers(org_info.public_description,\'&amp;&amp;\',isNotEmpty(org_info.description,true))}}"><template case="true"> <h3 style="color:{{font.color.heading}}">{{getI18n("crm.setup.careersite.aboutcompany")}}</h3> <div style="color:{{font.color.text}};font-size: 0.9375rem;"> <template is="if" value="{{expHandlers(org_info.mode,\'==\',1)}}"><template case="true"> {{unescape(removeUnwantedCss(org_info.description))}} </template><template case="false"> <pre class="cw-text-area-desc">{{org_info.description}}</pre> </template></template> </div> <p></p> </template></template><template is="for" items="{{fields}}" item="each_field" index="f_index"><template is="if" value="{{expHandlers(isLargeField(each_field.data_type,each_field.ui_type),\'&amp;&amp;\',isNotEmpty(record[each_field.api_name]))}}"><template case="true"> <h3 style="color:{{font.color.heading}}">{{each_field.field_label}}</h3> <div id="cw-rich-description" style="color:{{font.color.text}};line-height: inherit; margin-bottom: 32px;"> <template is="if" value="{{expHandlers(each_field.data_type,\'==\',&quot;richtext&quot;)}}"><template case="true"> {{unescape(removeUnwantedCss(record[each_field.api_name],true))}} </template><template case="false"><template is="if" value="{{expHandlers(each_field.ui_type,\'==\',&quot;600&quot;)}}"><template case="true"> <skills-tag id="careersite-publish-skills" data-entityid="{{record[\'id\']}}" data-module="Leads" skills="{{getSkillsDataFromStore(record[each_field.api_name],record)}}" cx-prop-type="only-tags" cx-prop-from="view" cx-prop-expand-type="show-all-tags" data-zcqa="career-template2-skills"></skills-tag> </template><template case="false"> <pre class="cw-text-area-desc">{{getValue(record[each_field.api_name],each_field.data_type)}}</pre> </template></template></template></template> </div> </template></template></template> <template is="if" value="{{isNotEmptyArray(attachments)}}"><template case="true"> <h3 style="color:{{font.color.heading}}">{{getI18n("zr.crm.migration.client.attachment.label")}}</h3> <ul class="cw-attachment-list"> <template is="for" items="{{attachments}}" item="each_attachment" index="a_index"> <li> <ul class="cw-each-attach-list"> <li class="none"> <a> <span class="{{getClassByFile(each_attachment.file_type)}}"></span> <template is="if" value="{{expHandlers(getLength(each_attachment.File_Name),\'>\',28)}}"><template case="true"> <span style="color:{{font.color.text}}" lt-prop-title="{{each_attachment.File_Name}}" lt-prop-tooltip-config="{&quot;position&quot;:&quot;top&quot;}">{{getAttachDotVal(each_attachment.File_Name,28)}}</span> </template><template case="false"> <span class="cw-attch-name" style="color:{{font.color.text}}">{{each_attachment.File_Name}}</span> </template></template> </a> </li> <template is="if" value="{{each_attachment.isview}}"><template case="true"> <li class="none cw-sparter cw-atc-view"> <a href="{{each_attachment.view_url}}" target="_blank" rel="noopener noreferrer">{{getI18n("crm.label.view")}}</a> </li> </template></template> <li> <a class="cw-atc-download" href="{{each_attachment.download_url}}" target="_blank" rel="noopener noreferrer">{{getI18n("crm.view.attachment.download")}}</a> </li> </ul> </li> </template> </ul> </template></template> <template is="if" value="{{isNotEmpty(meta.eeo_disclaimer)}}"><template case="true"> <portal-eeo-disclaimer font="{{font}}" page_type="job_detail" disclaimer="{{meta.eeo_disclaimer}}"></portal-eeo-disclaimer> </template></template> <div class="clearfix cw-hide-mobile"> <lyte-button lt-prop-background-color="{{font.color.brand}}" lt-prop-appearance="success" onclick="{{action(\'apply\',record.id,meta)}}"> <template is="registerYield" yield-name="text"> <template is="if" value="{{expHandlers(expHandlers(meta.portal_user.application,\'&amp;&amp;\',meta.portal_user.application.enabled),\'&amp;&amp;\',meta.portal_user.application.applied)}}"><template case="true"> {{getI18n(\'zr.careers.publicpage.meta.viewapplication\')}} </template><template case="false"> {{getI18n(data[0].applynow)}} </template></template> </template> </lyte-button> </div> </div> </div> </template></template></template></template> </div> </div> </template>',_dynamicNodes:[{type:"attr",position:[1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-color:'","font.color.brand"]}}}},{type:"attr",position:[1,1,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-color:'","font.color.brand"]}}}},{type:"attr",position:[1,1,5],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-color:'","font.color.brand"]}}}},{type:"attr",position:[1,5,1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.brand"]}}}},{type:"text",position:[1,5,1,1,1,1]},{type:"attr",position:[1,5,1,3]},{type:"if",position:[1,5,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.subheading"]}}}},{type:"text",position:[1,1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.brand"]}}}},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.brand"]}}}},{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,5,1,4]},{type:"if",position:[1,5,1,4],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.subheading"]}}}},{type:"text",position:[1,1,0]}]}},default:{}},{type:"attr",position:[1,5,3]},{type:"if",position:[1,5,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[1,1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.heading"]}}}},{type:"text",position:[1,1,1,0]},{type:"attr",position:[1,1,3,1]},{type:"for",position:[1,1,3,1],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"if",position:[1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.subheading"]}}}},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.subheading"]}}}},{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"componentDynamic",position:[3]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.subheading"]}}}},{type:"text",position:[1,0]},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.text"]}}}},{type:"attr",position:[3,1]},{type:"switch",position:[3,1],cases:{website:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},email:{dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,0]}]},boolean:{dynamicNodes:[{type:"text",position:[1]}]}},default:{dynamicNodes:[{type:"text",position:[1]}]}}]}},default:{}}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"attr",position:[1,3,1]},{type:"if",position:[1,3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.heading"]}}}},{type:"text",position:[1,0]},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.text","';font-size: 0.9375rem;'"]}}}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}},{type:"attr",position:[1,3,2]},{type:"for",position:[1,3,2],dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.heading"]}}}},{type:"text",position:[1,0]},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.text","';line-height: inherit; margin-bottom: 32px;'"]}}}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[0]},{type:"if",position:[0],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1,0]}]}},default:{}}]}},default:{}}]}},default:{}}]},{type:"attr",position:[1,3,4]},{type:"if",position:[1,3,4],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.heading"]}}}},{type:"text",position:[1,0]},{type:"attr",position:[3,1]},{type:"for",position:[3,1],dynamicNodes:[{type:"attr",position:[1,1,1,1,1]},{type:"attr",position:[1,1,1,1,3]},{type:"if",position:[1,1,1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.text"]}}}},{type:"text",position:[1,0]}]},false:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'color:'","font.color.text"]}}}},{type:"text",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,0]}]}},default:{}},{type:"attr",position:[1,1,5,1]},{type:"text",position:[1,1,5,1,0]}]}]}},default:{}},{type:"attr",position:[1,3,6]},{type:"if",position:[1,3,6],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[1,3,8,1]},{type:"registerYield",position:[1,3,8,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1,3,8,1]}]}},default:{}}]}},default:{}}],data:function(){return Lyte.registeredMixins["career-website-mixin"].jobDetailTemplatesJson()},actions:{apply:function(t,e){e.portal_user.application&&e.portal_user.application.applied?document.location=e.portal_user.application.url:this.getManualApplyForm(t,e.webform_id,e.page_name)},cancel:function(t){t.preventDefault(),this.cancelToDetailPage("back")},load_list_page:function(t){$L("portal-eeo-survey,portal-assessment").length&&(t.preventDefault(),this.cancelToDetailPage("back"))}},didConnect:function(){$(".cw-jobdescription a[href^=http]:not(.cw-joblist-btn)").attr({target:"_blank",rel:"noopener noreferrer"})}},{mixins:["career-website-mixin"]}),Lyte.Component.register("career-website-loading",{_template:'<template tag-name="career-website-loading"> <div class="cw-text-input-loading"> <div class="cw-loading-line hedader"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line hedader"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line hedader"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> <div class="cw-loading-line label"></div> <div class="cw-loading-line input"></div> </div> </template>\n<style>/*$Id$*/\n.cw-text-input-loading{\n     max-width: 640px;\n     margin: 0 auto;\n }\n .cw-loading-line {\n   height: 10px;\n   margin: 10px;\n   border-radius: 4px;\n   -webkit-animation: pulse 1s infinite ease-in-out;\n   animation: pulse 1s infinite ease-in-out;\n\n }\n\n .cw-loading-line.hedader {\n   width: 20%;\n   margin-top: 32px;\n   margin-bottom:16px;\n   height: 15px;\n }\n .cw-loading-line.label {\n   width: 30%;\n }\n .cw-loading-line.input {\n   margin-bottom: 16px;\n   height:30px;\n }\n\n @-webkit-keyframes pulse {\n   0% {\n     background-color: rgba(222, 228, 240, 0.5);\n   }\n   50% {\n     background-color: rgba(222, 228, 240, 0.3);\n   }\n   100% {\n     background-color: rgba(222, 228, 240, 0.5);\n   }\n }\n\n @keyframes pulse {\n   0% {\n     background-color: rgba(222, 228, 240, 0.5);\n   }\n   50% {\n     background-color: rgba(222, 228, 240, 0.3);\n   }\n   100% {\n     background-color: rgba(222, 228, 240, 0.5);\n   }\n }</style>',_dynamicNodes:[],data:function(){return{}}}),Lyte.Component.register("portal-assessment",{_template:'<template tag-name="portal-assessment"> <div class="portal-assessment-container"> <form onsubmit="{{action(\'submit\',event)}}"> <div class="portal-assm-form"> <div class="cw-main-title" align="center" style="padding-top: 0px;">{{getI18n("Answers Filter")}}</div> <template is="if" value="{{isNotEmpty(cxPropAssessment.description)}}"><template case="true"> <h3 class="cw-section-title"> {{getI18n("crm.template.sms.folder.desc")}} </h3> <pre class="crc-editor-pre" style="font-size: 0.9375rem;margin-bottom:11px"> {{cxPropAssessment.description}} </pre> </template></template> <h3 class="cw-section-title"> {{getI18n("zr.questionnaire.question.information.heading")}} </h3> <rec-form-component cx-prop-zcqa="assessment" cx-prop-direction="vertical" cx-prop-form-class="rec-form-container career-website-border-style" cx-prop-mandatory-type="star" cx-prop-section="{{sections}}" cx-prop-form="create" on-value-change="{{method(\'validateQuestion\')}}"> </rec-form-component> </div> <div class="cw-submit text-center"> <lyte-button lt-prop-background-color="{{cxPropBrandColor}}" cx-prop-zcqa="assessment-submit" id="assessment-btn" onclick="{{action(\'submit\',event)}}" lt-prop-type="submit"> <template is="registerYield" yield-name="text"> <template is="if" value="{{cxPropIsEEOAvaiable}}"><template case="true"> {{getI18n(\'crm.button.next\')}} </template><template case="false"> {{getI18n(\'zr.ratings.reviews.submit.assessment\')}} </template></template> </template> </lyte-button> </div> </form> </div> </template>\n<style>/*$Id$*/\n.portal-assessment-container{\n\tmax-width: 640px;\n    margin: 40px auto 0;\n}\n.portal-assessment-container h3{\n\tmargin-bottom: 8px;\n}\n.portal-assessment-container .portal-assm-form > h3.cw-section-title{\n\tmargin-bottom: 16px;\n}\n.cw-assessment-description{\n\tmargin-bottom: 24px;\n\tline-height: 1.5;\n}\n/* .portal-assessment-container .crc-topview-forms .crc-form-row>label{\n\tcolor: var(--grey-text2-color);\n} */\n.portal-assessment-container .crc-multi-chkbox{\n\tmargin-top:2px\n}\n.portal-assessment-container .crc-multi-chkbox,.portal-assessment-container .crc-multi-radio{\n\tdisplay: block;\n}\n.portal-assessment-container .crc-topview-forms .crc-form-row label{\n\twidth:100%;\n\tmargin-bottom: 4px;\n}\n.portal-assessment-container .crc-topview-forms .crc-form-row label .lyteRadioLabel{\n\tcolor: var(--body-color);\n\tfloat: left;\n    width: 85%;\n}\n.portal-assessment-container .crc-topview-forms .crc-form-row label .lyteRadioLayer{\n\tfloat:left\n}\n.portal-assessment-container .crc-topview-forms .crc-form-row .crc-multi-chkbox label{\n\tmargin-bottom: 4px;\n\tcolor: var(--body-color);\n}\n.portal-assessment-container .crc-custom-cheackbox .lyteCheckBoxDefault::before,.portal-assessment-container .crc-multi-chkbox .lyteCheckBoxDefault::before{\n\tmargin: 4px 8px 0 0;\n}\n.portal-assessment-container .crc-multi-radio .lyteRadioLayer{\n\tborder: 1px solid #474f62;\t\n}\n.portal-assm-form .crc-editor-pre{\n\tmargin-bottom: 24px !important;\n\twhite-space: pre-line;\n}\n</style>',_dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1,1,0]},{type:"attr",position:[1,1,1,3]},{type:"if",position:[1,1,1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1]},{type:"text",position:[3,1]}]}},default:{}},{type:"text",position:[1,1,1,5,1]},{type:"attr",position:[1,1,1,7]},{type:"componentDynamic",position:[1,1,1,7]},{type:"attr",position:[1,1,3,1]},{type:"registerYield",position:[1,1,3,1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1]}]},false:{dynamicNodes:[{type:"text",position:[1]}]}},default:{}}]},{type:"componentDynamic",position:[1,1,3,1]}],_observedAttributes:["cxPropJobId","cxPropAssessment","cxPropFrom","sections","cxPropThanksMessage","cxPropIsEEOAvaiable","cxPropBrandColor","cxQueryParams"],data:function(){return{cxPropJobId:Lyte.attr("string"),cxPropAssessment:Lyte.attr("object"),cxPropFrom:Lyte.attr("string",{default:"create"}),sections:Lyte.attr("array"),cxPropThanksMessage:Lyte.attr("object",{default:""}),cxPropIsEEOAvaiable:Lyte.attr("boolean",{default:!1}),cxPropBrandColor:Lyte.attr("string",{default:"#0073b1"}),cxQueryParams:Lyte.attr("object")}},init:function(){var t=this.getData("cxPropAssessment"),e=new Map,a=[];t.questions.forEach((function(t){e.get(t.sectionname)?e.get(t.sectionname).push(t):e.set(t.sectionname,[t])})),e.forEach((function(t,e){var i=[];t.forEach((function(t){var e={id:t.id,ui_type:assessmentVsRecTypes[t.type],field_label:t.question,required:t.ismandatory,length:1===t.type?250:2===t.type?15e3:100};if(t.hint&&(e.tooltip={name:"Text",value:t.hint}),t.options){var a=[];t.options.forEach((function(t){a.push({id:t.id,actual_value:t.id,display_value:t.value})})),e.pick_list_values=a}e.visible=!0,e.view_type={create:!0,edit:!0},i.push(e)})),a.push({display_label:e,system_name:e,name:e,fields:i})})),this.setData("sections",a)},methods:{validateQuestion:function(t,e,a){var i=document.querySelector("[id='rec-form_"+a.id+"']");return i&&!t&&i.setData("cxPropErrorMessage",I18n.getMsg("zr.questionnaire.mandatory.question")),t}},actions:{submit:function(t){t.preventDefault();var e=this,a=e.getData("cxPropAssessment"),i=[],o=!1;if(a.questions.forEach((function(t){var e={questionid:t.id},a=$L("#rec-form_"+t.id)[0];if(a)if(a.component.validate()){var r=a.component.getValue("actual_value");void 0!==r&&(1===t.type||2===t.type?e.answer=r:3===t.type||4===t.type||6===t.type?e["submission-options"]={option_id:r}:e["submission-options"]=JSON.parse(r).map((function(t){return{option_id:t}})))}else a.setData("cxPropErrorMessage",I18n.getMsg("zr.questionnaire.mandatory.question")),o=!0;i.push(e)})),o){i=[];var r=this.$node.querySelector(".cxErrorBox"),n=r.querySelector("input[type='text'],textarea");return n?$([document.documentElement,document.body]).animate({scrollTop:$(r).offset().top-100},500,void 0,(function(){n.focus()})):$([document.documentElement,document.body]).animate({scrollTop:$(r).offset().top-100},500),!1}store.unloadAll("Submissions"),store.unloadAll("submission-answers"),store.unloadAll("submission-options");var s=store.createRecord("Submissions",{assessmententity:{id:a.id},"submission-answers":i,entity:{},entitytype:"Leads"}),l=$L("#assessment-btn")[0];l.setData("ltPropDisable",!0),s.$.save({portal:!0,jobId:e.getData("cxPropJobId")},e.getData("cxQueryParams")).then((function(t){l.setData("ltPropDisable",!1),"success"===t.Submissions.message&&(t.Submissions.is_eeo_enabled?websiteMixin.checkAndFetchEEOSurvey(e.getData("cxPropJobId"),e.getData("cxQueryParams").candidate_info,e.getData("cxQueryParams").pagename,e.getData("cxPropThanksMessage"),e.getData("cxPropBrandColor")):websiteMixin.displayThanksMessage(e.getData("cxPropThanksMessage")))}),(function(t){l.setData("ltPropDisable",!1);var e=JSON.parse(t.responseText),a="assessment_already_submitted"===e.code?I18n.getMsg("zr.asmnt.mail.message.submit.asmnt"):I18n.getMsg("zr.candidatereview.approveerror"),i="assessment_already_submitted"===e.code?I18n.getMsg("zr.asmnt.mail.message.submit.asmnt.title"):I18n.getMsg("crm.label.ri.failure");websiteMixin.showPopup({poptype:"error",heading:"<p class='sus-heading' style='text-align: center;'>"+i+"</p>",headingHtml:!0,secondaryHtml:!0,secondaryMsg:a,buttons:[{type:"accept",text:I18n.getMsg("crm.livedesk.okay"),appearance:"primary"}],btnPosition:"center"})}))},cancel:function(){this.cancelToDetailPage()}}},{mixins:["career-website-mixin"]}),Lyte.Component.register("portal-manual-apply",{_template:'<template tag-name="portal-manual-apply"> <template is="if" value="{{isNotEmpty(cxPropApplyDetails)}}"><template case="true"> <portal-easy-resume-component cx-prop-job-id="{{id}}" cx-prop-parse-file-name="RESUME" cx-prop-apply-details="{{cxPropApplyDetails}}" cx-prop-field="{{cxPropEasyApplyField}}" cx-prop-module="Leads" cx-prop-zcqa="easy_apply" cx-prop-url="{{cxPropParseUrl}}" cx-prop-company-info="{{cxPropCompanyInfo}}"></portal-easy-resume-component> </template></template> <form onsubmit="{{action(\'submit\',event)}}" style="{{if(isEmpty(cxPropApplyDetails),&quot;padding-top: 30px;&quot;)}}"> <rec-form-component cx-prop-direction="vertical" cx-prop-form-class="rec-form-container career-website-border-style" cx-prop-zcqa="manual" cx-prop-section-clear="true" cx-prop-mandatory-type="star" on-add="{{method(\'checkLimitAfterAdd\')}}" on-before-remove="{{method(\'onBeforeRemoveServerFile\')}}" on-remove="{{method(\'onRemoveFileFromClient\')}}" cx-prop-section="{{cxPropSections}}" cx-prop-check-for-dependency="{{cxPropCheckForDependency}}" cx-prop-captcha-url="{{cxPropCaptchaInfo}}" cx-prop-editor-class="crc-editor-desc" cx-prop-pre-field-details="{{cxPropPreFieldDetails}}" cx-prop-value="{{cxPropValue}}" cx-prop-datetime-in-user-pattern="{{cxPropDatetimeInUserPattern}}"></rec-form-component> <div class="cw-submit text-center"> <lyte-button lt-prop-class="zrc-btn-secondary" cx-prop-zcqa="manual-cancel" onclick="{{action(\'cancel\')}}"> <template is="registerYield" yield-name="text"> {{cxPropCancelName}} </template> </lyte-button> <lyte-button lt-prop-type="submit" lt-prop-background-color="{{cxPropBrandColor}}" cx-prop-zcqa="manual-submit" id="cw-submit-btn" onclick="{{action(\'submit\',event)}}"> <template is="registerYield" yield-name="text"> {{expHandlers(expHandlers(expHandlers(cxPropAssessmentId,\'!=\',undefined),\'||\',expHandlers(cxPropEEOAvailable,\'==\',true)),\'?:\',getI18n("crm.button.next"),expHandlers(expHandlers(cxPropPortalPage,\'==\',"register"),\'?:\',getI18n(\'Register\'),expHandlers(expHandlers(cxPropPortalPage,\'==\',"profile"),\'?:\',getI18n(\'Save\'),expHandlers(expHandlers(cxPropSubmitName,\'!==\',undefined),\'?:\',cxPropSubmitName,getI18n("zr.setup.application.preview.submitapplication")))))}} </template> </lyte-button> </div> </form> </template>\n<style>/* $Id: $ */\n.cw-back-btn {\n    position: absolute;\n    top: 5px;\n    left: -40px;\n    background: url(\'../..//recruit/images/svgicons.svg\') no-repeat -134px -270px;\n    width: 22px;\n    height: 18px;\n    display: block;\n    opacity: .6;\n    cursor: pointer;\n}\n.cw-back-btn:hover {\n    opacity: 1\n}\n.rec-alert-sec-heading{\n\tmax-height: 500px;\n    overflow: auto;\n}\n.alertContent.cw-alert-content{\n\tdisplay: block;\n}\n.cw-alert-content .align-center{\n\ttext-align: center;\n}\n.cw-alert-content .alertPrimaryMsg{\n\tfont-family: var(--font-regular);\n}\n.crc-easyresume-upload-wrapper .crc-other-upload .lyteFileUpdBoxType .lyteFileUpdMsgWrap:hover{\n\tborder-color: transparent;\n}\n.cnl-body-login .cxDropbox.lyteDropdownDown lyte-drop-item{\n\tpadding: 10px 15px 9px 25px;\n}\n\n.candidate-register-form .crc-topview-forms .crc-form-durationfield rec-dropdown:last-child lyte-dropdown.crc-form-dropdown{\n\t margin-right:0;\n}\n.candidate-register-form .crc-topview-forms .crc-form-row label.crc-form-monthto{\n\t width: 59px;\n}\n\n</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]}},default:{}},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"if",args:[{type:"helper",value:{name:"isEmpty",args:["cxPropApplyDetails"]}},"'padding-top: 30px;'"]}}}},{type:"attr",position:[3,1]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3,1]},{type:"registerYield",position:[3,3,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3,3,1]},{type:"attr",position:[3,3,3]},{type:"registerYield",position:[3,3,3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3,3,3]}],_observedAttributes:["id","cxPropParseUrl","cxPropCaptchaInfo","cxPropPortalPage","cxPropSections","cxPropBrandColor","cxPropEEOAvailable","cxPropAssessmentId","cxPropPageName","cxPropWebformId","cxPropApplyDetails","cxPropEasyApplyField","cxPropPreFieldDetails","cxPropCheckForDependency","cxPropFont","cxPropEasyApplyName","cxPropCompanyInfo","cxPropDatetimeInUserPattern","cxPropCancelName","cxPropSubmitName","cxPropValue"],data:function(){return{id:Lyte.attr("string"),cxPropParseUrl:Lyte.attr("string"),cxPropCaptchaInfo:Lyte.attr("object"),cxPropPortalPage:Lyte.attr("string"),cxPropSections:Lyte.attr("array"),cxPropBrandColor:Lyte.attr("string",{default:"#0073b1"}),cxPropEEOAvailable:Lyte.attr("boolean"),cxPropAssessmentId:Lyte.attr("string"),cxPropPageName:Lyte.attr("string"),cxPropWebformId:Lyte.attr("string"),cxPropApplyDetails:Lyte.attr("object"),cxPropEasyApplyField:Lyte.attr("object"),cxPropPreFieldDetails:Lyte.attr("object"),cxPropCheckForDependency:Lyte.attr("boolean",{default:!1}),cxPropFont:Lyte.attr("object"),cxPropEasyApplyName:Lyte.attr("string"),cxPropCompanyInfo:Lyte.attr("object",{default:{}}),cxPropDatetimeInUserPattern:Lyte.attr("boolean"),cxPropCancelName:Lyte.attr("string"),cxPropSubmitName:Lyte.attr("string"),cxPropValue:Lyte.attr("object")}},didDestroy:function(){if(!this.getData("isProfileForm")){for(;moduleRecordMapping&&moduleRecordMapping.Leads.fields.length;)"tabular"===moduleRecordMapping.Leads.fields[0].data_type&&store.unregisterModel(moduleRecordMapping.Leads.fields[0].id),store.unloadRecord("field",moduleRecordMapping.Leads.fields[0].id);store.unregisterModel(moduleRecordMapping.Leads.id),store.unloadAll("webform"),store.unloadAll("webformsection"),store.unloadAll("webformfield"),store.unloadAll("webform-attachmenttype")}},didConnect:function(){var t=this.getData("cxPropPortalUser");t&&t.is_loggedin&&renderCandidateDetail()},init:function(){var t=this.getData("cxPropApplyDetails");if(t&&t.apply_with_indeed&&t.apply_with_indeed.status){var e=store.peekRecord(moduleRecordMapping.Potentials.id,this.getData("id")),a=t.apply_with_indeed.details;a.id=e.id,a.City=e.City,a.Job_Opening_Name=e.Job_Opening_Name?e.Job_Opening_Name:e.Posting_Title,a.company_name=store.peekAll("organisation")[0].company_name,this.setData("cxPropApplyDetails.apply_with_indeed.details",a)}this.getData("cxPropCancelName")||this.setData("cxPropCancelName",I18n.getMsg("crm.social.cancel")),this.setData("cxPropBrandColor",this.getData("cxPropFont").color.brand),this.setData("cxPropCompanyInfo",{color:this.getData("cxPropFont").color.brand,favicon:"undefined"!=typeof meta?meta.favicon_url:void 0,name:"undefined"!=typeof meta&&meta.org_info?meta.org_info.company_name:""}),this.setData("cxPropEasyApplyField",{required:!1,api_name:"RESUME",ui_type:8899,bulk:!1,$instant:!0,data_type:"file",field_label:I18n.getMsg("zr.resumeinbox.settings.pop.content.attachment"),$accept:"application/pdf,application/rtf,application/msword,application/vnd.ms-word,application/vnd.oasis.opendocument.text,application/vnd.openxmlformats-officedocument.wordprocessingml.document,doc,docx,pdf,odt,rtf"}),this.setData("isProfileForm",$("new-candidate-portal-main").length)},actions:{cancel:function(){$("candidate-register-form").length?RegisterCandidate.removeRegisterForm("profile"==this.getData("cxPropPortalPage")):this.cancelToDetailPage()},submit:function(t){t.preventDefault();var e=this.getData("isProfileForm"),i=!!this.getData("cxPropPortalUser")&&this.getData("cxPropPortalUser").is_loggedin;e||store.unloadAll(moduleRecordMapping.Leads.id);var o=document.querySelector("rec-form-component").component.getFormDataAndCheckValidation(e||i);if(!o.is_valid){var r=document.querySelector(".rec-form-container .cxErrorBox"),n=$L(r).is("lyte-dropdown"),s=n?$L(r):$L(r).find("input:not([type=file]),textarea");return s.length>0&&s.is(":visible")?$([document.body]).animate({scrollTop:$(r).offset().top-100},500,void 0,(function(){n?(s[0].toggle(),s.find("input").length>0&&s.find("input").focus()):s.length>0&&s[0].focus(),$([document.documentElement]).animate({scrollTop:s.offset().top-100},500)})):$([document.documentElement]).animate({scrollTop:$(r).offset().top-100},500),!1}if(e){var l=document.querySelector("new-candidate-portal-profile").component,p=store.peekRecord(moduleRecordMapping.Leads.id,pageInfo.candidate_id).$.set(o.json_data);Lyte.resolvePromises({deletePromise:store.delete("attachments",void 0,{candidatePortalUrl:"Attachments",entityId:pageInfo.candidate_id}),uploadPromise:0==o.total_file_size?void 0:new Promise((function(t,e){store.adapter.application.showHideLoadingDiv(!0),$L.ajax({url:"/recruit/v2/candidateportal/Candidates/"+pageInfo.candidate_id+"/Attachments",type:"post",dataType:"json",headers:{"X-ZCSRF-TOKEN":csrfParamName+"="+csrfToken},contentType:!1,processData:!1,data:o.form_data,success:function(e,a,i){store.pushPayload("attachments",e.Attachments),store.adapter.application.showHideLoadingDiv(),t(e)},error:function(t,a,i){store.adapter.application.showHideLoadingDiv(),e(t)}})})),recordPromise:p.$.save({candidateportal:"candidates"})}).then((function(t){if(t.uploadPromise&&t.uploadPromise.Attachments&&(l.setAttachData(),$("new-candidate-portal-resume")[0].component.setPreviewData()),t.uploadPromise||t.deletePromise||t.recordPromise){var e=t.recordPromise?t.recordPromise.meta.last_updated:t.uploadPromise?t.uploadPromise.meta.last_updated:t.deletePromise?t.deletePromise.meta.last_updated:"";e&&portalMixins.changeLastUpdated(e),t.recordPromise[moduleRecordMapping.Leads.id]&&t.recordPromise[moduleRecordMapping.Leads.id].$skills&&store.pushPayload("competency",t.recordPromise[moduleRecordMapping.Leads.id].$skills),portalMixins.showMessage("success",I18n.getMsg("zr.candidateportal.profile.save.success","<b>"+I18n.getMsg("crm.label.profile")+"</b>"),5e3,!0)}l.getProfileCompletionJson(),$("candidate-register-form").remove()}),(function(t){portalMixins.handleErrorResponse(t.responseText)}))}else{var d=store.createRecord(moduleRecordMapping.Leads.id,o.json_data,!0);if(d.$.isError)return websiteMixin.showMessage("error","some error in creating the record"),!1;var c=store.$.toJSON(moduleRecordMapping.Leads.id,d,void 0,void 0,{obj:new Map}),u=$("candidate-register-form").length;if(!u){var m=lyteRecElemMixin.parseUrlParams(window.location.search);if(m)for(var h in m)h&&!c[h]&&"source"!==h&&(c[h]=m[h])}var y=JSON.stringify(c),f=this.$node.querySelector(".cw-submit #cw-submit-btn");f.setData("ltPropDisabled",!0),store.adapter.application.showHideLoadingDiv(!0);var g=this,v=o.form_data;v.append("data",y),meta&&meta.source&&v.append("source",meta.source),$L.ajax({url:u?"/recruit/v2/candidateportal/register":"/recruit/v2/public/Job_Openings/"+this.getData("id")+"/apply/"+this.getData("cxPropWebformId")+"?pagename="+encodeURIComponent(this.getData("cxPropPageName"))+(this.getData("cxPropEasyApplyName")?"&easyapply="+this.getData("cxPropEasyApplyName"):""),type:"post",contentType:!1,processData:!1,data:v,dataType:"json",success:function(t,e,a){store.unloadAll("competency-skills"),g.checkAndFetchAssessment(t,g.getData("id"),g.getData("cxPropPageName"),g.getData("cxPropBrandColor"),"manual_apply")},error:function(t,e,i){var o=t.responseText,r=o&&"string"==typeof o?JSON.parse(o):o;if(r&&"invalid_catpcha"===r.code)g.$node.querySelector("rec-captcha-component").setData("cxPropReloadCaptchaType","invalid");else if(r&&"missing_mandatory_files"===r.code&&r.details)Object.keys(r.details).each((function(t){var e=r.details[t],a=g.$node.querySelector("#rec-form_"+e.id);a&&a.setData("cxPropErrorMessage",I18n.getMsg("crm.webform.emptyfileattached"))}));else if(r&&"candidate_in_coolingoff"===r.code&&r.details)websiteMixin.showMessage("error",I18n.getMsg("crm.setup.portal.cooloffperiod.notreached.careersite",r.details.noOfdaysRemaining));else if(u&&r&&("EXISTING_USER"===r.code||"USER_CREATION_EXCEPTION"===r.code))websiteMixin.showMessage("error",Utils.sanitizeHTML(r.message)),"USER_CREATION_EXCEPTION"===r.code&&g.$node.querySelector("rec-captcha-component").setData("cxPropReloadCaptchaType","reload");else if(""===o&&0===t.status&&"error"==t.statusText)websiteMixin.showMessage("warning",I18n.getMsg("zr.application.chrome.error"));else if(r&&r.message){websiteMixin.showMessage("error",I18n.getMsg(r.message));try{$.ajax({type:"POST",url:"/recruit/register_logs.do",dataType:"json",data:{error:JSON.stringify(t)},async:!0,success:function(t){},error:function(t){alert(t.responseText)}})}catch(t){a=1}}else{websiteMixin.showMessage("error",I18n.getMsg("crm.mail.social.general.error"));try{$.ajax({type:"POST",url:"/recruit/register_logs.do",dataType:"json",data:{error:JSON.stringify(t)},async:!0,success:function(t){},error:function(t){alert(t.responseText)}})}catch(t){a=1}}f.setData("ltPropDisabled",!1)},complete:function(t,e){f.setData("ltPropDisabled",!1),store.adapter.application.showHideLoadingDiv(!1)}})}}},methods:{onBeforeRemoveServerFile:function(t,e,a,i){var o=this;return this.getData("isProfileForm")?store.peekRecord("attachments",a.id).$.deleteRecord():websiteMixin.showPopup({poptype:"confirm",defaultText:I18n.getMsg("crm.button.cancel"),disableText:I18n.getMsg("Delete"),heading:I18n.getMsg("zr.cw.suredlfile"),secondaryMsg:I18n.getMsg("zr.cw.file.del.msg"),accept:function(){var t={"X-ZCSRF-TOKEN":csrfParamName+"="+csrfToken},e="/recruit/v2/public/Attachments/"+a.id+"?cipher="+a.cipher+"&pagename="+encodeURIComponent(o.getData("cxPropPageName"));$L.ajax({url:e,headers:t,type:"DELETE",success:function(t){websiteMixin.showMessage("success",I18n.getMsg("zr.cw.file.del.suc")),o.removeFile("predefinedList",a,i)},fail:function(t){t?"User_Not_Verified"===t.code?websiteMixin.showMessage("warning",I18n.getMsg("zr.user.mail.not.confirmed")):"User_Not_Active"===t.code?websiteMixin.showMessage("warning",I18n.getMsg("zr.cw.user.not.active")):"Attachment_Not_Found"===t.code?websiteMixin.showMessage("warning",I18n.getMsg("crm.dashboard.no.data")):"Portal_Not_Enabled"===t.code&&websiteMixin.showMessage("warning",I18n.getMsg("zr.disabled.candidate.login")):websiteMixin.showMessage("warning",I18n.getMsg("crm.maximum.request.limit"))}})}}),!1},checkLimitAfterAdd:function(t,e,a,i){var o=0,r=0;return i.$node.querySelectorAll("rec-file-upload-component").forEach((function(t){r+=t.component.getValue().length,t.component.getValue().forEach((function(t){t.file&&t.file.size&&(o+=t.file.size)}))})),r>25?(e.removeUpload(e.getData("queueList")[e.getData("queueList").length-1].id),void a.setData("cxPropErrorMessage",I18n.getMsg("crm.createform.attachments.filelimit"))):o>10485760?(e.removeUpload(e.getData("queueList")[e.getData("queueList").length-1].id),void a.setData("cxPropErrorMessage",I18n.getMsg("crm.cloudpicker.file.limit.exceed",I18n.getMsg("crm.setup.storagedetails.mb",10)))):void 0},onRemoveFileFromClient:function(t,e,a,i){}}},{mixins:["career-website-mixin","rec-element-file-mixin"]}),Lyte.Component.register("portal-easy-apply",{_template:'<template tag-name="portal-easy-apply"> <div class="crc-easyresume-apply-button"> <ul> <template is="if" value="{{expHandlers(cxPropApplyDetails.apply_with_linkedin,\'&amp;&amp;\',cxPropApplyDetails.apply_with_linkedin.status)}}"><template case="true"> <li><portal-awli-btn cx-prop-zrqa="cw-awli" id="{{cxPropJobId}}" integ-id="{{cxPropApplyDetails.apply_with_linkedin.awliIntegId}}" api-key="{{cxPropApplyDetails.apply_with_linkedin.awliApiKey}}"></portal-awli-btn></li> </template></template> <template is="if" value="{{expHandlers(cxPropApplyDetails.apply_with_login,\'&amp;&amp;\',cxPropApplyDetails.apply_with_login.status)}}"><template case="true"> <li><portal-easylogin-btn cx-prop-company-info="{{cxPropCompanyInfo}}"></portal-easylogin-btn></li> </template></template> <template is="if" value="{{cxPropApplyDetails.apply_with_indeed.status}}"><template case="true"> <li><portal-indeed-btn cx-prop-job-id="{{cxPropJobId}}" cx-prop-details="{{cxPropApplyDetails.apply_with_indeed.details}}"></portal-indeed-btn></li> </template></template> <template is="if" value="{{expHandlers(cxPropApplyDetails.apply_with_seek,\'&amp;&amp;\',cxPropApplyDetails.apply_with_seek.status)}}"><template case="true"> <li><portal-seek-btn cx-prop-job-id="{{cxPropJobId}}" cx-prop-details="{{cxPropApplyDetails.apply_with_seek.details}}"></portal-seek-btn></li> </template></template> </ul> </div> </template>\n<style>/* $Id: $ */\n\n.portal-smart-apply lyte-modal-content{\n    padding:0;\n    width:750px;\n    transition: all .3s;\n}\n.portal-smart-apply .lyteModal{\n    overflow: hidden;\n    border-radius:8px;\n    border: none;\n    \n}\n.portal-popup-container{\n    padding: 40px;\n    min-height: 400px;\n    overflow: hidden;\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    display:table;\n    -webkit-font-smoothing: auto;\n    transition: all .3s;\n}\n.portal-popup-container::after {\n    background: url(../..//recruit/images/login-arrow-bg.svg) no-repeat left bottom/100%;\n    content: \'\';\n    width: 494px;\n    height: 426px;\n    display: block;\n    left: -20%;\n    bottom: -32px;\n    z-index: 0;\n    position: absolute;\n}\n.portal-popup-container p {\n    color: #666;\n    font-size: 1rem;\n    margin-top: 5px;\n    line-height: 18px;\n    position: relative;\n    z-index: 2;\n}\n.portal-popup-container h3 {\n    color: #222;\n    font-size: 1.25rem;\n    line-height: 23px;\n}\n.portal-popup-container .cw-btn-primary.cnl-smart-bg{\n    background:none;\n    border:none;\n    color:rgba(90, 172, 68, 1);\n    width: auto;\n    height: auto;\n    margin-bottom: 0;\n}\n\n.crc-easyresume-apply-button .cw-btn-primary.cnl-smart-bg{\n    padding: 10px 16px;\n    border-radius: 4px;\n    font-size: 1.125rem;\n    line-height:1.2rem ;\n    margin: 0;\n    width: 100% !important;\n}\n.crc-easyresume-apply-button .portal-easy-apply{\n\tleft:0\n}\n.portal-popup-container .cw-btn-primary.cnl-smart {\n    border: 1px solid transparent;\n    background: var(--white-color);\n    color: rgba(227, 40, 49, .8);\n    border-radius: inherit;\n    padding: 0;\n    text-align: center;\n    width: 184px;\n    margin: 0 0 0 46px;\n}\n.portal-popup-container .cw-btn-primary {\n    width:230px;\n    height: 48px;\n    font-size: 21px;\n    font-size: 1.125rem;\n    line-height:1.4375rem;\n    /* -webkit-font-smoothing: auto; */\n    border-radius:2px;\n}\n.portal-action-btn {\n    width: 300px;\n    text-align: center;\n    display: table-cell;\n    vertical-align: middle;\n    position: relative;\n    z-index: 1;\n}\n\n.easy-recruit-logo{\n    background: url(../..//recruit/images/recruit-logo.svg) no-repeat left bottom/100%;\n    width: 30px;\n    height: 30px;\n    top: 8px;\n    left: 8px;\n    display: block;\n    position: absolute;\n    z-index: 1; \n}\n.easy-apply-class:after{\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 46px;\n    background: rgba(227, 40, 49, .8);\n    width: 1px;\n    height: 100%;\n}\n.easy-apply-class{\n    border: 1px solid transparent;\n    background: var(--white-color);\n    color: rgba(227, 40, 49, .8);\n    border-radius: inherit;\n    padding: 0;\n    text-align: center;\n    width: 184px;\n    margin: 0 0 0 46px;\n    height: 48px;\n    font-size: 1.125rem;\n    line-height:1.4375rem;\n    font-weight: 400 ;\n    margin-bottom: 8px;\n    border: 1px solid rgba(227, 40, 49, .8);\n    border-radius: 2px;\n    width: 230px;\n}\n\n.easy-apply-progress-bar {\n    width: 99.5%;\n    background-color: var(--background-color);\n    border-radius: 4px;\n    position: absolute;\n    bottom: 1px;\n    left: 1px;\n    margin: 0 auto;\n}\n.crc-easyresume-upload-wrapper .easy-apply-progress-bar{\n    bottom: 2px;\n}\n.easy-apply-progress-bar-fill {\n    height: 5px;\n    display: block;\n    background-color: #338cf0;\n    border-radius: 3px;\n    width: 0;\n    transition: width 500ms ease-in-out;\n}\n.crc-easyresume-apply-button li{\n\tmargin-top:16px\n}\n.crc-easyresume-apply-button li:first-of-type{\n\tmargin-top:0\n}\n.cw-soc-apply .crc-easyresume-apply-button .awli-text{\n\tmargin-left: 17px;\n}\n\n@media only screen and (max-width:624px) {\n\t.crc-easyresume-apply-button .cw-indeed-btn{\n\t   \tmargin: 0 auto;\n\t}\n\t.crc-easyresume-apply-button .cw-seek-btn{\n\t\tmargin: 0 auto;\n\t\tleft: 0;\n\t}\n\t\n}</style>',_dynamicNodes:[{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"if",position:[1,1,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,5]},{type:"if",position:[1,1,5],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]}]}},default:{}},{type:"attr",position:[1,1,7]},{type:"if",position:[1,1,7],cases:{true:{dynamicNodes:[{type:"attr",position:[1,0]},{type:"componentDynamic",position:[1,0]}]}},default:{}}],_observedAttributes:["cxPropApplyDetails","cxPropJobId","cxPropCompanyInfo"],data:function(){return{cxPropApplyDetails:Lyte.attr("object"),cxPropJobId:Lyte.attr("string"),cxPropCompanyInfo:Lyte.attr("object",{default:{}})}},actions:{fill_manually:function(t,e,a,i){this.showApplyForm(t,e,a),this.$node.querySelector("#portal-easy-apply-modal").setData("ltPropShow",!1)},apply_with_login:function(t,e,a){window.open("/candidateportal?source=career","portal-login","height=600,width=600")}}},{mixins:["career-website-mixin"]}),Lyte.Component.register("portal-linkedin-apply",{_template:'<template tag-name="portal-linkedin-apply"> <form onsubmit="{{action(\'submit\',event)}}"> <div class="cw-container-inner"> <template is="if" value="{{expHandlers(cxPropApplyFrom,\'!=\',&quot;LinkedIn&quot;)}}"><template case="true"> <div class="avatar-upload"> <div class="cw-avatar-wrapper"> <span class="jobborad-loader" style="display: none;"> </span> <a href="javascript:void(0);" id="profilepic-link" class="avatar-ae-link add-avater" onclick="$(\'#profilePic\').trigger(\'click\');"></a> <input type="file" style="display: none;" id="profilePic" accept="image/*" onchange="{{action(\'changePhotoFn\')}}"> <label for="profilePic"></label> <div class="cw-avatar-placeholder"> <template is="if" value="{{expHandlers(cxPropApplyFrom,\'!=\',&quot;Link&quot;)}}"><template case="true"> <a title="{{getI18n(\'crm.fileuploader.removefile\')}}" onclick="{{action(\'removePhoto\')}}" id="removeprofilePic"> <span></span> </a> </template></template> <div id="imagePreview" class="cw-avatar-preview" style="background-image:url(\'{{if(isNotEmpty(cxPropProfileData.profileImageUrl),cxPropProfileData.profileImageUrl,\'/images/ln_avatar.svg\')}}\')"></div> <input type="hidden" id="awli-field-imageUrl"> </div> </div> </div> </template></template> <rec-form-component cx-prop-form-class="rec-form-container career-website-border-style" cx-prop-direction="vertical" cx-prop-mandatory-type="star" cx-prop-section="{{cxPropSections}}" cx-prop-value="{{cxPropProfileData}}" cx-prop-form="create"></rec-form-component> </div> <div class="cw-submit portal-linkedin-apply text-center"> <lyte-button onclick="{{action(\'cancel\')}}"> <template is="registerYield" yield-name="text"> {{getI18n("Cancel")}} </template> </lyte-button> <lyte-button lt-prop-type="submit" id="linked_in_apply" lt-prop-background-color="{{cxPropBrandColor}}" onclick="{{action(\'submit\',event)}}"> <template is="registerYield" yield-name="text"> {{if(ifAnyMatch(cxPropAssessmentId,\'!=\',undefined,cxPropEEOAvailable,\'==\',true),getI18n("crm.button.next"),getI18n("zr.setup.application.preview.submitapplication"))}} </template> </lyte-button> </div> </form> </template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1,1,5]},{type:"attr",position:[1,1,9,1]},{type:"if",position:[1,1,9,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1]}]}},default:{}},{type:"attr",position:[1,1,9,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background-image:url(''",{type:"helper",value:{name:"if",args:[{type:"helper",value:{name:"isNotEmpty",args:["cxPropProfileData.profileImageUrl"]}},"cxPropProfileData.profileImageUrl","'/images/ln_avatar.svg'"]}},"'')'"]}}}}]}},default:{}},{type:"attr",position:[1,1,3]},{type:"componentDynamic",position:[1,1,3]},{type:"attr",position:[1,3,1]},{type:"registerYield",position:[1,3,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,3,1]},{type:"attr",position:[1,3,3]},{type:"registerYield",position:[1,3,3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[1,3,3]}],_observedAttributes:["id","cxPropSections","cxPropApplyDetails","cxPropProfileData","cxPropPageName","cxPropBrandColor","cxPropEEOAvailable","cxPropAssessmentId","cxPropApplyFrom","cxPropIntegDetails"],data:function(){return{id:Lyte.attr("string"),cxPropSections:Lyte.attr("array"),cxPropApplyDetails:Lyte.attr("object"),cxPropProfileData:Lyte.attr("object",{default:{}}),cxPropPageName:Lyte.attr("string"),cxPropBrandColor:Lyte.attr("string",{default:"#0073b1"}),cxPropEEOAvailable:Lyte.attr("boolean"),cxPropAssessmentId:Lyte.attr("string"),cxPropApplyFrom:Lyte.attr("string"),cxPropIntegDetails:Lyte.attr("object",{default:{}})}},actions:{removePhoto:function(){$("#profilePic").val(""),$("#imagePreview").css("background-image","url(/images/ln_avatar.svg)"),$("#removeprofilePic").toggleClass("remove-img"),$L("#profilepic-link").addClass("add-avater")},changePhotoFn:function(){var t=$("#profilePic")[0].files[0];if(!t)return $L("#profilepic-link").addClass("add-avater"),void $L("#removeprofilePic").click();var e=$("#profilePic").val(),a=e.substring(e.lastIndexOf(".")+1,e.length),i=t.size,o=new RegExp("jpg|jpeg|png|gif|bmp|tiff|mng","i");if(i<512e4&&o.test(a)){var r=$("#imagePreview"),n=new FileReader;n.onload=function(t){var a=e.lastIndexOf("."),i=e.substring(a+1);i||(i="png"),r.css("background-image","url("+t.target.result+")")},n.readAsDataURL(t),$("#removeprofilePic").toggleClass("remove-img"),$("#profilepic-link").removeClass("add-avater")}else{var s=i>512e4?I18n.getMsg("crm.writer.mailmerge.filesize","5"):I18n.getMsg("crm.cloudpicker.invalid.filetype");websiteMixin.showMessage("error",I18n.getMsg(s))}},cancel:function(){this.cancelToDetailPage()},submit:function(t){t.preventDefault();var e=this.$node.querySelector("rec-form-component"),a=e.getData("cxPropSection"),i=new FormData,o=!0,r=this;a.forEach((function(t){if(t.isattachment)t.attachmenttypes.forEach((function(t){var a=e.component.getFieldNode(t);(o=o&&a.component.validate())&&a.component.getValue().forEach((function(e){if("seekResumePk"===e.id&&e.content){var a=new Blob([e.content],{type:"text/plain"});e={file:new File([a],e.name,{type:"text/plain"})},i.append("isFileFromSys",!0)}i.append(t.api_name,e.file,e.file.name)}))}));else if(t.istabular){t.id;var a=e.component.getFieldNode(t);if(a&&(o=o&&a.component.validate())){var n=a.component.getValue();n.forEach((function(e){if(void 0!==e.Duration&&e.Duration!=={}){if("educations"===t.name)e.start=e.Duration.from?r.checkForNumber(e.Duration.from.split("-")[0]):void 0,e.end=e.Duration.to?r.checkForNumber(e.Duration.from.split("-")[0]):void 0;else{if(e.Duration.from){var a=e.Duration.from.split("-");e.startYear=r.checkForNumber(a[0]),e.startMonth=r.checkForNumber(a[1])}e.Duration.to&&(a=e.Duration.to.split("-"),e.endYear=r.checkForNumber(a[0]),e.endMonth=r.checkForNumber(a[1])),e.Duration.to&&(e.end=r.checkForNumber(e.Duration.to.split("-")[0])),e.Duration.from&&(e.start=r.checkForNumber(e.Duration.from.split("-")[0]))}delete e.Duration}})),i.append(t.api_name,JSON.stringify(n))}}else t.fields&&t.fields.forEach((function(t){var a=e.component.getFieldNode(t);a&&(o=o&&a.component.validate())&&i.append(t.api_name,a.component.getValue())}))})),"Seek"!==this.getData("cxPropApplyFrom")&&"CV-Library"!==this.getData("cxPropApplyFrom")||i.append("applicantId",this.getData("cxPropProfileData").applicantId);var n=$("#profilePic")[0];if("Linkedin"!==this.getData("applyFrom")&&n&&this.isNotEmpty(n.value)&&i.append("profilePic",n.files[0],n.files[0].name),!o){var s=this.$node.querySelector(".rec-form-container .cxErrorBox"),l=$L(s).find("input:not([type=file]),textarea");return l.length>0&&l.is(":visible")?$([document.documentElement,document.body]).animate({scrollTop:$(s).offset().top-100},500,void 0,(function(){l.focus()})):$([document.documentElement,document.body]).animate({scrollTop:$(s).offset().top-100},500),!1}r=this;var p=this.$node.querySelector("lyte-button#linked_in_apply");this.getData("cxPropProfileData").profileImageUrl&&i.append("imageUrl",this.getData("cxPropProfileData").profileImageUrl),p.setData("ltPropDisabled",!0);var d=void 0;"LinkedIn"!==this.getData("cxPropApplyFrom")&&(d="&hashKeyDigest="+encodeURIComponent(this.getData("cxPropIntegDetails").hash)),store.adapter.application.showHideLoadingDiv(!0),$L.ajax({type:"POST",dataType:"json",url:"/recruit/v2/public/Job_Openings/"+this.getData("id")+"/apply/autofill?pagename="+encodeURIComponent(this.getData("cxPropPageName"))+"&from="+encodeURIComponent(this.getData("cxPropApplyFrom"))+(d||"")+"&source="+meta.source,data:i,enctype:"multipart/form-data",processData:!1,contentType:!1}).then((function(t){if(p.setData("ltPropDisabled",!1),store.adapter.application.showHideLoadingDiv(!1),"LinkedIn"===r.getData("cxPropApplyFrom")){var e=r.getData("cxPropApplyDetails"),a='<div attr="widget-holder" style="position:absolute;" id="zrAwliWidget" data-isjobboard=false><script type="text/javascript" src="https://www.linkedin.com/mjobs/awli/awliWidget"><\/script><script type="IN/AwliWidget" data-company-job-code="'+r.getData("id")+'" data-integration-context="'+e.awliIntegId+'" data-mode="CONVERSION" data-api-key="'+e.awliApiKey+'"><\/script></div>';$("body").append(a)}r.checkAndFetchAssessment(t,r.getData("id"),r.getData("cxPropPageName"),r.getData("cxPropBrandColor"))}),(function(t){p.setData("ltPropDisabled",!1),store.adapter.application.showHideLoadingDiv(!1);var e=JSON.parse(t.responseText),a="crm.mail.social.general.error";e&&"INVALID_FEATURE"===e.code&&(a="crm.careers.errorpage.errormsg"),websiteMixin.showMessage("error",I18n.getMsg(a))}))}}},{mixins:["career-website-mixin"]}),Lyte.Component.register("portal-easy-resume-component",{_template:'<template tag-name="portal-easy-resume-component"> <div class="crc-easyresume-apply-wrapper crc-form-row"> <h3 class="cw-section-title">{{getI18n("zr.cw.autofill.head")}}</h3> <p class="crc-content-text"> {{cxPropBodyMessage}} </p> <div class="crc-easyresume-apply-innerwrapper"> <div class="crc-easyresume-upload-wrapper"> <template is="component" cx-prop-show-size="false" cx-prop-file-icon="false" cx-prop-message="{{cxPropMessage}}" cx-prop-wrapper-class="crc-easyresume-upload-wrapper" id="{{id}}" component-name="rec-file-upload-component" cx-prop-from="{{cxPropFrom}}" cx-prop-module="{{cxPropModule}}" data-zcqa="{{cxPropZcqa}}" cx-prop-appearance="Box" cx-prop-value="{{cxPropValue}}" on-file-success="{{method(\'setParsedData\')}}" on-add="{{method(\'showProgressBar\')}}" on-file-failure="{{method(\'removeProgressBar\',\'0%\',true)}}" on-value-change="{{method(\'validateField\',cxPropField)}}" cx-prop-field="{{cxPropField}}" cx-prop-url="{{cxPropUrl}}" cx-prop-empty-value="{{cxPropEmptyValue}}" cx-prop-toolbar="{{cxPropToolbar}}"></template> </div> <template is="if" value="{{expHandlers(anyEasyApplyCnt,\'<=\',3)}}"><template case="true"> <portal-easy-apply cx-prop-apply-details="{{cxPropApplyDetails}}" cx-prop-job-id="{{cxPropJobId}}" cx-prop-company-info="{{cxPropCompanyInfo}}"></portal-easy-apply> </template><template case="false"> <div class="crc-easyresume-apply-button"> <button class="cw-quickapply-common-btn" onclick="{{action(\'applyPop\')}}" lt-prop-title="{{getI18n(&quot;zr.cw.aply.soc&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;right&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;margin&quot; : 5, &quot;maxdisplaytime&quot;:20000}"> {{getI18n("zr.cw.aply.soc")}} </button> </div> </template></template> </div> <div class="crc-resume-progress disN">{{getI18n("zr.careers.autopopulate.success")}}</div> </div> </template>\n<style>/* $Id: $ */\n/**\nLinkedin Button Temporary code\n*/\n.cw-apply-note{\n    color: var(--grey-text2-color);\n    font-size:0.875rem\n}\n.cw-max300{\n    max-width: 300px !important;\n}\n.awli-text.blue, .awli-text.black {\n   \tline-height: 15px;\n    font-weight: 400;\n    color: #4c4c4c !important;\n    font-size: 12px;\n    padding: 0 24px;\n    width: 230px;\n    font-family: Lato,sans-serif !important;\n    margin-left: 0;\n}\n.cw-soc-apply .awli-text.blue{\n    margin-left: 17px;\n}\n.awli-text {\n    text-align: center;\n    margin-bottom: 8px;\n}\n.awli-text.blue .learn-more-link, .awli-text.black .learn-more-link {\n    text-decoration: none;\n    font-weight: bold;\n    background-color: transparent;\n    border: 0;\n    color: rgba(0,0,0,0.7);\n    font-weight: bold;\n}\n\n.cnl-smart-bg {\n    background: #ec2913;\n    border: 1px solid #ec2913;\n    width: 96% !important;\n    color: white;\n    margin-left: 5px;\n}\n.cnl-smart-bg:hover {\n    background: #ec2913;\n    border: 1px solid #ec2913;\n}\n.cw-quickapply-common-btn {\n    padding: 10px 16px;\n    border-radius: 4px;\n    font-weight: 400;\n    font-size: 1rem;\n    opacity: 1;\n    width: 230px;\n    color:var(--white-color);\n    opacity: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.cw-quickapply-common-btn,.cw-quickapply-common-btn:focus{\n\toutline: none;\n}\n.cw-quickapply-common-btn:hover{\n\topacity: .8;\n}\n.cnl-inner-scroll .crc-other-upload .lyteFileUpdBoxType .lyteFileUpdMsgWrap:hover{\n\tborder-color: #ccd4e3;\n}\n.cnl-inner-scroll .crc-easyresume-upload-wrapper .crc-other-upload .lyteFileUpdBoxType .lyteFileUpdMsgWrap:hover{\n\tborder-color: transparent;\n}\n\n@media only screen and (max-width:624px) {\n\t.cw-quickapply-common-btn{\n\t   \twidth:100%\n\t}\n\t.awli-text.blue, .awli-text.black {\n        margin: 0 auto 8px;\n    }\n}</style>',_dynamicNodes:[{type:"text",position:[1,1,0]},{type:"text",position:[1,3,1]},{type:"attr",position:[1,5,1,1]},{type:"component",position:[1,5,1,1],dynamicNodes:[]},{type:"attr",position:[1,5,3]},{type:"if",position:[1,5,3],cases:{true:{dynamicNodes:[{type:"attr",position:[1]},{type:"componentDynamic",position:[1]}]},false:{dynamicNodes:[{type:"attr",position:[1,1]},{type:"text",position:[1,1,1]}]}},default:{}},{type:"text",position:[1,7,0]}],_observedAttributes:["id","cxPropField","cxPropClass","cxPropFrom","cxPropModule","cxPropZcqa","cxPropJobId","cxPropParseFileName","cxPropApplyDetails","cxPropWrapperClass","cxPropRetry","cxPropUrl","cxPropMessage","cxPropBodyMessage","cxPropAppearance","ajaxUrl","cxPropMaxcharacter","cxPropErrorMessage","cxPropShowSize","cxPropFileIcon","isError","anyEasyApplyCnt","cxPropCompanyInfo"],data:function(){return{id:Lyte.attr("string",{default:"rec-easyresume"}),cxPropField:Lyte.attr("object"),cxPropClass:Lyte.attr("string"),cxPropFrom:Lyte.attr("string",{default:"create"}),cxPropModule:Lyte.attr("string"),cxPropZcqa:Lyte.attr("string"),cxPropJobId:Lyte.attr("string"),cxPropParseFileName:Lyte.attr("string"),cxPropApplyDetails:Lyte.attr("object"),cxPropWrapperClass:Lyte.attr("string",{default:"crc-easyresume-upload-wrapper"}),cxPropRetry:Lyte.attr("string",{default:0}),cxPropUrl:Lyte.attr("string"),cxPropMessage:Lyte.attr("string"),cxPropBodyMessage:Lyte.attr("string"),cxPropAppearance:Lyte.attr("string",{default:"Box"}),ajaxUrl:Lyte.attr("object"),cxPropMaxcharacter:Lyte.attr("number",{default:20}),cxPropErrorMessage:Lyte.attr("string"),cxPropShowSize:Lyte.attr("boolean",{default:!1}),cxPropFileIcon:Lyte.attr("boolean",{default:!1}),isError:Lyte.attr("boolean"),anyEasyApplyCnt:Lyte.attr("number",{default:0}),cxPropCompanyInfo:Lyte.attr("object",{default:{}})}},init:function(){var t=this.getData("cxPropApplyDetails"),e=0;["linkedin","login","indeed","seek"].forEach((function(a){t["apply_with_"+a]&&t["apply_with_"+a].status&&e++})),this.setData("anyEasyApplyCnt",e)},didConnect:function(){this.setData("cxPropBodyMessage",this.getData("anyEasyApplyAvail")?I18n.getMsg("zr.cw.autofill.body"):I18n.getMsg("zr.cw.autofill.single.body")),this.setData("cxPropMessage",I18n.getMsg("zr.careers.applicationform.dropresume")+"<p class='cw-apply-note'>("+I18n.getMsg("crm.optional")+")</p>")},actions:{applyPop:function(){var t=document.createElement("portal-social-profiles"),e=this;["cxPropApplyDetails","cxPropJobId","cxPropCompanyInfo"].forEach((function(a){t.setData(a,e.getData(a))})),$("body").append(t)}},getField:function(){return this.getData("cxPropField")},methods:{setParsedData:function(t,e,a){var i=t.responseText,o=this;if(i){var r=JSON.parse(i);if(r&&r.data){var n=r.data[0];moduleRecordMapping.Leads.fields.forEach((function(t){"multipicklist"===t.data_type&&o.isNotEmpty(n[t.api_name])&&!Array.isArray(n[t.api_name])&&(n[t.api_name]=n[t.api_name].replace(/, */g,",").split(","))})),document.querySelector("rec-form-component").setData("cxPropValue",n)}var s=store.peekAll("webform-attachmenttype").filterBy({api_name:this.getData("cxPropParseFileName")});if(s.length){s=s[0];var l=document.querySelector("#rec-form_"+s.id),p=l.querySelector("lyte-fileupload");l.component.getValue(),p.getData("predefinedList")&&Lyte.arrayUtils(p.getData("predefinedList"),"removeAt",0,1),Lyte.arrayUtils(p.getData("queueList"),"push",e),Lyte.arrayUtils(p.getData("ltPropFiles"),"push",e.file),l.setData("cxPropValue",[e])}var d=this.$node.querySelector("lyte-fileupload");d.setData("ltPropDisabled",!0),this.executeMethod("removeProgressBar","100%",!1,d.getData("queueList")[0]),$L(".crc-easyresume-upload-wrapper").addClass("disabled"),$L(".crc-resume-progress").show()}},showProgressBar:function(){$L(".easy-apply-progress-bar-fill").show().css("width","40%"),$L(".cw-easyapply-loading,.cw-easyapply-loading-overlay").removeClass("disN")},removeProgressBar:function(t,e,a){this.$node.querySelector("lyte-fileupload").removeUpload(a.id);var i=$L(".easy-apply-progress-bar-fill");i.css("width",t||"0%"),setTimeout((function(){i.hide()}),300),$L(".cw-easyapply-loading,.cw-easyapply-loading-overlay").addClass("disN")}}},{mixins:["career-website-mixin","rec-element-file-mixin"]}),Lyte.Component.register("portal-awli-btn",{_template:'<template tag-name="portal-awli-btn"> <div class="posR" id="zr-awli-container"> <div class="cw-awil-loading"> <div></div> <div></div> <div></div> </div> <div class="zrawli-widget" id="zrAwliWidget"></div> </div> </template>\n<style>/* $Id: $ */\n#zr-awli-container {\n    min-height: 48px;\n}\n.zrawli-widget {\n    float: none;\n    position: relative;\n    margin: 0;\n    z-index: 2;\n    background: var(--white-color);\n}\n.cw-awil-loading {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  z-index: 1;\n  margin: 0 auto;\n  left: 0;\n  right: 0;\n  scale: .5;\n}\n\n.cw-awil-loading div {\n  display: inline-block;\n  position: absolute;\n  left: 8px;\n  width: 6px;\n  background: #5588d9;\n  animation: cw-easyapply-loading 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n  top: 0;\n}\n\n.cw-awil-loading div:nth-child(1) {\n  left: 0px;\n  animation-delay: -0.24s;\n}\n\n.cw-awil-loading div:nth-child(2) {\n  left: 16px;\n  animation-delay: -0.12s;\n}\n\n.cw-awil-loading div:nth-child(3) {\n  left: 32px;\n  animation-delay: 0;\n}\n\n@keyframes cw-awil-loading {\n  0% {\n    top: 0;\n    height: 24px;\n  }\n\n  50%, 100% {\n    top: 16px;\n    height: 12px;\n  }\n}\n\n @media only screen and (max-width:624px) {\n     .crc-easyresume-apply-button #zr-awli-container{\n         right: -6px;\n     }\n     .zrawli-widget{\n          margin-left: 0;\n     }\n     \n }</style>',_dynamicNodes:[],_observedAttributes:["id","integId","apiKey"],data:function(){return{id:Lyte.attr("string"),integId:Lyte.attr("string"),apiKey:Lyte.attr("string")}},didConnect:function(){var t='<script type="IN/AwliWidget" data-company-job-code ="'+this.getData("id")+'" data-integration-context="'+this.getData("integId")+'" data-mode="BUTTON_DATA" data-callback-method ="loadAutoFillApplication" data-api-key="'+this.getData("apiKey")+'" data-allow-sign-in="true" data-size="large"><\/script>';t+='<script type="text/javascript" src="https://www.linkedin.com/mjobs/awli/awliWidget"><\/script>',$("#zrAwliWidget").html(t)}}),Lyte.Component.register("portal-easylogin-btn",{_template:'<template tag-name="portal-easylogin-btn"> <p class="awli-text blue xlarge-logged-out-text">{{getI18n("zr.cw.apply.sign",cxPropCompanyInfo.name)}}</p> <div class="smart-recruit-button" style="background:{{cxPropCompanyInfo.color}}; border:1px solid {{cxPropCompanyInfo.color}};"> <template is="if" value="{{isNotEmpty(cxPropCompanyInfo.favicon)}}"><template case="true"> <span class="smart-recruit-logo" style="background:var(--white-color) url({{cxPropCompanyInfo.favicon}}) no-repeat center center/60%"></span> </template></template> <input data-zrqa="{{cxPropZrqa}}" style="background:{{cxPropCompanyInfo.color}}" type="button" class="{{cxPropClass}}" onclick="{{action(\'easy_apply\')}}" lt-prop-title="{{getI18n(\'zr.qa.ea.tp\',cxPropCompanyInfo.name)}}" lt-prop-tooltip-class="cw-max300" lt-prop-tooltip-config="{&quot;position&quot; : &quot;right&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;margin&quot; : 5, &quot;maxdisplaytime&quot;:20000}" value="{{getI18n(&quot;zr.smartapply.applybtn.portal&quot;)}}"> </div> </template>\n<style>/* $Id: $ */\n.smart-recruit-logo {\n    background: url(/images/recruit-logo.svg) no-repeat left bottom/100%;\n    top: 1px;\n    left: 1px;\n    display: block;\n    position: relative;\n    width: 46px;\n    height: 38px;\n    flex: 0 0 46px;\n    border-radius: 24px 0 0 24px;\n}\n.smart-recruit-button {\n    margin: 0;\n    width: 230px;\n    position: relative;\n    display: flex;\n    border-radius: 24px;\n    overflow: hidden;\n}\n.smart-recruit-button:after {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 46px;\n    /* background: rgba(227, 40, 49, .8); */\n    width: 1px;\n    height: 100%;\n    display:none\n}\n.smart-recruit-button .cnl-smart-bg{\n    background:none;\n    border:none;\n/*     color:#e32831 */\n}\n\n.smart-recruit-button .cw-btn-primary.cnl-smart-bg {\n    font-size: 1rem;\n    padding: 10px 0;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    color: var(--white-color);\n}\n\n\n@media only screen and (max-width:624px) {\n\t.smart-recruit-button {\n\t   margin: 0 auto;\n\t}\n}\t</style>',_dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background:'","cxPropCompanyInfo.color","'; border:1px solid '","cxPropCompanyInfo.color","';'"]}}}},{type:"attr",position:[3,1]},{type:"if",position:[3,1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background:var(--white-color) url('","cxPropCompanyInfo.favicon","') no-repeat center center/60%'"]}}}}]}},default:{}},{type:"attr",position:[3,3],attr:{style:{name:"style",helperInfo:{name:"concat",args:["'background:'","cxPropCompanyInfo.color"]}}}}],_observedAttributes:["cxPropZrqa","cxPropClass","cxPropCompanyInfo"],data:function(){return{cxPropZrqa:Lyte.attr("string",{default:"cw-easy-apply"}),cxPropClass:Lyte.attr("string",{default:"cw-btn-primary cnl-smart-bg"}),cxPropCompanyInfo:Lyte.attr("object",{default:{}})}},actions:{easy_apply:function(){window.open("/candidateportal?source=career","portal-login","height=600,width=600")}}}),Lyte.Component.register("portal-indeed-btn",{_template:'<template tag-name="portal-indeed-btn"> <button data-zrqa="{{cxPropZrqa}}" onclick="{{action(\'indeed_apply\')}}" lt-prop-title="{{getI18n(&quot;zr.quickapply.apply.toggle&quot;,&quot;Indeed&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;right&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;margin&quot; : 5, &quot;maxdisplaytime&quot;:20000}" data-jobid="{{cxPropJobId}}" id="zr-detail-indeed-applybtn" class="{{cxPropClass}}"> <span></span> {{getI18n("zr.quickapply.apply.toggle","Indeed")}} </button> </template>\n<style>/* $Id:$ */\n.cw-indeed-btn {\n    background-color: #2769ef;\n    border: none;\n    color: var(--white-color);\n    font-size: 1rem;\n    position: relative;\n    height: 42px;\n    width: 230px;\n    cursor: pointer;\n    line-height: 41px;\n    padding: 0 16px 0 54px;\n    margin: 0 0 0;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    outline: none;\n    border-radius: 24px;\n    overflow: hidden;\n}\n\n.cw-indeed-btn span {\n    position: absolute;\n    background: var(--white-color) url(/images/smartapply_sprite.svg) no-repeat -9px -11px;\n    top: 2px;\n    left: 2px;\n    width: 46px;\n    height: 38px;\n    border-radius: 24px 0 0 24px;\n}</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3]}],_observedAttributes:["cxPropZrqa","cxPropClass","cxPropJobId","cxPropDetails"],data:function(){return{cxPropZrqa:Lyte.attr("string",{default:"cw-indeed-apply"}),cxPropClass:Lyte.attr("string",{default:"cw-indeed-btn"}),cxPropJobId:Lyte.attr("string"),cxPropDetails:Lyte.attr("object")}},actions:{indeed_apply:function(){var t=this.getData("cxPropDetails");this.openJBPop("https://secure.indeed.com/oauth/v2/authorize?hl=en&client_id=74cc6a815bfe815f62b07431b8eb0a1a83819f73ffc7f488537dea2cd6fa3cb6&response_type=code&redirect_uri="+t.indeedCallBackUrl+"&state="+t.hashKey+"&scope=job_seeker.resume.read")}}},{mixins:["career-website-mixin"]}),Lyte.Component.register("portal-seek-btn",{_template:'<template tag-name="portal-seek-btn"> <button data-jobid="{{cxPropJobId}}" onclick="{{action(\'seek_apply\')}}" lt-prop-title="{{getI18n(&quot;zr.quickapply.apply.toggle&quot;,&quot;Seek&quot;)}}" lt-prop-tooltip-config="{&quot;position&quot; : &quot;right&quot;, &quot;appearance&quot; : &quot;box&quot;, &quot;margin&quot; : 5, &quot;maxdisplaytime&quot;:20000}" id="cw-seek-apply" data-zrqa="{{cxPropZrqa}}" class="{{cxPropClass}}"> <span></span> {{getI18n(\'zr.quickapply.apply.toggle\',\'Seek\')}} </button> </template>\n<style>/* $Id: $ */\n.cw-seek-btn {\n    background-color:#e60278;\n    width: 230px;\n    border: none;\n    color:var(--white-color);\n    font-size: 1rem;\n    padding: 0 16px 0 54px;\n    line-height: 44px;\n    cursor: pointer;\n    text-overflow: ellipsis;\n  \twhite-space: nowrap;\n \toverflow: hidden;\n \tposition:relative;\n \toutline: none;\n \theight: 42px;\n \tborder-radius: 24px;\n}\n.cw-seek-btn span {\n    position: absolute;\n    background: var(--white-color) url(/images/smartapply_sprite.svg) no-repeat -68px -69px;\n    top: 2px;\n    left: 2px;\n    width: 46px;\n    height: 38px;\n    border-radius: 24px 0 0 24px;\n}\n.cw-seek-btn:hover {\n    background-color:#FD0586;\n}</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"text",position:[1,3]}],_observedAttributes:["cxPropZrqa","cxPropClass","cxPropJobId","cxPropDetails"],data:function(){return{cxPropZrqa:Lyte.attr("string",{default:"cw-seek-apply"}),cxPropClass:Lyte.attr("string",{default:"cw-seek-btn"}),cxPropJobId:Lyte.attr("string"),cxPropDetails:Lyte.attr("object")}},actions:{seek_apply:function(){var t=this.getData("cxPropDetails");this.openJBPop("https://www.seek.com.au/api/iam/oauth2/authorize?client_id=zohocorp&redirect_uri="+t.seekCallBackUrl+"&state="+t.hashKey+"&scope=r_profile_apply&response_type=code&advertiser_id="+t.seekAdvertId)}}},{mixins:["career-website-mixin"]}),Lyte.Component.register("portal-social-profiles",{_template:'<template tag-name="portal-social-profiles"> <lyte-modal id="cw-soc-prof" lt-prop-show="true" on-close="{{method(\'closeModal\')}}" lt-prop-height="auto" lt-prop-show-close-button="true" lt-prop-transition="{&quot;animation&quot;:&quot;fadeIn&quot;}" lt-prop-wrapper-class="cw-soc-apply"> <template is="registerYield" yield-name="modal"> <lyte-modal-header> {{getI18n("zr.cw.aply.soc")}} </lyte-modal-header> <lyte-modal-content> <portal-easy-apply cx-prop-apply-details="{{cxPropApplyDetails}}" cx-prop-job-id="{{cxPropJobId}}" cx-prop-company-info="{{cxPropCompanyInfo}}"></portal-easy-apply> </lyte-modal-content> </template> </lyte-modal> </template>\n<style>/* $Id: $ */\n.cw-soc-apply .lyteModal{\n\tpadding:16px 0;\n    background: var(--white-color);\n    border: 1px solid #f7f7f7;\n    border-radius: 16px;\n    box-shadow: 0 2px 9px 0 rgba(25,27,34,.25);\n    display: inline-block;\n    text-align: left;\n    min-width: 350px;\n    max-width: 350px;\n    transition-duration: .3s;\n    transition-timing-function: ease-out;\n    position: relative;\n    z-index: 10;\n}\n.cw-soc-apply .crc-easyresume-apply-button{\n\tmargin-left: 0;\n\ttext-align:center\n}\n.cw-soc-apply .zrawli-widget{\n\tmargin: 0 0 -5px 10px;\n}\n\n.cw-soc-apply .smart-recruit-button {\n    margin: 0 auto 0;\n    display: flex;\n}\n.cw-soc-apply .cw-seek-btn{\n\tmargin-top: 0;\n    left: 0;\n}\n.cw-soc-apply .lyteModalClose{\n\ttransform: scale(1.2) !important;\n    top: 20px;\n    right: 16px;\n    background-image: url(/images/cw-sprite.svg);\n    background-position: -44px -121px;\n}\n.cw-soc-apply lyte-modal-header{\n\tfont-size: 1.125rem;\n    line-height: 1.4rem;\n    font-weight: 500;\n    padding-top: 0;\n\tborder-bottom: 1px solid #f2f4f9;\n\tpadding:0 24px 16px 24px;\n}\n.cw-soc-apply lyte-modal-freeze{\n\tbackground:var(--white-color) !important;\n\topacity: 0.8 !important;\n}\n.cw-soc-apply lyte-modal-content{\n\tpadding: 32px 48px 24px;\n}\n.cw-soc-apply lyte-modal-footer {\n    padding: 24px 48px 0 48px;\n}\n.cw-soc-apply lyte-button button{\n\tborder: 1px solid var(--border-color);\n    opacity: 1;\n    font-size: 1rem;\n    line-height: 1.071rem;\n    color: var(--body-color);\n    padding: 8px 24px;\n    border-radius: 4px;\n}\n.cw-soc-apply .cw-seek-btn span{\n\t    background: var(--white-color) url(/images/smartapply_sprite.svg) no-repeat -69px -70px;\n}</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"text",position:[1,1]},{type:"componentDynamic",position:[1]},{type:"attr",position:[3,1]},{type:"componentDynamic",position:[3,1]},{type:"componentDynamic",position:[3]}]},{type:"componentDynamic",position:[1]}],_observedAttributes:["cxPropApplyDetails","cxPropJobId","cxPropCompanyInfo"],data:function(){return{cxPropApplyDetails:Lyte.attr("object"),cxPropJobId:Lyte.attr("string"),cxPropCompanyInfo:Lyte.attr("object",{default:{}})}},methods:{closeModal:function(){this.$node.querySelector("lyte-modal").setData("ltPropBindToBody",!1),this.$node.parentElement.removeChild(this.$node)}}}),Lyte.Component.register("portal-eeo-survey",{_template:'<template tag-name="portal-eeo-survey" class="portal-eeo-survey"> <div class="cw-main-title" align="center">{{getI18n(\'zr.eeo.questionnaire.portal.maintitle\')}}</div> <form onsubmit="{{action(\'submit\',event)}}"> <rec-form-component cx-prop-zcqa="eeo" cx-prop-direction="vertical" cx-prop-form-class="rec-form-container career-website-border-style" cx-prop-mandatory-type="star" cx-prop-section="{{sections}}" cx-prop-form="create"> </rec-form-component> <div class="cw-submit text-center"> <lyte-button lt-prop-color="{{brand_color}}" id="apply_button" cx-prop-zcqa="eeo-cancel" onclick="{{action(\'cancel\')}}"> <template is="registerYield" yield-name="text"> {{getI18n(\'crm.eeo.skip\')}} </template> </lyte-button> <lyte-button lt-prop-background-color="{{cxPropBrandColor}}" cx-prop-zcqa="eeo-submit" lt-prop-type="primary" onclick="{{action(\'submit\',event)}}"> <template is="registerYield" yield-name="text"> {{getI18n(\'crm.button.submit\')}} </template> </lyte-button> </div> </form> </template>',_dynamicNodes:[{type:"text",position:[1,0]},{type:"attr",position:[3]},{type:"attr",position:[3,1]},{type:"componentDynamic",position:[3,1]},{type:"attr",position:[3,3,1]},{type:"registerYield",position:[3,3,1,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3,3,1]},{type:"attr",position:[3,3,3]},{type:"registerYield",position:[3,3,3,1],dynamicNodes:[{type:"text",position:[1]}]},{type:"componentDynamic",position:[3,3,3]}],_observedAttributes:["cxPropEeoQuestions","cxPropJobId","cxQueryParams","cxPropThanksMessage","cxPropBrandColor","cxPropDirection","cxPropFrom","sections","cxPropAppearance"],data:function(){return{cxPropEeoQuestions:Lyte.attr("array"),cxPropJobId:Lyte.attr("string"),cxQueryParams:Lyte.attr("object"),cxPropThanksMessage:Lyte.attr("object"),cxPropBrandColor:Lyte.attr("string"),cxPropDirection:Lyte.attr("string"),cxPropFrom:Lyte.attr("string",{default:"create"}),sections:Lyte.attr("array"),cxPropAppearance:Lyte.attr("string")}},init:function(){var t={id:"1",display_label:I18n.getMsg("Description"),name:"description",presence:!0,system_name:"description",description:{mode:1,content:I18n.getMsg("zr.eeo.questionnaire.portal.description.mail")}},e=[];this.getData("cxPropEeoQuestions").forEach((function(t){var a={};a.id=t.id,a.field_label=t.question_text,a.ui_type=5502,a.required=!0,a.required=!0,a.visible=!0,a.view_type={create:!0,edit:!0},a.tooltip=t.tooltip,a.tooltip&&(a.tooltip.name="popUp"),t.eeo_options&&(a.pick_list_values=[],t.eeo_options.forEach((function(t){a.pick_list_values.push({id:t.id,display_value:t.option_text,actual_value:t.id})}))),e.push(a)})),t.fields=e,this.setData("sections",[t])},actions:{cancel:function(){var t=$L("career-website-step");this.cancelToDetailPage("eeo-cancel"),t.length&&t[0].setData("cxPropStep","thanks_msg")},submit:function(t){t.preventDefault();var e=this.$node,a=[],i=!0;if(this.getData("cxPropEeoQuestions").forEach((function(t){var o=e.querySelector("#rec-form_"+t.id);o.component.validate()?a.push({questionId:t.id,questionAnswer:o.component.getValue("actual_value")}):(i=!1,o.setData("cxPropErrorMessage",I18n.getMsg("zr.questionnaire.mandatory.question")))})),i)$L("#apply_button")[0].setData("ltPropDisable",!0),store.adapter.application.showHideLoadingDiv(!0),$L.post("/recruit/v2/public/Job_Openings/"+e.getData("cxPropJobId")+"/eeo",{pagename:e.getData("cxQueryParams").cxPropPageName,candidate_info:e.getData("cxQueryParams").candidate_info,answers:JSON.stringify(a),source:"object"==typeof meta?meta.source:"CareerSite"}).then((function(t,a){$L("#apply_button")[0].setData("ltPropDisable",!1),store.adapter.application.showHideLoadingDiv(!1),websiteMixin.displayThanksMessage(e.getData("cxPropThanksMessage"));var i=$L("career-website-step");i.length&&i[0].setData("cxPropStep","thanks_msg")}),(function(t){$L("#apply_button")[0].setData("ltPropDisable",!1),store.adapter.application.showHideLoadingDiv(!1),websiteMixin.showPopup({poptype:"error",heading:"<p class='sus-heading' style='text-align: center;'>"+I18n.getMsg("crm.label.ri.failure")+"</p>",headingHtml:!0,secondaryHtml:!0,secondaryMsg:I18n.getMsg("zr.candidatereview.approveerror"),buttons:[{type:"accept",text:I18n.getMsg("crm.livedesk.okay"),appearance:"primary"}],btnPosition:"center"})}));else{var o=this.$node.querySelector(".cxErrorBox");$([document.documentElement,document.body]).animate({scrollTop:$(o).offset().top-100},500)}}}},{mixins:["career-website-mixin"]}),Lyte.Component.register("career-website-step",{_template:'<template tag-name="career-website-step"> <template is="if" value="{{expHandlers(cxPropAssessment,\'||\',cxPropEEO)}}"><template case="true"> <div class="cw-wizard-progress"> <div class="cw-wiz-application cw-wizard-step"> <div class="cw-wizard-node"></div> <div class="cw-wizard-text"> <h3>{{getI18n(\'crm.api.apidashboard.Application\')}}</h3> </div> </div> <template is="if" value="{{cxPropAssessment}}"><template case="true"> <div class="cw-wiz-assessment cw-wizard-step cw-wizard-inactive"> <div class="cw-wizard-text"> <h3>{{getI18n(\'Assessment\')}}</h3> </div> <div class="cw-wizard-node"></div> </div> </template></template><template is="if" value="{{cxPropEEO}}"><template case="true"> <div class="cw-wiz-eeo cw-wizard-step cw-wizard-inactive"> <div class="cw-wizard-text"> <h3>{{getI18n(\'crm.setup.compliance\')}}</h3> </div> <div class="cw-wizard-node"></div> </div> </template></template> </div> </template></template> </template>\n<style>/* $Id: $ */\n.cw-wizard-progress {\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n    position: relative;\n    padding: 16px 0 0;\n    max-width: 640px;\n    margin: 0 auto;\n}\n.cw-wizard-progress .cw-wizard-step {\n    display: table-cell;\n    overflow: visible;\n    position: relative;\n    font-size: 14px;\n    color: var(--sub-title-color);\n}\n.cw-wizard-progress .cw-wizard-step .cw-wizard-node {\n    display: inline-block;\n    border: 1px solid var(--border-color);\n    border-radius: 100%;\n    height: 24px;\n    width: 24px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: var(--white-color);\n    padding: 0;\n    margin: 0 auto;\n    right: 0;\n    z-index: 2;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-complete:before {\n    background-color: #07c;\n}\n\n.cw-wizard-progress .cw-wizard-step:before, .cw-wizard-progress .cw-wizard-step:after {\n    content: "";\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 11px;\n    background-color: var(--background-color);\n    height: 3px;\n    width: 100%;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-complete:after {\n    background-color: #0277cc;\n    left: 60%;\n    right: 0;\n    z-index: 1;\n    width: calc(100% - 14%);\n}\n.cw-wizard-progress .cw-wizard-step:last-child:after{\n\tleft: 0%;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-in-progress:not(:last-child):before {\n\tbackground: #0277cc;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-in-progress .cw-wizard-node:before{\n\tdisplay:none\n}\n.cw-wizard-progress .cw-wizard-step .cw-wizard-node:before{\n\tcontent: "";\n\tdisplay: block;\n\tposition: absolute;\n\theight: 12px;\n\twidth: 12px;\n\tbackground: #0277cc;\n\tborder-radius: 100%;\n\tleft: 5px;\n\ttop: 5px;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-in-progress .cw-wizard-node:before{\n\tdisplay:none\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-inactive .cw-wizard-node:before {\n\tbackground: var(--white-color) !important;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-complete .cw-wizard-node {\n       border-color: var(--border-color);\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-complete:before {\n    background-color: #0277cc;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-complete .cw-wizard-node:before {\n    font-family: FontAwesome;\n    content: "";\n    position: absolute;\n    top: 1px;\n    font-weight: normal;\n    left: 4px;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-inactive.cw-wizard-circle .cw-wizard-node:before{\n\tbackground: #0277cc;\n}\n.cw-wizard-progress .cw-wizard-step.cw-wizard-complete .cw-wizard-node:after {\n    color: #0277cc;\n    border-radius: 100%;\n    display: block;\n    position: absolute;\n    left: 4px;\n    top: 4px;\n    font: normal normal normal 14px/1 FontAwesome;\n    content: "\\f00c";\n\n}\n.cw-wizard-text {\n    padding-left: 0;\n    padding-top: 26px;\n    text-align: center;\n}\n\n.cw-wizard-text p{\n    color: var(--grey-text2-color);\n    font-size: 0.8125rem;\n    line-height: 16px;\n    margin-top: 6px;\n    padding-right: 24px;\n}\n.cw-wizard-progress .cw-wizard-step:first-child:before {\n    content: "";\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 11px;\n    height: 3px;\n    width: 50%;\n    z-index: 2;\n}\n.cw-wizard-progress .cw-wizard-complete.cw-wizard-step:first-child:before{\n\twidth: 100%;\n}\n@media only screen and (max-width:624px){\n\t.cw-wizard-text{\n\t\tpadding-left: 0;\n\t\ttext-align: center;\n\t}\n\t.cw-wizard-text p{\n\t\tdisplay:none\n\t}\t\n\t.cw-wizard-text h3{\n\t\tfont-size:0.875rem\n\t}\n\t\n\t.cw-wizard-progress .cw-wizard-step .cw-wizard-node{\n\t\tleft:0;\n\t\tright: 0;\n    \tmargin: 0 auto;\n\t}\n}</style>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,3,1,0]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1,0]}]}},default:{}},{type:"attr",position:[1,4]},{type:"if",position:[1,4],cases:{true:{dynamicNodes:[{type:"text",position:[1,1,1,0]}]}},default:{}}]}},default:{}}],_observedAttributes:["cxPropAssessment","cxPropEEO","cxPropStep"],data:function(){return{cxPropAssessment:Lyte.attr("boolean"),cxPropEEO:Lyte.attr("boolean"),cxPropStep:Lyte.attr("string",{default:"application"})}},observerStep:function(t){t&&t.newValue&&$L(this.$node).find(".cw-wizard-step").each((function(e,a){if($L(a).hasClass("cw-wiz-"+t.newValue))return $L(a).removeClass("cw-wizard-inactive"),!1;$L(a).addClass("cw-wizard-complete cw-wizard-inactive")}))}.observes("cxPropStep")});